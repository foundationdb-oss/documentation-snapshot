<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Announcing The FoundationDB Record Layer</title><link href="../../assets/stylesheets/blog-74dc3ba4.css" rel="stylesheet"/><link rel="alternate" type="application/atom+xml" title="FoundationDB.org (Atom Feed)" href="https://www.foundationdb.org/feed.xml"/></head><body class="blog blog_announcing-record-layer blog_announcing-record-layer_index"><div class="wrapper wrapper--main-content"><div class="header"><a href="https://www.foundationdb.org/" alt="FoundationDB"><img src="../../assets/images/logo-96343fba.png" srcset="../../assets/images/logo-96343fba.png 1x, ../../assets/images/logo@2x-e7437ad1.png 2x, ../../assets/images/logo@3x-fc6adbb3.png 3x"/></a><nav><a href="https://forums.foundationdb.org" class="header__nav__list-item">Forums</a><a href="https://apple.github.io/foundationdb/" class="header__nav__list-item">Documentation</a><a href="../index.html" class="header__nav__list-item">Blog</a><a href="https://github.com/apple/foundationdb/releases" class="header__nav__list-item">Download</a><a href="https://www.github.com/apple/foundationdb/" class="header__nav__list-item">GitHub</a></nav></div><div class="content-container"><h1>Announcing The FoundationDB Record Layer</h1><span class="published-date">Published January 14, 2019</span><p>Today, we are excited to announce the open source release of the FoundationDB Record Layer!</p><p>From its inception, FoundationDB was designed as a highly scalable key-value store with a simple API. Layers extend the functionality of the database by adding features and data models to allow new storage access patterns. Today we are releasing the <a href="https://www.github.com/foundationdb/fdb-record-layer/">FoundationDB Record Layer</a>, which provides relational database semantics on top of FoundationDB. This layer features schema management, indexing facilities, and a rich set of query capabilities. The Record Layer is used in production at Apple to support applications and services for hundreds of millions of users.</p><h2 id="a-record-oriented-database-on-top-of-foundationdb">A record-oriented database on top of FoundationDB</h2><p>The Record Layer stores structured data, just like a relational database. Databases managed by the Record Layer support records with fields and types, an evolving schema, complex primary and secondary indexes, and declarative query execution. The Record Layer also includes features not typically found in a traditional relational database, such as support for complex nested data types, indexes on the commit-time of records, and indexes and queries that span different types of records.</p><p>Built on top of FoundationDB, the Record Layer inherits FoundationDB's strong ACID semantics, reliability, and performance in a distributed setting. The Record Layer also uses FoundationDB's transactional semantics to provide features similar to a traditional relational database, but in a distributed setting. For example, the Record Layer's secondary indexes are maintained transactionally, so they're always up-to-date with the latest changes to the data. Transactions reduce the number of bugs in application code and greatly simplify application development.</p><h2 id="built-for-scale">Built for Scale</h2><p>The Record Layer is built for a massive scale, allowing millions of discrete database instances to be managed within a single FoundationDB cluster. Its design and core feature set were built to scale to many millions of concurrent users and a diverse ecosystem of client applications each with unique data models and query access patterns.</p><p>To make operations simple, the Record Layer is stateless, so scaling up is as simple as launching more instances. It's also built from the ground up for massive multi-tenancy, encapsulating and isolating all of a tenant's state. The Record Layer can also tightly constrain and balance resource consumption across users in a predictable fashion, even in the face of a wide variety of workloads and activity. Together, these properties enable the Record Layer to scale elastically as the demands of its clients grow.</p><p>Together, the Record Layer and FoundationDB form the backbone of Apple's <a href="https://developer.apple.com/icloud/cloudkit/">CloudKit</a>. We wrote a paper describing how we built the Record Layer to run at massive scale and how CloudKit uses it. Today, you can <a href="https://www.foundationdb.org/files/record-layer-paper.pdf">read the ~~preprint~~ SIGMOD'19</a> to learn more.</p><h2 id="highlights">Highlights</h2><p>There's a lot more to say about the Record Layer. At a very high level, the Record Layer:</p><ul><li>Represents records as Protocol Buffer messages, providing industry-standard serialization and schema evolution. Features such as nested and repeated fields have first-class support.</li><li>Supports transactional secondary indexing that takes full advantage of the Protocol Buffer data model. We have a variety of advanced index types, including aggregate indexes such as grouped counts, full text indexes, ordinal rank indexes, and extensible functional indexes. Where possible, our implementations leverage advanced FoundationDB features, such as atomic mutations.</li><li>Includes a declarative query API for retrieving data and a query planner for turning those queries into concrete database operations.</li><li>Operates in a completely stateless manner. Instantiating a logical database and performing an operation can be done in milliseconds. Resource constraints allow any given operation or query to be limited. Continuations allow control to be handed back to the client to allow them to iteratively make progress in concert with all other clients.</li><li>Provides a large number of deep extension points. For example, users can build custom index maintainers and query planning features to seamlessly “plug-in” new index types. Similarly, the layer's serialization API supports client-defined encryption and compression algorithms.</li></ul><p>All of this leverages the full breadth and power of FoundationDB functionality, including strong ACID semantics and advanced features such as controllable isolation levels.</p><h2 id="get-started">Get Started</h2><p>The <a href="https://foundationdb.github.io/fdb-record-layer/GettingStarted.html">getting started guide</a> will walk you through creating a simple application that uses the Record Layer. If you'd like to dig deeper, we wrote <a href="https://foundationdb.github.io/fdb-record-layer/Overview.html">an overview</a> that goes into greater detail.</p><p>We encourage your participation in a <a href="https://forums.foundationdb.org/c/record-layer">new forum section for the Record Layer</a> where you can ask discuss development, ask questions, and get involved in the open source project. We're excited to see what the community will build on top of the Record Layer.</p><p>More information can be found at:</p><ul><li><a href="https://foundationdb.github.com/fdb-record-layer/">Project documentation</a></li><li><a href="https://github.com/foundationdb/fdb-record-layer/">Source on GitHub</a></li><li><a href="https://www.foundationdb.org/files/record-layer-paper.pdf">SIGMOD'19 paper</a></li></ul><p><em>Updated 2020/10/24:</em> Link to SIGMOD'19 paper instead or preprint.</p></div></div><div class="bottom__wrapper"><div class="wrapper"><div class="footer"><p class="footer__copyright">Copyright © 2024 Apple Inc. All rights reserved.<br/>FoundationDB and the FoundationDB logo are trademarks of Apple Inc.<br/><a href="https://www.apple.com/legal/privacy/en-ww/">Privacy Policy</a> | <a href="https://www.apple.com/legal/privacy/en-ww/cookies/">Cookies</a></p><nav><a href="https://forums.foundationdb.org" class="footer__nav__list-item">Forums</a><a href="https://apple.github.io/foundationdb/" class="footer__nav__list-item">Documentation</a><a href="../index.html" class="footer__nav__list-item">Blog</a><a href="https://github.com/apple/foundationdb/releases" class="footer__nav__list-item">Download</a><a href="https://www.github.com/apple/foundationdb" class="footer__nav__list-item">GitHub</a></nav></div></div></div></body></html>