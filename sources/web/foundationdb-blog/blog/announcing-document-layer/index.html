<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Announcing FoundationDB Document Layer</title><link href="../../assets/stylesheets/blog-74dc3ba4.css" rel="stylesheet"/><link rel="alternate" type="application/atom+xml" title="FoundationDB.org (Atom Feed)" href="https://www.foundationdb.org/feed.xml"/></head><body class="blog blog_announcing-document-layer blog_announcing-document-layer_index"><div class="wrapper wrapper--main-content"><div class="header"><a href="https://www.foundationdb.org/" alt="FoundationDB"><img src="../../assets/images/logo-96343fba.png" srcset="../../assets/images/logo-96343fba.png 1x, ../../assets/images/logo@2x-e7437ad1.png 2x, ../../assets/images/logo@3x-fc6adbb3.png 3x"/></a><nav><a href="https://forums.foundationdb.org" class="header__nav__list-item">Forums</a><a href="https://apple.github.io/foundationdb/" class="header__nav__list-item">Documentation</a><a href="../index.html" class="header__nav__list-item">Blog</a><a href="https://github.com/apple/foundationdb/releases" class="header__nav__list-item">Download</a><a href="https://www.github.com/apple/foundationdb/" class="header__nav__list-item">GitHub</a></nav></div><div class="content-container"><h1>Announcing FoundationDB Document Layer</h1><span class="published-date">Published November 29, 2018</span><p>Today we’re open sourcing the FoundationDB Document Layer, a document-oriented database that extends the core functionality of the FoundationDB key-value store.</p><p>The FoundationDB Document Layer provides the ease-of-use of a document database in the form of the familiar MongoDB® API. The Document Layer is a stateless server, backed by the scalable and transactional features of FoundationDB.</p><p>Released under an Apache v2 license, the Document Layer project is hosted on <a href="https://github.com/FoundationDB/fdb-document-layer">GitHub</a>. See the project documentation to get started, and we encourage your participation on the <a href="https://forums.foundationdb.org/c/document-layer">new forum section for the Document Layer</a>.</p><h2 id="mongodb-api-compatible">MongoDB® API Compatible</h2><p>For developers looking to use FoundationDB, the Document Layer has a familiar API, and is compatible with the MongoDB® protocol. In fact, simple applications leveraging MongoDB® can have a lift-and-shift migration to the Document Layer.</p><p>If you want to connect your application to the Document Layer, you can use any existing MongoDB® client — making it easy to get started. A discussion of the features supported by Document Layer can be found in <a href="https://foundationdb.github.io/fdb-document-layer/">the project's documentation</a>.</p><h2 id="scalable-document-storage-with-foundationdb">Scalable Document Storage with FoundationDB</h2><p>By extending FoundationDB, the Document Layer inherits key qualities of the core project — including years of testing, support for ACID transactions, and great performance. Using FoundationDB as a base for this stateless layer lets the Document Layer innovate in a number of notable ways.</p><ul><li>No write locks: write operations, even on a single document, do not take locks. Transactions in FoundationDB are optimistic (lockless) and, by storing a document as multiple key-value pairs, the Document Layer supports many parallel writers. In some cases, operations may have to retry due to conflicts; however, non-conflicting operations, including metadata operations, can proceed in parallel.</li><li>No sharding: The Document Layer does not rely on a fixed shard key to distribute data. Instead, all data partitioning and rebalancing is managed automatically by the key-value store. This design, directly inherited from FoundationDB, provides robust horizontal scalability while avoiding client-level complexity.</li><li>Easy scaling: Each running instance of the Document Layer is a stateless application, configured only with the FoundationDB cluster to which it stores data. This stateless design means that many instances of Document Layer can be put behind a load balancer, all able to handle queries from any client and for any document.</li><li>Safe defaults: By default, write operations on the Document Layer execute with full isolation and atomicity. This consistency makes it easier to correctly implement applications that handle more than one simultaneous request. Indexes are always consistent with document data. Writes are fully consistent all the time irrespective of client selected options and, similarly, reads always see strong causal consistency.</li></ul><p>Please see the documentation for more info about <a href="https://foundationdb.github.io/fdb-document-layer/architecture.html">the architecture of the Document Layer</a>.</p><h2 id="the-future-is-layers">The Future is Layers</h2><p>When we first released FoundationDB we wrote in <a href="../foundationdb-is-open-source/index.html">the original announcement</a>:</p><blockquote><p>The vision of FoundationDB is to start with a simple, powerful core and extend it through the addition of “layers”. The key-value store, which is open sourced today, is the core, focused on incorporating only features that aren’t possible to write in layers. Layers extend that core by adding features to model specific types of data and handle their access patterns.</p></blockquote><p>The FoundationDB key-value store is powerful but, as noted above, its features remain narrowly scoped to distributed transactions and stateful storage. The Document Layer takes the key-value store's focused API and uses it to model a much more complex style of data storage. Because the Document Layer exposes a new, general-purpose API we think of this as an extension to FoundationDB.</p><p>The key-value store of FoundationDB lacks a number of features you would expect of a full database system. For instance there are no indexes, no data typing, and no query engine. The Document Layer extends FoundationDB to add a number of such concepts. Take index maintenance: key-value store transactions are used to simultaneously update both a document's field and an index value that points back at the field. This is <a href="https://apple.github.io/foundationdb/simple-indexes.html">a common pattern</a> for how simple indexes can be built. As an extension to FoundationDB, Document Layer makes this pattern available to clients in a robust and reusable manner.</p><p>We could not be more excited to have the Document Layer as a community project! We're excited to see where we can take this together. Community collaboration does not need to end with the document model either — many other layers could be generally useful, written either as a library or a network server. The Document Layer should serve as a template for future layers both in design and in utility.</p><p><em>Disclaimer: MongoDB is a registered trademark of MongoDB, Inc..</em></p></div></div><div class="bottom__wrapper"><div class="wrapper"><div class="footer"><p class="footer__copyright">Copyright © 2024 Apple Inc. All rights reserved.<br/>FoundationDB and the FoundationDB logo are trademarks of Apple Inc.<br/><a href="https://www.apple.com/legal/privacy/en-ww/">Privacy Policy</a> | <a href="https://www.apple.com/legal/privacy/en-ww/cookies/">Cookies</a></p><nav><a href="https://forums.foundationdb.org" class="footer__nav__list-item">Forums</a><a href="https://apple.github.io/foundationdb/" class="footer__nav__list-item">Documentation</a><a href="../index.html" class="footer__nav__list-item">Blog</a><a href="https://github.com/apple/foundationdb/releases" class="footer__nav__list-item">Download</a><a href="https://www.github.com/apple/foundationdb" class="footer__nav__list-item">GitHub</a></nav></div></div></div></body></html>