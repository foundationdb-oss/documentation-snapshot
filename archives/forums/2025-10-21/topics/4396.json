{
  "post_stream": {
    "posts": [
      {
        "id": 13861,
        "name": "",
        "username": "highline",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/h/d6d6ee/{size}.png",
        "created_at": "2024-03-21T19:07:05.069Z",
        "cooked": "<p>A FDB cluster was unavailable, the messages info shows \u201cRecoveryStoppedTooManyOldGenerations\u201d. We tried to add the --knob_max_generations_override parameter, but the issue is still there, just the \"OldGenerations\"=\"100\" changed to \"OldGenerations\"=\"102\".</p>\n<p>Any thoughts that we can bring this cluster back to healthy?</p>\n<pre><code class=\"lang-auto\">\"messages\" : [\n                    {\n                        \"description\" : \"RecoveryStoppedTooManyOldGenerations at Thu Mar 21 18:02:31 2024\",\n                        \"name\" : \"process_error\",\n                        \"raw_log_message\" : \"\\\"Severity\\\"=\\\"40\\\", \\\"Time\\\"=\\\"1711044151.846410\\\", \\\"Type\\\"=\\\"RecoveryStoppedTooManyOldGenerations\\\", \\\"ID\\\"=\\\"0000000000000000\\\", \\\"OldGenerations\\\"=\\\"100\\\", \\\"Reason\\\"=\\\"Recovery stopped because too many recoveries have happened since the last time the cluster was fully_recovered. Set --knob_max_generations_override on your server processes to a value larger than OldGenerations to resume recovery once the underlying problem has been fixed.\\\", \\\"Backtrace\\\"=\\\"addr2line -e fdbserver.debug -p -C -f -i 0x19d19fc 0x19d11f8 0x19d12c1 0xf33cce 0xf363ff 0x6be078 0xf56503 0xf56673 0xa01890 0xa01ff3 0x9fbdf8 0x9fbfba 0x9fb2a8 0x9fb75a 0x9fb8e6 0x6be078 0x732d1e 0x6be078 0x9fb2a8 0x9f1ac3 0x9fb2a8 0x9f1f15 0x9fb2a8 0x9f2bad 0x9fb2a8 0x9f0c51 0x9fb2a8 0xa0438b 0x19212db 0x19213d5 0x7fbad0 0x1a0f3d0 0x6746e2 0x7fec95c4b083\\\", \\\"Machine\\\"=\\\"xx.xx.xx.xx:4300\\\", \\\"LogGroup\\\"=\\\"default\\\", \\\"Roles\\\"=\\\"MS\\\"\",\n                        \"time\" : 1711040000,\n                        \"type\" : \"RecoveryStoppedTooManyOldGenerations\"\n                    }\n                ],\n</code></pre>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-03-21T19:07:05.069Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 111,
        "reads": 22,
        "readers_count": 21,
        "score": 559.4,
        "yours": false,
        "topic_id": 4396,
        "topic_slug": "how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1396,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations/4396/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 13867,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2024-03-21T22:18:29.145Z",
        "cooked": "<p>Before changing the knob, you need to find out what\u2019s causing \u201ctoo many old generations\u201d (could be many different reasons). After that, fix the underlying issue and change the knob to bring your cluster back.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-03-21T22:18:53.111Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 20,
        "readers_count": 19,
        "score": 24.0,
        "yours": false,
        "topic_id": 4396,
        "topic_slug": "how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations/4396/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13868,
        "name": "",
        "username": "highline",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/h/d6d6ee/{size}.png",
        "created_at": "2024-03-21T22:33:56.825Z",
        "cooked": "<p>Is there any clue on how to find out what\u2019s causing \u201ctoo many old generations\u201d?<br>\nThere is no more message other than this one:</p>\n<pre><code class=\"lang-auto\">\"messages\" : [\n            {\n                \"description\" : \"Unable to read database configuration.\",\n                \"name\" : \"unreadable_configuration\"\n            }\n        ],\n</code></pre>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-03-21T22:34:11.327Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 20,
        "readers_count": 19,
        "score": 9.0,
        "yours": false,
        "topic_id": 4396,
        "topic_slug": "how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 454,
          "username": "jzhou",
          "name": "Jingyu Zhou",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1396,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations/4396/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13869,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2024-03-22T16:36:11.248Z",
        "cooked": "<p><code>unreadable_configuration</code> indicates problem of reading data (i.e., database configuration) from the storage servers. This could be recovery not finished (most likely), or storage server problems.</p>\n<p>You can start by checking <code>MasterRecoveryState</code> events in the logs. Find out why the state can\u2019t reach 11 (accepting commit). FYI, the complete list of states are:</p>\n<pre><code class=\"lang-auto\">RecoveryStatus {\n\treading_coordinated_state,\n\tlocking_coordinated_state,\n\tlocking_old_transaction_servers,\n\treading_transaction_system_state,\n\tconfiguration_missing,\n\tconfiguration_never_created,\n\tconfiguration_invalid,\n\trecruiting_transaction_servers,\n\tinitializing_transaction_servers,\n\trecovery_transaction,\n\twriting_coordinated_state,\n\taccepting_commits,\n\tall_logs_recruited,\n\tstorage_recovered,\n\tfully_recovered,\n</code></pre>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2024-03-22T16:36:11.248Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 20,
        "readers_count": 19,
        "score": 19.0,
        "yours": false,
        "topic_id": 4396,
        "topic_slug": "how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1396,
          "username": "highline",
          "name": "",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/h/d6d6ee/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations/4396/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      13861,
      13867,
      13868,
      13869
    ]
  },
  "timeline_lookup": [
    [
      1,
      579
    ],
    [
      4,
      578
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How to recover a FDB cluster with Recovery Stopped TooMany Old Generations",
  "id": 4396,
  "title": "How to recover a FDB cluster with Recovery Stopped TooMany Old Generations",
  "posts_count": 4,
  "created_at": "2024-03-21T19:07:05.007Z",
  "views": 217,
  "reply_count": 2,
  "like_count": 0,
  "last_posted_at": "2024-03-22T16:36:11.248Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-to-recover-a-fdb-cluster-with-recovery-stopped-toomany-old-generations",
  "category_id": 7,
  "word_count": 303,
  "deleted_at": null,
  "user_id": 1396,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4396",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "How to configure fdb",
      "id": 518,
      "title": "How to configure fdb",
      "slug": "how-to-configure-fdb",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-06-19T13:10:32.406Z",
      "last_posted_at": "2018-06-21T22:18:36.722Z",
      "bumped": true,
      "bumped_at": "2018-06-21T22:18:36.722Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 3365,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 275,
            "username": "vmanukyan",
            "name": "Vruyr Manukyan",
            "avatar_template": "/user_avatar/forums.foundationdb.org/vmanukyan/{size}/329_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Cluster stuck in recovery after crash of one node",
      "id": 3216,
      "title": "Cluster stuck in recovery after crash of one node",
      "slug": "cluster-stuck-in-recovery-after-crash-of-one-node",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2022-03-17T11:59:52.372Z",
      "last_posted_at": "2022-03-18T03:45:59.162Z",
      "bumped": true,
      "bumped_at": "2022-03-18T03:45:59.162Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 560,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1079,
            "username": "xozzslip",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/xozzslip/{size}/1298_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Troubles scaling up the cluster",
      "id": 751,
      "title": "Troubles scaling up the cluster",
      "slug": "troubles-scaling-up-the-cluster",
      "posts_count": 32,
      "reply_count": 26,
      "highest_post_number": 32,
      "image_url": null,
      "created_at": "2018-10-08T03:24:54.004Z",
      "last_posted_at": "2018-11-01T16:26:01.527Z",
      "bumped": true,
      "bumped_at": "2018-11-01T16:26:01.527Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 3747,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbserver error in a cluster with double redundancy",
      "id": 2348,
      "title": "Fdbserver error in a cluster with double redundancy",
      "slug": "fdbserver-error-in-a-cluster-with-double-redundancy",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-09-20T18:50:42.932Z",
      "last_posted_at": "2020-09-22T07:33:44.911Z",
      "bumped": true,
      "bumped_at": "2020-09-22T11:25:55.307Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 859,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 714,
            "username": "tuk",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b5ac83/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Setting up a cluster with 5 servers",
      "id": 769,
      "title": "Setting up a cluster with 5 servers",
      "slug": "setting-up-a-cluster-with-5-servers",
      "posts_count": 5,
      "reply_count": 3,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-10-15T15:44:11.291Z",
      "last_posted_at": "2018-10-15T19:20:58.342Z",
      "bumped": true,
      "bumped_at": "2018-10-15T19:20:58.342Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2223,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 264,
            "username": "dkoston",
            "name": "Dave Koston",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dkoston/{size}/264_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 454,
        "username": "jzhou",
        "name": "Jingyu Zhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "moderator": true,
        "trust_level": 2
      },
      {
        "id": 1396,
        "username": "highline",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/h/d6d6ee/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1396,
      "username": "highline",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/h/d6d6ee/{size}.png"
    },
    "last_poster": {
      "id": 454,
      "username": "jzhou",
      "name": "Jingyu Zhou",
      "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png"
    }
  },
  "bookmarks": []
}