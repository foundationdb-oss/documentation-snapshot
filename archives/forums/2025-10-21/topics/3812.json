{
  "post_stream": {
    "posts": [
      {
        "id": 12447,
        "name": "chetan",
        "username": "chetan_pg",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
        "created_at": "2023-02-17T21:10:30.029Z",
        "cooked": "<p>We are using FDB version 620 and in last 3-4 days saw increased transaction activity and following error.<br>\nCurrent configuration is as follows.</p>\n<p>Can someone please help/repy on what can be done to fix this issue i.e. may be add more transaction processes or any DB parameters to tune this issue.</p>\n<p>Currently we have 165 storage processes (max 10 on single servers) and 15 transaction process across 1 max on a server<br>\nAlso attached transaction count increased which i think causing the issue<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6.jpeg\" data-download-href=\"/uploads/short-url/kyQoLY6qOfN7IxAv1UhQz8E9TVQ.jpeg?dl=1\" title=\"Screenshot 2023-02-17 at 2.35.56 PM\" rel=\"noopener nofollow ugc\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_690x404.jpeg\" alt=\"Screenshot 2023-02-17 at 2.35.56 PM\" data-base62-sha1=\"kyQoLY6qOfN7IxAv1UhQz8E9TVQ\" width=\"690\" height=\"404\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_690x404.jpeg, https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_1035x606.jpeg 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_1380x808.jpeg 2x\" data-dominant-color=\"EEEEEE\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">Screenshot 2023-02-17 at 2.35.56 PM</span><span class=\"informations\">1920\u00d71126 110 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg>\n</div></a></div><br>\n.</p>\n<p>2023-02-17T19:12:05,565 [grpc-default-executor-219494] WARN  com.apple.foundationdb.record.provider.foundationdb.FDBDatabaseRunner - Retrying FDB Exception code=\u201c1020\u201d delay=\u201c1\u201d max_attempts=\u201c10\u201d message=\u201cTransaction not committed due to conflict with another transaction\u201d tries=\u201c0\u201d<br>\ncom.apple.foundationdb.record.provider.foundationdb.FDBExceptions$FDBStoreTransactionConflictException: Transaction not committed due to conflict with another transaction<br>\nat com.apple.foundationdb.record.provider.foundationdb.FDBExceptions.wrapException(FDBExceptions.java:144) ~[fdb-record-layer-core-pb3-2.7.74.0.jar:2.7.74.0]<br>\nat com.apple.foundationdb.record.provider.foundationdb.FDBDatabase.lambda$new$0(FDBDatabase.java:161) ~[fdb-record-layer-core-pb3-2.7.74.0.jar:2.7.74.0]<br>\nat</p>\n<p>fdb&gt; status</p>\n<p>Using cluster file `/etc/foundationdb/fdb.cluster\u2019.</p>\n<p>Configuration:<br>\nRedundancy mode        - three_datacenter<br>\nStorage engine         - ssd-2<br>\nCoordinators           - 7<br>\nExclusions             - 4 (type `exclude\u2019 for details)<br>\nDesired Proxies        - 5<br>\nDesired Resolvers      - 7<br>\nDesired Logs           - 12<br>\nUsable Regions         - 1</p>\n<p>Cluster:<br>\nFoundationDB processes - 244<br>\nZones                  - 46<br>\nMachines               - 46<br>\nMemory availability    - 6.3 GB per process on machine with least available<br>\nRetransmissions rate   - 353 Hz<br>\nFault Tolerance        - 3 machines<br>\nServer time            - 02/17/23 20:46:11</p>\n<p>Data:<br>\nReplication health     - Healthy (Repartitioning)<br>\nMoving data            - 0.329 GB<br>\nSum of key-value sizes - 1.473 TB<br>\nDisk space used        - 10.615 TB</p>\n<p>Operating space:<br>\nStorage server         - 5982.3 GB free on most full server<br>\nLog server             - 59.4 GB free on most full server</p>\n<p>Workload:<br>\nRead rate              - 82119 Hz<br>\nWrite rate             - 128599 Hz<br>\nTransactions started   - 3160 Hz<br>\nTransactions committed - 72 Hz<br>\nConflict rate          - 0 Hz</p>\n<p>Backup and DR:<br>\nRunning backups        - 0<br>\nRunning DRs            - 0</p>\n<p>Client time: 02/17/23 20:46:11</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-17T21:10:30.029Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 236,
        "reads": 28,
        "readers_count": 27,
        "score": 1185.6,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "chetan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6.jpeg",
            "internal": false,
            "reflection": false,
            "title": "901bd6ab9b12429b85114a3c84114a1de73ccfd6.jpeg",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1104,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 12449,
        "name": "Mike McMahon",
        "username": "MMcM",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
        "created_at": "2023-02-17T22:43:49.292Z",
        "cooked": "<p>Is your workload fundamentally conflicting? That is, every transaction updates the same place and your goal is to get as many of those done as possible. Or would some attention to <em>why</em> it is conflicting help? If it can be done, getting rid of the conflicts is almost certainly a better solution than just scaling up the cluster in hopes that they will complete fast enough. Because, just as you saw, that eventually reaches a point where it breaks hard.</p>\n<p>I know nothing about your workload, so it is hard to give more specific advice. You seem to be using record layer. So, if you are doing more than just save a single record per transactions, think carefully about the overlap in what you do when it happens multiple times at once.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-17T22:43:49.292Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 25,
        "readers_count": 24,
        "score": 5.0,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "Mike McMahon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 219,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12450,
        "name": "chetan",
        "username": "chetan_pg",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
        "created_at": "2023-02-17T23:35:38.993Z",
        "cooked": "<p>I don\u2019t have application details but in short application is having following issue.  We have public API that is frequently queried and it updated the lastUsedTimestamp to show that it has been queried. This API is highly co-related with our concurrent users/players</p>\n<p>I have shared the foundationDB doc on conflict resolution with application team but from infrastructure point of view if I add more transaction process (15 we have and 165 storage processes) will that help or increasing transaction server/processes will not help at this time.</p>\n<p>fdb.write(recordA, timestampA)<br>\nfdb.write(recordA, timestampB)<br>\n// first FDB write doesn\u2019t succeed/commit in time before the second call, our service retries by default.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-17T23:35:38.993Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 25,
        "readers_count": 24,
        "score": 15.0,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "chetan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1104,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12456,
        "name": "mavenraven",
        "username": "mavenraven",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mavenraven/{size}/1524_2.png",
        "created_at": "2023-02-19T19:16:28.761Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/chetan_pg\">@chetan_pg</a> Take the following with a grain of salt since I\u2019ve never actually used either FoundationDB or the record layer.</p>\n<p>FoundationDB has the concept of <a href=\"https://apple.github.io/foundationdb/developer-guide.html#atomic-operations\" rel=\"noopener nofollow ugc\">atomic operations</a>. One of the operations available is <code>max</code>. So, you could change your timestamps to be stored as unix timestamps, and use <code>max</code> to avoid the contention.</p>\n<p>The record layer may not support this, so you might have to use base API directly.</p>\n<p>Longer term, I\u2019d recommend digging into the use case and trying to decouple the querying logic from the \u201clooking\u201d logic. Hard to say the best forward for that without knowing more though.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-19T19:16:28.761Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 20,
        "readers_count": 19,
        "score": 4.0,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "mavenraven",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/developer-guide.html#atomic-operations",
            "internal": false,
            "reflection": false,
            "title": "Developer Guide \u2014 FoundationDB 7.2",
            "clicks": 1
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1104,
          "username": "chetan_pg",
          "name": "chetan",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1217,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12459,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2023-02-20T10:57:08.908Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"chetan_pg\" data-post=\"3\" data-topic=\"3812\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/48.png\" class=\"avatar\"> chetan_pg:</div>\n<blockquote>\n<p>but from infrastructure point of view if I add more transaction process (15 we have and 165 storage processes) will that help or increasing transaction server/processes will not help at this time.</p>\n</blockquote>\n</aside>\n<p>That probably won\u2019t help, no. Increasing the number of transaction processes can help with increasing the throughput of a cluster (by giving the write pipeline more drives to write to) up to a point, but that\u2019s not generally correlated with transaction conflict problems.</p>\n<p>Usually, the only way to address transaction conflict problems is to change the application, because the fundamental problem is in the data model (or in optimistic concurrency, if you prefer) and not in anything you can tune in FDB itself.</p>\n<p>If you can\u2019t change the application code to adjust its data model, the only other thing I could think of is to adjust how requests are routed so that you can serialize requests to the <code>lastUsedTimestamp</code> data outside of the system (e.g., routing requests to some queue, and then processing the queue in order, potentially with batching if that\u2019s possible).</p>\n<p>I\u2019ll say that FDB allows for two transactions writing the same keys to both succeed (last write wins), which sometimes surprises people. The <em>only</em> conflict that FDB will fail is if one transaction reads data that another transaction writes, then the reading transaction will fail. However, the Record Layer\u2019s <code>saveRecord</code> method will always read the data it is about to update (because it needs to know the existing data to ensure it updates indexes correctly, amongst other reasons), which means that any two transactions bring to save the same record at the same time will conflict. We\u2019ve given some thought to how we could change the data model to support multiple write operations on the same record (for example, how we could implement an \u201cupdate counter\u201d method on a record), but nothing is implemented.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-20T10:57:08.908Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 2,
        "reads": 20,
        "readers_count": 19,
        "score": 19.0,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12460,
        "name": "chetan",
        "username": "chetan_pg",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
        "created_at": "2023-02-20T14:26:27.177Z",
        "cooked": "<p>Alec /Maven<br>\nThanks for the reply . Alex with your reply it looks like infra capacity increase  may not solve the issue but i hope it I try to increase the transaction processes at least it will not impact adversely .</p>\n<p>I am still not clear adjust the data model means exactly what options/method are available to solve such issue (I got using external queue solution but thats outside FDB solutiion). Is any way to avoid saveRecord method and use something else instead.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-20T14:26:27.177Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 18,
        "readers_count": 17,
        "score": 18.6,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "chetan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 8,
          "username": "alloc",
          "name": "Alec Grieser",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1104,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12461,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2023-02-20T17:09:10.743Z",
        "cooked": "<p>Well, if you want to avoid using <code>saveRecord</code>, there are a few things you could do.</p>\n<ol>\n<li>The simplest would be to remove the write entirely from your frequently queried API, if you can. That would imply that you don\u2019t update <code>lastUpdateTimestamp</code>, and then you have to work around that limitation. Whether that\u2019s viable depends on how the data is used, but this option is probably simpler than any of the alternatives that keep updating this field.</li>\n<li>Next would be to create a non-Record Layer backed thing that you update instead of saving a record. It sounds like this could probably be pretty simple\u2013something like a small layer that takes a <code>Subspace</code> and writes a key with the new timestamp, possibly something like, <code>tr.mutate(MutationType.BYTES_MAX, key, Tuple.from(System.currentTimeMillis()).pack())</code>. (This will update <code>key</code> to be a tuple containing the current time stamp in milliseconds since the epoch, though you could pick whatever format you\u2019d like. The use of <code>BYTES_MAX</code> there ensures that if multiple people update the timestamp at once, the winner is whoever wrote last.) You\u2019d then need to make sure to call this update code outside of the RL code.</li>\n<li>You could use a <code>MAX_EVER</code> index within the Record Layer. This can\u2019t be used on its own, but if you have an <code>update_time</code> field on a record, you could create a <code>MAX_EVER</code> index on the field that will get updated whenever a record is updated. If you care about having this data available for both reads and writes, you could introduce a record that you insert on read, and then (in a separate transaction) clean those records up. This is pretty expensive, though, for just a \u201clast accessed timestamp\u201d field.</li>\n</ol>\n<p>You could also use FDB\u2019s versionstamp operations (exposed through the Record Layer\u2019s <code>FDBRecordVersion</code> class) to have FDB write its internal commit version into the database instead of wall clock time, if what you\u2019re really going after is a monotonically increasing value and don\u2019t care as much about wall clock time.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-20T17:09:10.743Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 3.2,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1104,
          "username": "chetan_pg",
          "name": "chetan",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12462,
        "name": "chetan",
        "username": "chetan_pg",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
        "created_at": "2023-02-20T17:33:56.101Z",
        "cooked": "<p>Alec<br>\nThanks for the reply and yes this suggestions are helpful . Thanks again . I am going to increase transaction servers to 20 from 15 meantime as code changes will take a while.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-02-20T17:33:56.101Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 3.2,
        "yours": false,
        "topic_id": 3812,
        "topic_slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
        "display_username": "chetan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1104,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/urgent-help-needed-on-transaction-not-committed-error-1020/3812/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      12447,
      12449,
      12450,
      12456,
      12459,
      12460,
      12461,
      12462
    ]
  },
  "timeline_lookup": [
    [
      1,
      977
    ],
    [
      4,
      975
    ],
    [
      5,
      974
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Urgent help needed on transaction not committed error 1020",
  "id": 3812,
  "title": "Urgent help needed on transaction not committed error 1020",
  "posts_count": 8,
  "created_at": "2023-02-17T21:10:29.957Z",
  "views": 635,
  "reply_count": 4,
  "like_count": 0,
  "last_posted_at": "2023-02-20T17:33:56.101Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "urgent-help-needed-on-transaction-not-committed-error-1020",
  "category_id": 7,
  "word_count": 1516,
  "deleted_at": null,
  "user_id": 1104,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_1024x600.jpeg",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3812",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 8,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 1920,
      "height": 1126,
      "url": "https://global.discourse-cdn.com/foundationdb/original/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6.jpeg"
    },
    {
      "max_width": 1024,
      "max_height": 1024,
      "width": 1024,
      "height": 600,
      "url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/9/901bd6ab9b12429b85114a3c84114a1de73ccfd6_2_1024x600.jpeg"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Optimizing a single large transaction ( 10,000 keys)",
      "id": 1961,
      "title": "Optimizing a single large transaction ( 10,000 keys)",
      "slug": "optimizing-a-single-large-transaction-10-000-keys",
      "posts_count": 12,
      "reply_count": 10,
      "highest_post_number": 12,
      "image_url": null,
      "created_at": "2020-02-17T13:36:55.355Z",
      "last_posted_at": "2020-02-24T11:30:42.854Z",
      "bumped": true,
      "bumped_at": "2020-02-24T11:30:42.854Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2373,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 645,
            "username": "subramaniamr",
            "name": "Subramaniam R",
            "avatar_template": "/user_avatar/forums.foundationdb.org/subramaniamr/{size}/658_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        }
      ]
    },
    {
      "fancy_title": "Technical overview of the database",
      "id": 135,
      "title": "Technical overview of the database",
      "slug": "technical-overview-of-the-database",
      "posts_count": 27,
      "reply_count": 15,
      "highest_post_number": 27,
      "image_url": null,
      "created_at": "2018-04-20T15:30:31.788Z",
      "last_posted_at": "2019-01-11T23:25:47.462Z",
      "bumped": true,
      "bumped_at": "2019-01-11T23:25:47.462Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 64,
      "views": 12958,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 96,
            "username": "idiot",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 443,
            "username": "junius",
            "name": "junius",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f08c70/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Questions regarding FDB transaction conflict on two concurrent transactions",
      "id": 2913,
      "title": "Questions regarding FDB transaction conflict on two concurrent transactions",
      "slug": "questions-regarding-fdb-transaction-conflict-on-two-concurrent-transactions",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2021-09-28T06:26:34.642Z",
      "last_posted_at": "2021-10-28T08:17:02.264Z",
      "bumped": true,
      "bumped_at": "2021-10-28T09:13:59.130Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 2185,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 550,
            "username": "ntrhieu89",
            "name": "Hieu Nguyen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "A few design-pattern + check-my-understanding questions",
      "id": 1153,
      "title": "A few design-pattern + check-my-understanding questions",
      "slug": "a-few-design-pattern-check-my-understanding-questions",
      "posts_count": 10,
      "reply_count": 6,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2019-02-19T15:18:58.329Z",
      "last_posted_at": "2019-02-21T19:51:53.686Z",
      "bumped": true,
      "bumped_at": "2019-02-21T19:51:53.686Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2273,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 519,
            "username": "JamesThompson",
            "name": "James Thompson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/c67d28/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "High rate of transaction retries with error code 1009 (Request for future version)",
      "id": 1715,
      "title": "High rate of transaction retries with error code 1009 (Request for future version)",
      "slug": "high-rate-of-transaction-retries-with-error-code-1009-request-for-future-version",
      "posts_count": 40,
      "reply_count": 12,
      "highest_post_number": 41,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/e6c4d4687de20f3c4dc13128e9c17631f370788f_2_1024x181.png",
      "created_at": "2019-11-05T12:13:50.883Z",
      "last_posted_at": "2020-04-30T06:36:21.616Z",
      "bumped": true,
      "bumped_at": "2020-04-30T07:15:53.411Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 5148,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 539,
            "username": "aikoven",
            "name": "Daniel Lytkin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aikoven/{size}/535_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 260,
            "username": "jared2501",
            "name": "Jared2501",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1104,
        "username": "chetan_pg",
        "name": "chetan",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 8,
        "username": "alloc",
        "name": "Alec Grieser",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 219,
        "username": "MMcM",
        "name": "Mike McMahon",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 1217,
        "username": "mavenraven",
        "name": "mavenraven",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mavenraven/{size}/1524_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1104,
      "username": "chetan_pg",
      "name": "chetan",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png"
    },
    "last_poster": {
      "id": 1104,
      "username": "chetan_pg",
      "name": "chetan",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/developer-guide.html#atomic-operations",
        "title": "Developer Guide \u2014 FoundationDB 7.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 1217,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}