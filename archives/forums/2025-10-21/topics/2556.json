{
  "post_stream": {
    "posts": [
      {
        "id": 9067,
        "name": "Greg Gilley",
        "username": "ggilley",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/7993a0/{size}.png",
        "created_at": "2021-02-14T18:58:34.407Z",
        "cooked": "<p>I\u2019m doing a silly thing and implementing my own full-text search for a recipe database.</p>\n<p>An index is specified by a list of fields [\u201cname\u201d, \u201ctags\u201d, \u201cingredients\u201d]</p>\n<p>The index is created by breaking the fields into words.</p>\n<p>The index is created for each book of recipes and looks something like this:</p>\n<p>/index/recipes/{bookid}/fts/chicken/{recipe-id}<br>\n/index/recipes/{bookid}/fts/beef/{recipe-id}</p>\n<p>A search is then a PrefixRange with (searchTerm, searchTerm[:-1]+strinc(searchTerm[-1]))</p>\n<p>This works well. The change I would like to make is to make the order of the of the list of fields be there order of the returned values. In other words, if \u201cchicken\u201d is found, then the first results would be where chicken was found in the \u201cname\u201d field, next the \u201ctags\u201d field, etc.</p>\n<p>I thought about prefixing the words with the index of the list of fields, but I can\u2019t figure out a way to \u201cwildcard\u201d the index when doing the PrefixRange search.</p>\n<p>Any ideas? My hope is to avoid have to do multiple queries (.e.g. /index/recipes/{bookid}/fts/name/chicken, /index/recipes/{bookid}/fts/tags/chicken)</p>\n<p>Thanks,<br>\nGreg</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-02-14T18:58:34.407Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 71,
        "reads": 21,
        "readers_count": 20,
        "score": 359.2,
        "yours": false,
        "topic_id": 2556,
        "topic_slug": "looking-for-ideas-for-index-ordering",
        "display_username": "Greg Gilley",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 721,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/looking-for-ideas-for-index-ordering/2556/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 9068,
        "name": "Xin Dong",
        "username": "dongxinEric",
        "avatar_template": "/user_avatar/forums.foundationdb.org/dongxineric/{size}/434_2.png",
        "created_at": "2021-02-16T01:27:39.437Z",
        "cooked": "<blockquote>\n<p>I thought about prefixing the words with the index of the list of fields, but I can\u2019t figure out a way to \u201cwildcard\u201d the index when doing the PrefixRange search.</p>\n</blockquote>\n<p>Have you tried suffix? Something like</p>\n<pre><code class=\"lang-auto\">/index/recipes/{bookid}/fts/chicken/filed_index_0/{recipe-id}\n/index/recipes/{bookid}/fts/chicken/filed_index_1/{recipe-id}\n</code></pre>\n<p>So a wildcard search would be a range scan of <code>(/index/recipes/{bookid}/fts/chicken/, /index/recipes/{bookid}/fts/chicken/\\0xff)</code></p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-02-16T01:27:39.437Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 18,
        "readers_count": 17,
        "score": 8.6,
        "yours": false,
        "topic_id": 2556,
        "topic_slug": "looking-for-ideas-for-index-ordering",
        "display_username": "Xin Dong",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 448,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/looking-for-ideas-for-index-ordering/2556/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9071,
        "name": "Greg Gilley",
        "username": "ggilley",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/7993a0/{size}.png",
        "created_at": "2021-02-16T03:43:27.485Z",
        "cooked": "<p>Suffix is a good idea. I have been trying appending a digit to the name itself \u2018chicken0\u2019, \u2018chicken1\u2019, which seems to work, but a separate tuple sounds better. Thanks!</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-02-16T03:43:27.485Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 18,
        "readers_count": 17,
        "score": 3.6,
        "yours": false,
        "topic_id": 2556,
        "topic_slug": "looking-for-ideas-for-index-ordering",
        "display_username": "Greg Gilley",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 448,
          "username": "dongxinEric",
          "name": "Xin Dong",
          "avatar_template": "/user_avatar/forums.foundationdb.org/dongxineric/{size}/434_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 721,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/looking-for-ideas-for-index-ordering/2556/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      9067,
      9068,
      9071
    ]
  },
  "timeline_lookup": [
    [
      1,
      1710
    ],
    [
      2,
      1709
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Looking for ideas for index ordering",
  "id": 2556,
  "title": "Looking for ideas for index ordering",
  "posts_count": 3,
  "created_at": "2021-02-14T18:58:34.337Z",
  "views": 583,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2021-02-16T03:43:27.485Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "looking-for-ideas-for-index-ordering",
  "category_id": 7,
  "word_count": 297,
  "deleted_at": null,
  "user_id": 721,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2556",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Understanding text index on fdb record layer",
      "id": 1073,
      "title": "Understanding text index on fdb record layer",
      "slug": "understanding-text-index-on-fdb-record-layer",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-01-27T02:39:23.416Z",
      "last_posted_at": "2019-01-30T00:25:55.440Z",
      "bumped": true,
      "bumped_at": "2019-01-30T00:25:55.440Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 3511,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 323,
            "username": "WolfDan",
            "name": "Wolf Dan",
            "avatar_template": "/user_avatar/forums.foundationdb.org/wolfdan/{size}/806_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Secondary indexing approaches",
      "id": 792,
      "title": "Secondary indexing approaches",
      "slug": "secondary-indexing-approaches",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2018-10-19T19:24:02.093Z",
      "last_posted_at": "2018-10-20T15:08:09.001Z",
      "bumped": true,
      "bumped_at": "2018-10-20T15:08:09.001Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2905,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 391,
            "username": "atombender",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/atombender/{size}/688_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Implementing sorting by one field and filtering by another",
      "id": 1276,
      "title": "Implementing sorting by one field and filtering by another",
      "slug": "implementing-sorting-by-one-field-and-filtering-by-another",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-04-02T12:42:34.217Z",
      "last_posted_at": "2019-04-03T08:23:30.090Z",
      "bumped": true,
      "bumped_at": "2019-04-03T08:23:30.090Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1015,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 554,
            "username": "chanon",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/a587f6/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        }
      ]
    },
    {
      "fancy_title": "Emulate secondary index",
      "id": 430,
      "title": "Emulate secondary index",
      "slug": "emulate-secondary-index",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-05-18T07:04:04.967Z",
      "last_posted_at": "2018-05-21T14:11:05.503Z",
      "bumped": true,
      "bumped_at": "2018-05-21T14:11:05.503Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1123,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 268,
            "username": "urykhy",
            "name": "Yury",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/u/7bcc69/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 190,
            "username": "itp",
            "name": "Ian Peters",
            "avatar_template": "/user_avatar/forums.foundationdb.org/itp/{size}/151_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Understanding reverse argument of getRange API",
      "id": 1687,
      "title": "Understanding reverse argument of getRange API",
      "slug": "understanding-reverse-argument-of-getrange-api",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-10-21T04:22:16.064Z",
      "last_posted_at": "2019-10-21T08:54:47.433Z",
      "bumped": true,
      "bumped_at": "2019-10-21T08:54:47.433Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 880,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 545,
            "username": "rishabh",
            "name": "Rishabh",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rishabh/{size}/540_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 721,
        "username": "ggilley",
        "name": "Greg Gilley",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/7993a0/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 448,
        "username": "dongxinEric",
        "name": "Xin Dong",
        "avatar_template": "/user_avatar/forums.foundationdb.org/dongxineric/{size}/434_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 721,
      "username": "ggilley",
      "name": "Greg Gilley",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/7993a0/{size}.png"
    },
    "last_poster": {
      "id": 721,
      "username": "ggilley",
      "name": "Greg Gilley",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/7993a0/{size}.png"
    }
  },
  "bookmarks": []
}