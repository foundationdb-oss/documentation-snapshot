{
  "post_stream": {
    "posts": [
      {
        "id": 12773,
        "name": "Peter Wood",
        "username": "pwood",
        "avatar_template": "/user_avatar/forums.foundationdb.org/pwood/{size}/1653_2.png",
        "created_at": "2023-04-26T09:25:01.325Z",
        "cooked": "<p>In Februrary I was looking at implementing encrypted FDB backups, I hit an issue which I couldn\u2019t process past - posted in the forum here.</p>\n<aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"3782\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/pwood/48/1653_2.png\" class=\"avatar\">\n    <a href=\"https://forums.foundationdb.org/t/encrypted-backups-fail-to-initialise/3782\">Encrypted backups fail to initialise</a> <a class=\"badge-category__wrapper \" href=\"/c/using-foundationdb/running-foundationdb/17\"><span data-category-id=\"17\" data-parent-category-id=\"7\" data-drop-close=\"true\" class=\"badge-category --has-parent\"><span class=\"badge-category__name\">Running FoundationDB</span></span></a>\n  </div>\n  <blockquote>\n    Hello! \nI\u2019ve been trying to get encrypted backups to work for a couple of days with no luck. I\u2019ve placed a 16 byte encryption key on all nodes of the cluster, in the same location (/mnt/fdb/backup-encryption-key.dat). \nI attempt to start the backup with: \n[root@XXX ec2-user]# fdbbackup start -d blobstore://XXX@s3.eu-west-1.amazonaws.com:443/main-dev-2023020601?bucket=XXX -s 604800 -z --encryption-key-file /mnt/fdb/backup-encryption-key.dat --log --logdir .\n\nWith no delay I receive back: \nInterna\u2026\n  </blockquote>\n</aside>\n\n<p>I\u2019ve since had some time to look at it, the actual error is being caused by</p><aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/apple/foundationdb/blob/7.1.29/fdbrpc/AsyncFileKAIO.actor.h#L652\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/blob/7.1.29/fdbrpc/AsyncFileKAIO.actor.h#L652\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/7.1.29/fdbrpc/AsyncFileKAIO.actor.h#L652\" target=\"_blank\" rel=\"noopener nofollow ugc\">apple/foundationdb/blob/7.1.29/fdbrpc/AsyncFileKAIO.actor.h#L652</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-h\">\n      <ol class=\"start lines\" start=\"642\" style=\"counter-reset: li-counter 641 ;\">\n          <li>\t\t\tcountLogicalWrites.init(LiteralStringRef(\"AsyncFile.CountLogicalWrites\"));</li>\n          <li>\t\t\tcountLogicalReads.init(LiteralStringRef(\"AsyncFile.CountLogicalReads\"));</li>\n          <li>\t\t\tif (!g_asyncFileKAIOHistogramLogger.isValid()) {</li>\n          <li>\t\t\t\tauto&amp; metrics = g_asyncFileKAIOMetrics;</li>\n          <li>\t\t\t\tmetrics.readLatencyDist = Reference&lt;Histogram&gt;(new Histogram(</li>\n          <li>\t\t\t\t    Reference&lt;HistogramRegistry&gt;(), \"AsyncFileKAIO\", \"ReadLatency\", Histogram::Unit::microseconds));</li>\n          <li>\t\t\t\tmetrics.writeLatencyDist = Reference&lt;Histogram&gt;(new Histogram(</li>\n          <li>\t\t\t\t    Reference&lt;HistogramRegistry&gt;(), \"AsyncFileKAIO\", \"WriteLatency\", Histogram::Unit::microseconds));</li>\n          <li>\t\t\t\tmetrics.syncLatencyDist = Reference&lt;Histogram&gt;(new Histogram(</li>\n          <li>\t\t\t\t    Reference&lt;HistogramRegistry&gt;(), \"AsyncFileKAIO\", \"SyncLatency\", Histogram::Unit::microseconds));</li>\n          <li class=\"selected\">\t\t\t\tg_asyncFileKAIOHistogramLogger = histogramLogger(SERVER_KNOBS-&gt;DISK_METRIC_LOGGING_INTERVAL);</li>\n          <li>\t\t\t}</li>\n          <li>\t\t}</li>\n          <li></li>\n          <li>#if KAIO_LOGGING</li>\n          <li>\t\tlogFile = nullptr;</li>\n          <li>\t\t// TODO:  Don't do this hacky investigation-specific thing</li>\n          <li>\t\tStringRef fname(filename);</li>\n          <li>\t\tif (fname.endsWith(LiteralStringRef(\".sqlite\")) || fname.endsWith(LiteralStringRef(\".sqlite-wal\"))) {</li>\n          <li>\t\t\tstd::string logFileName = basename(filename);</li>\n          <li>\t\t\twhile (logFileName.find(\"/\") != std::string::npos)</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>It appears an error occurrs while trying to load the encryption key from disk, my understanding of the code is this is executed within <code>fdbbackup</code>, rather than via RPC in <code>fdbserver</code>.</p>\n<p>Specificially the fault is caused by access to: <code>SERVER_KNOBS-&gt;DISK_METRIC_LOGGING_INTERVAL</code>.</p>\n<p>The trace shows <code>ClientKnobCollection::getServerKnobs()</code> which suggests that AsyncFileKAIO is being used in the Client (<code>fdbbackup</code>)? But the knob seems to only be present on the ServerKnobCollection?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2023-04-26T09:25:01.325Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 24,
        "reads": 23,
        "readers_count": 22,
        "score": 124.6,
        "yours": false,
        "topic_id": 3930,
        "topic_slug": "fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms",
        "display_username": "Peter Wood",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/encrypted-backups-fail-to-initialise/3782",
            "internal": true,
            "reflection": false,
            "title": "Encrypted backups fail to initialise",
            "clicks": 0
          },
          {
            "url": "https://github.com/apple/foundationdb/blob/7.1.29/fdbrpc/AsyncFileKAIO.actor.h#L652",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/AsyncFileKAIO.actor.h at 7.1.29 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1154,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms/3930/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 12785,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2023-04-27T23:34:09.370Z",
        "cooked": "<p>Try starting your <code>backup_agent</code> processes with <code>--knob_disable_posix_kernel_aio 1</code> to see if that avoids the issue.  This disables use of KAIO which should avoid initializing its metrics.</p>\n<p>Conceptually, this knob should be a <code>FLOW_KNOB</code> not a <code>SERVER_KNOB</code> but I\u2019m actually surprised that the server knobs object is not initialized as its definition is also in the fdbclient code.  Assuming the server knobs init is the issue, moving the knob to <code>flow/include/flow/Knobs.h</code> and <code>flow/Knobs.cpp</code> should fix it.</p>\n<p>I wouldn\u2019t expect that this issue is specific to encrypted backup files but rather just writing to a <code>file://</code> destination with backup, which is something I don\u2019t think is done often outside of simulation tests which run from <code>fdbserver</code> so you\u2019re the first person to find/report it.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2023-04-27T23:34:09.370Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 18,
        "readers_count": 17,
        "score": 8.6,
        "yours": false,
        "topic_id": 3930,
        "topic_slug": "fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms/3930/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12793,
        "name": "Peter Wood",
        "username": "pwood",
        "avatar_template": "/user_avatar/forums.foundationdb.org/pwood/{size}/1653_2.png",
        "created_at": "2023-05-02T09:32:07.688Z",
        "cooked": "<p>Hello!</p>\n<p>Thanks for the feedback, sorry for the delay - we\u2019ve had a public holiday in the UK.</p>\n<p>TL;DR: Adding <code>--knob_disable_posix_kernel_aio 1</code> allows the <code>fdbbackup</code> command to executed.</p>\n<p>We took the opportunity to upgrade to 7.1.31, first we replicated the issue:</p>\n<pre><code class=\"lang-auto\">[root@ip-10-1-245-241 ~]# fdbbackup start -d blobstore://REDACTED@s3.eu-west-1.amazonaws.com:443/REDACTED?bucket=REDACTED -s 604800 -z --encryption-key-file /mnt/fdb/backup-encryption-key.dat --log --logdir .\nbash: fdbbackup: command not found\n[root@ip-10-1-245-241 ~]# /opt/foundationdb/current/bin/fdbbackup start -d blobstore://REDACTED@s3.eu-west-1.amazonaws.com:443/REDACTED?bucket=REDACTED -s 604800 -z --encryption-key-file /mnt/fdb/backup-encryption-key.dat --log --logdir .\nInternal Error @ /home/foundationdb_ci/src/oOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOo/foundationdb/fdbclient/ClientKnobCollection.h 45:\n  addr2line -e fdbbackup.debug -p -C -f -i 0xe5f47d 0xd8c585 0xe1b6b4 0xe1befb 0xe0539a 0xe48af7 0xe3fdee 0xe056f4 0x62a78e 0x610684 0x64f7d1 0x600680 0x5666ad 0x550cf1 0x7fa05be6c13a\nERROR: Could not create backup container: An internal error occurred\nERROR: An error was encountered during submission\nFatal Error: Backup error\n</code></pre>\n<p>Then we tested with the knob to disable AIO:</p>\n<pre><code class=\"lang-auto\">[root@ip-10-1-245-241 ~]# /opt/foundationdb/current/bin/fdbbackup start -d blobstore://REDACTED@s3.eu-west-1.amazonaws.com:443/REDACTED?bucket=REDACTED -s 604800 -z --encryption-key-file /mnt/fdb/backup-encryption-key.dat --log --logdir . --knob_disable_posix_kernel_aio 1\nThe backup on tag `default' was successfully submitted.\n</code></pre>\n<p>Seems like the server knob may be the issue? I assume the command line argument only effects <code>fdbbackup</code>, I assume <code>backup_agent</code> and <code>fdbserver</code> will keep using AIO for actually performing the backup?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2023-05-02T09:32:53.680Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 8.2,
        "yours": false,
        "topic_id": 3930,
        "topic_slug": "fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms",
        "display_username": "Peter Wood",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1154,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms/3930/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12803,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2023-05-04T00:34:09.491Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"pwood\" data-post=\"3\" data-topic=\"3930\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/pwood/48/1653_2.png\" class=\"avatar\"> pwood:</div>\n<blockquote>\n<p><code>backup_agent</code> and <code>fdbserver</code> will keep using AIO for actually performing the backup?</p>\n</blockquote>\n</aside>\n<p>Yes, the knob is just changing the file access mode for the <code>fdbbackup</code> command and any file operations it does on backup data.  In the case of <code>start</code> it is just creating the output folder.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2023-05-04T00:34:31.127Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 15,
        "readers_count": 14,
        "score": 3.0,
        "yours": false,
        "topic_id": 3930,
        "topic_slug": "fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms/3930/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      12773,
      12785,
      12793,
      12803
    ]
  },
  "timeline_lookup": [
    [
      1,
      910
    ],
    [
      2,
      908
    ],
    [
      3,
      904
    ],
    [
      4,
      902
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "FDB Encrypted Backup bug caused by addition of AsyncFileKAIO Latency Histograms?",
  "id": 3930,
  "title": "FDB Encrypted Backup bug caused by addition of AsyncFileKAIO Latency Histograms?",
  "posts_count": 4,
  "created_at": "2023-04-26T09:25:01.257Z",
  "views": 442,
  "reply_count": 2,
  "like_count": 0,
  "last_posted_at": "2023-05-04T00:34:09.491Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "fdb-encrypted-backup-bug-caused-by-addition-of-asyncfilekaio-latency-histograms",
  "category_id": 8,
  "word_count": 590,
  "deleted_at": null,
  "user_id": 1154,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3930",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Encrypted backups fail to initialise",
      "id": 3782,
      "title": "Encrypted backups fail to initialise",
      "slug": "encrypted-backups-fail-to-initialise",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2023-02-06T15:01:07.912Z",
      "last_posted_at": "2023-02-06T15:01:07.984Z",
      "bumped": true,
      "bumped_at": "2023-02-06T15:01:07.984Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 362,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 1154,
            "username": "pwood",
            "name": "Peter Wood",
            "avatar_template": "/user_avatar/forums.foundationdb.org/pwood/{size}/1653_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "[RESOLVED?] Fdbbackup &lsquo;Platform error&rsquo; on &lsquo;file_backup_write_range&rsquo;",
      "id": 412,
      "title": "[RESOLVED?] Fdbbackup 'Platform error' on 'file_backup_write_range'",
      "slug": "resolved-fdbbackup-platform-error-on-file-backup-write-range",
      "posts_count": 9,
      "reply_count": 6,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2018-05-14T13:43:20.133Z",
      "last_posted_at": "2018-05-17T00:24:36.294Z",
      "bumped": true,
      "bumped_at": "2018-05-17T00:24:36.294Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2465,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 187,
            "username": "hiroshi",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "KAIO and EIO how are these structured?",
      "id": 487,
      "title": "KAIO and EIO how are these structured?",
      "slug": "kaio-and-eio-how-are-these-structured",
      "posts_count": 6,
      "reply_count": 4,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2018-06-05T06:52:12.306Z",
      "last_posted_at": "2018-06-06T05:01:50.761Z",
      "bumped": true,
      "bumped_at": "2018-06-06T05:01:50.761Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 973,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 235,
            "username": "wolfspider",
            "name": "Jesse Bennett",
            "avatar_template": "/user_avatar/forums.foundationdb.org/wolfspider/{size}/206_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB fdbbackup",
      "id": 1460,
      "title": "FoundationDB fdbbackup",
      "slug": "foundationdb-fdbbackup",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2019-06-17T18:54:47.516Z",
      "last_posted_at": "2019-10-09T03:07:15.974Z",
      "bumped": true,
      "bumped_at": "2019-10-09T03:07:15.974Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2461,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 579,
            "username": "approachcp",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 581,
            "username": "surprisetalk",
            "name": "Taylor Sarrafian",
            "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Backup &amp; restore performance tuning",
      "id": 2078,
      "title": "Backup & restore performance tuning",
      "slug": "backup-restore-performance-tuning",
      "posts_count": 18,
      "reply_count": 16,
      "highest_post_number": 18,
      "image_url": null,
      "created_at": "2020-04-18T06:43:29.997Z",
      "last_posted_at": "2020-05-06T09:01:50.194Z",
      "bumped": true,
      "bumped_at": "2020-05-06T09:01:50.194Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2929,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 643,
            "username": "lehu",
            "name": "Leo Hu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/lehu/{size}/995_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 1154,
        "username": "pwood",
        "name": "Peter Wood",
        "avatar_template": "/user_avatar/forums.foundationdb.org/pwood/{size}/1653_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1154,
      "username": "pwood",
      "name": "Peter Wood",
      "avatar_template": "/user_avatar/forums.foundationdb.org/pwood/{size}/1653_2.png"
    },
    "last_poster": {
      "id": 7,
      "username": "SteavedHams",
      "name": "Steve Atherton",
      "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
    }
  },
  "bookmarks": []
}