{
  "post_stream": {
    "posts": [
      {
        "id": 14895,
        "name": "",
        "username": "Anthony_Lee",
        "avatar_template": "/user_avatar/forums.foundationdb.org/anthony_lee/{size}/1946_2.png",
        "created_at": "2025-04-29T18:40:08.188Z",
        "cooked": "<p>From TigerBeetle team and Will Wilson\u2019s talks I began to know Simulation Test and the benefit of it to deterministically test complex distributed system; After searching code in fdbserver/workloads I found it is hard to see where the invariants of those specific components of FoundationDB are verified, for example, each Resolver should follow the strict order of version to process requests from CommitProxies, it should do so even after it is recruited or the key range assigned to it has been changed. In a TLogServer there are so many variables to maintain cluster durable committed version and to make recovery correct, how the correctness of the implementation are tested and verified?</p>\n<p>I know that Simulated Network and  File have introduced lots of possible events, processes or machines faults have been injected based on random seed, so the workloads have been tested in<br>\nhuge amounts of faults and interleaving of events but I can\u2019t find the code showing how and where those invariants are verified. Are they somehow indirectly verified when running some higher level workload which requires whole transaction system working correctly(e.g. SerializabilityWorkload, CycleWorkload)? If I want to see TraceEvents to understand better how components work together to maintain invariants under specific case how should I write workloads \u2013 for example, to verify some invariants of Resolver, the TLogServer mentioned above?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 1,
        "updated_at": "2025-04-29T18:50:28.713Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 22,
        "reads": 16,
        "readers_count": 15,
        "score": 113.2,
        "yours": false,
        "topic_id": 4883,
        "topic_slug": "how-do-foundationdb-simulation-tests-verify-specific-components-behaviors-are-correct-all-the-time",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1531,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-foundationdb-simulation-tests-verify-specific-components-behaviors-are-correct-all-the-time/4883/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      }
    ],
    "stream": [
      14895
    ]
  },
  "timeline_lookup": [
    [
      1,
      175
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How do FoundationDB Simulation Tests verify specific component&rsquo;s behaviors are correct all the time?",
  "id": 4883,
  "title": "How do FoundationDB Simulation Tests verify specific component's behaviors are correct all the time?",
  "posts_count": 1,
  "created_at": "2025-04-29T18:40:08.139Z",
  "views": 87,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2025-04-29T18:40:08.188Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-do-foundationdb-simulation-tests-verify-specific-components-behaviors-are-correct-all-the-time",
  "category_id": 8,
  "word_count": 225,
  "deleted_at": null,
  "user_id": 1531,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4883",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 1,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 1,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "A precise test oracle for FoundationDB simulation workloads",
      "id": 289,
      "title": "A precise test oracle for FoundationDB simulation workloads",
      "slug": "a-precise-test-oracle-for-foundationdb-simulation-workloads",
      "posts_count": 11,
      "reply_count": 7,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2018-04-27T14:04:16.394Z",
      "last_posted_at": "2018-04-30T00:17:47.601Z",
      "bumped": true,
      "bumped_at": "2018-04-30T00:20:48.970Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1249,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "FDB Simulate with fdbserver - documentation?",
      "id": 1594,
      "title": "FDB Simulate with fdbserver - documentation?",
      "slug": "fdb-simulate-with-fdbserver-documentation",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-08-26T18:23:33.098Z",
      "last_posted_at": "2019-08-26T18:42:19.426Z",
      "bumped": true,
      "bumped_at": "2019-08-26T18:42:19.426Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 818,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 596,
            "username": "JoeD",
            "name": "Joe D",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/77aa72/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Show the FDB Forums: prototyping simulation runs on Kubernetes",
      "id": 1357,
      "title": "Show the FDB Forums: prototyping simulation runs on Kubernetes",
      "slug": "show-the-fdb-forums-prototyping-simulation-runs-on-kubernetes",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-05-13T15:01:31.101Z",
      "last_posted_at": "2019-05-13T20:44:25.692Z",
      "bumped": true,
      "bumped_at": "2019-05-13T20:44:25.692Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1046,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 158,
            "username": "aseipp",
            "name": "Austin Seipp",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aseipp/{size}/124_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Systems using simulation testing",
      "id": 1593,
      "title": "Systems using simulation testing",
      "slug": "systems-using-simulation-testing",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-08-26T14:26:03.960Z",
      "last_posted_at": "2019-08-27T05:37:43.880Z",
      "bumped": true,
      "bumped_at": "2019-08-27T05:37:43.880Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1411,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 113,
            "username": "pH14",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ph14/{size}/92_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Run nightly tests before pull-request submission",
      "id": 451,
      "title": "Run nightly tests before pull-request submission",
      "slug": "run-nightly-tests-before-pull-request-submission",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-05-22T14:32:19.639Z",
      "last_posted_at": "2018-05-31T16:25:36.662Z",
      "bumped": true,
      "bumped_at": "2018-05-31T16:25:36.662Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1238,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 277,
            "username": "mghandevosya",
            "name": "Marine Ghandevosyan",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/b38774/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1531,
        "username": "Anthony_Lee",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/anthony_lee/{size}/1946_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1531,
      "username": "Anthony_Lee",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/anthony_lee/{size}/1946_2.png"
    },
    "last_poster": {
      "id": 1531,
      "username": "Anthony_Lee",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/anthony_lee/{size}/1946_2.png"
    }
  },
  "bookmarks": []
}