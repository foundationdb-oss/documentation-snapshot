{
  "post_stream": {
    "posts": [
      {
        "id": 13175,
        "name": "",
        "username": "tangerine",
        "avatar_template": "/user_avatar/forums.foundationdb.org/tangerine/{size}/1084_2.png",
        "created_at": "2023-08-18T14:46:44.021Z",
        "cooked": "<p>Hi,<br>\nI have some questions regarding backup and restore.   I run continuous backup in my cluster and it is setup to create a new snapshot every 10 days and incremental in between.   Also, I run fdbbackup expire to expire oldest snapshots and only keep 1 complete snapshot.<br>\nHere are my questions:</p>\n<ol>\n<li>\n<p>When fdbbackup expire run, what exactly are removed?   I know the older snapshot (over 10 days old) will be removed, Would it also reduce the incremental logs that are older than that snapshot version?</p>\n</li>\n<li>\n<p>When I run fdbbackup describe, here is what I see:<br>\nfdbbackup describe -d file:///var/backup_volume/backup-2023-07-25-19-46-59.778157/<br>\nURL: file:///var/backup_volume/backup-2023-07-25-19-46-59.778157/<br>\nRestorable: true<br>\nSnapshot:  startVersion=331384776002 (maxLogEnd -17.99 days)  endVersion=864058615363 (maxLogEnd -11.82 days)  totalBytes=615751308  restorable=false  expiredPct=100.00<br>\nSnapshot:  startVersion=867540128148 (maxLogEnd -11.78 days)  endVersion=1728013314717 (maxLogEnd -1.82 days)  totalBytes=652005925  restorable=true  expiredPct=0.00<br>\nSnapshotBytes: 1267757233<br>\nExpiredEndVersion:       864047446682 (maxLogEnd -11.82 days)<br>\nUnreliableEndVersion:    864047446682 (maxLogEnd -11.82 days)<br>\nMinLogBeginVersion:      864047446682 (maxLogEnd -11.82 days)<br>\nContiguousLogEndVersion: 1885599736718 (maxLogEnd -0.00 days)<br>\nMaxLogEndVersion:        1885599736718 (maxLogEnd -0.00 days)<br>\nMinRestorableVersion:    1728013314717 (maxLogEnd -1.82 days)<br>\nMaxRestorableVersion:    1885599736717 (maxLogEnd -0.00 days)</p>\n</li>\n</ol>\n<p>The first snapshot with startVersion=331384776002, it has a restoreable=false, is that a incremental?<br>\nThe second snapshot with startVersion=867540128148, that\u2019s the most latest complete snapshot with restorable =true, right?<br>\nSo, if I need to restore to the latest, it will take the snapshot of the second one (startversion=867540128148) + any incremental logs? And this is a full set from beginning up to the MaxResorableVersion?</p>\n<ol start=\"3\">\n<li>\n<p>What exactly is version means here?  Is it a state of time of the DB at a particular timepoints?  ie, if restore to a particular version, I will get all the data up to that timepoints inside the DB no matter how old the data would have been?  Thus, still a complete set up to that time point, right?</p>\n</li>\n<li>\n<p>Based on 3, the MinRestoreableVersion is also a point in time where the DB is at, and when restoring, it is just incremental to the MaxRestoreableVersion to get it up to date to that time point, is that correct?</p>\n</li>\n<li>\n<p>What is expirePCt means?   The first snapshot (startversion=3313847776002) has a 100 expirePct and its latest version is smaller then the MinRestorableVersion, would it ever get purged when running fdbbackup expire command with a version that\u2019s based on the current MaxRestorableVersion?</p>\n</li>\n</ol>\n<p>Thanks for explaining.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2023-08-18T14:58:24.935Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 27,
        "reads": 21,
        "readers_count": 20,
        "score": 139.2,
        "yours": false,
        "topic_id": 4112,
        "topic_slug": "fdbbackup-version-and-snapshot-and-their-relationship-to-restore",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 890,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdbbackup-version-and-snapshot-and-their-relationship-to-restore/4112/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 14789,
        "name": "1412904892",
        "username": "1412904892",
        "avatar_template": "/user_avatar/forums.foundationdb.org/1412904892/{size}/1869_2.png",
        "created_at": "2025-04-01T06:53:55.615Z",
        "cooked": "<p>I have this question too, but if I do fdbrestore, the MaxRestoreableVersion will be udpated</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2025-04-01T06:53:55.615Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 6,
        "readers_count": 5,
        "score": 1.2,
        "yours": false,
        "topic_id": 4112,
        "topic_slug": "fdbbackup-version-and-snapshot-and-their-relationship-to-restore",
        "display_username": "1412904892",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1483,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdbbackup-version-and-snapshot-and-their-relationship-to-restore/4112/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      13175,
      14789
    ]
  },
  "timeline_lookup": [
    [
      1,
      795
    ],
    [
      2,
      204
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Fdbbackup version and snapshot and their relationship to restore",
  "id": 4112,
  "title": "Fdbbackup version and snapshot and their relationship to restore",
  "posts_count": 2,
  "created_at": "2023-08-18T14:46:43.937Z",
  "views": 225,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2025-04-01T06:53:55.615Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "fdbbackup-version-and-snapshot-and-their-relationship-to-restore",
  "category_id": 7,
  "word_count": 437,
  "deleted_at": null,
  "user_id": 890,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4112",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 2,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Why are most of my backup snapshots not &ldquo;restorable&rdquo;?",
      "id": 3014,
      "title": "Why are most of my backup snapshots not \"restorable\"?",
      "slug": "why-are-most-of-my-backup-snapshots-not-restorable",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2021-11-17T00:36:44.983Z",
      "last_posted_at": "2021-11-23T20:48:38.750Z",
      "bumped": true,
      "bumped_at": "2021-11-23T20:48:38.750Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 795,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 988,
            "username": "funkypenguin",
            "name": "David Young",
            "avatar_template": "/user_avatar/forums.foundationdb.org/funkypenguin/{size}/1153_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Question about backups: how far back in versions can restores function?",
      "id": 2435,
      "title": "Question about backups: how far back in versions can restores function?",
      "slug": "question-about-backups-how-far-back-in-versions-can-restores-function",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2020-11-12T22:39:35.088Z",
      "last_posted_at": "2020-11-13T02:43:30.200Z",
      "bumped": true,
      "bumped_at": "2020-11-13T02:43:30.200Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 467,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 484,
            "username": "ksnavely",
            "name": "Kyle Snavely",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ksnavely/{size}/483_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbbackup describe &ndash;version_timestamp what to expect from the output?",
      "id": 3190,
      "title": "Fdbbackup describe --version_timestamp what to expect from the output?",
      "slug": "fdbbackup-describe-version-timestamp-what-to-expect-from-the-output",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2022-02-22T16:17:44.065Z",
      "last_posted_at": "2022-02-22T16:17:44.131Z",
      "bumped": true,
      "bumped_at": "2022-02-22T16:17:44.131Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 440,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 890,
            "username": "tangerine",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/tangerine/{size}/1084_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbbackup expire with blobstore returning error, not deleting from S3",
      "id": 1131,
      "title": "Fdbbackup expire with blobstore returning error, not deleting from S3",
      "slug": "fdbbackup-expire-with-blobstore-returning-error-not-deleting-from-s3",
      "posts_count": 19,
      "reply_count": 11,
      "highest_post_number": 19,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/dc9b21297880928293b7194125f1889c26a4f70a_2_1024x579.png",
      "created_at": "2019-02-12T22:55:17.346Z",
      "last_posted_at": "2020-01-24T13:25:04.572Z",
      "bumped": true,
      "bumped_at": "2020-01-24T13:25:04.572Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 2227,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 490,
            "username": "rjenkins",
            "name": "Ray Jenkins",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rjenkins/{size}/487_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 634,
            "username": "somu",
            "name": "somasundaram",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ce73a5/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "About fdbbackup restorable",
      "id": 3251,
      "title": "About fdbbackup restorable",
      "slug": "about-fdbbackup-restorable",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2022-04-06T09:27:31.319Z",
      "last_posted_at": "2022-04-07T01:20:43.715Z",
      "bumped": true,
      "bumped_at": "2022-04-07T01:20:43.715Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings",
        "operator",
        "fdbsummit"
      ],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 517,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 1022,
            "username": "liyyue",
            "name": "liyyue",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 890,
        "username": "tangerine",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/tangerine/{size}/1084_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 1483,
        "username": "1412904892",
        "name": "1412904892",
        "avatar_template": "/user_avatar/forums.foundationdb.org/1412904892/{size}/1869_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 890,
      "username": "tangerine",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/tangerine/{size}/1084_2.png"
    },
    "last_poster": {
      "id": 1483,
      "username": "1412904892",
      "name": "1412904892",
      "avatar_template": "/user_avatar/forums.foundationdb.org/1412904892/{size}/1869_2.png"
    }
  },
  "bookmarks": []
}