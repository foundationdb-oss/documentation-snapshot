{
  "post_stream": {
    "posts": [
      {
        "id": 9132,
        "name": "dandan ogni",
        "username": "dandanogni",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/bbce88/{size}.png",
        "created_at": "2021-03-03T08:42:49.124Z",
        "cooked": "<p>Hi,<br>\nIs it possible to have multiple Foundationdb servers on a single machine?<br>\n(without simulating another machine in any way)</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2021-03-03T08:42:49.124Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 418,
        "reads": 30,
        "readers_count": 29,
        "score": 2086.0,
        "yours": false,
        "topic_id": 2596,
        "topic_slug": "multiple-servers-on-a-single-machine",
        "display_username": "dandan ogni",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 851,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/multiple-servers-on-a-single-machine/2596/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 9133,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2021-03-03T09:21:03.311Z",
        "cooked": "<p>If by \u201cserver\u201d you mean \u201cprocesses\u201d (or nodes) of the same cluster, yes you definitely can. If by \u201cserver\u201d you mean logically separate \u201cclusters\u201d (or databases)\u2026 yes you can also do it!</p>\n<ul>\n<li>\n<p><strong>multiple nodes belonging to the same cluster and assigned to the same \u201cmachine\u201d logically:</strong> simply add new sections in the foundationdb.conf with different ports (4500, 4501, 4502, \u2026). This is the most common way to use all the local resources (cpu cores + disk) of a host. See <a href=\"https://apple.github.io/foundationdb/configuration.html#foundationdb-conf\" rel=\"noopener nofollow ugc\">the configuration file documentation</a> for how it works.</p>\n</li>\n<li>\n<p><strong>multiple nodes belonging to the same cluster but assigned to different \u201cmachines\u201d logically</strong>. Same as above, but change the <code>locality_machineid</code> of different sections.</p>\n<ul>\n<li>Under the hood, the cluster doesn\u2019t <em>know</em> they run on the same host, so it could decide to put the only two replicas of some chunk of data one the same physical hardware (or even disk drive!), which would produce data losses if it goes down!</li>\n<li>This is only if you are testing to learn how stuff works on you local dev host, or a last resort if you ABSOLUTELY need to temporarily have a quorum of machines while doing unplanned live rocket surgery on a production cluster. DON\u2019T DO IT! (unless you <em>have</em> to).</li>\n</ul>\n</li>\n<li>\n<p><strong>multiple separate clusters sharing the same hardware hosts</strong>: for nodes to belong to the same cluster, they need to use the same <code>fdb.cluster</code> file. If you create multiple sets of cluster files, with for example <code>A.cluster</code> referencing processes with ports in the range 450X, and a B.cluster file pointing to processes with ports in the range 451X, and then in the same foundationdb.conf file of your host, you define for example 4 sections in two pairs: ports 4501, 4502 pointing to A.cluster, and ports 4511 and 4512 pointing to B.cluster. The two pairs of nodes will belong to two different clusters, and never see each other, even though they live on the same host.</p>\n<ul>\n<li>You could use this if you want to maximize the utilization of limited hardware while having two logically separate clusters. But then if a host fails, both clusters are impacted at the same time. So it\u2019s ok to strongly compartmentalize data, but not that great for fault tolerance.</li>\n</ul>\n</li>\n</ul>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2021-03-03T09:22:53.304Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 22,
        "reads": 30,
        "readers_count": 29,
        "score": 116.0,
        "yours": false,
        "topic_id": 2596,
        "topic_slug": "multiple-servers-on-a-single-machine",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#foundationdb-conf",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 6.2",
            "clicks": 29
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/multiple-servers-on-a-single-machine/2596/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      9132,
      9133
    ]
  },
  "timeline_lookup": [
    [
      1,
      1694
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Multiple servers on a single machine",
  "id": 2596,
  "title": "Multiple servers on a single machine",
  "posts_count": 2,
  "created_at": "2021-03-03T08:42:49.061Z",
  "views": 949,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2021-03-03T09:21:03.311Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "multiple-servers-on-a-single-machine",
  "category_id": 7,
  "word_count": 405,
  "deleted_at": null,
  "user_id": 851,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2596",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 2,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Unable to fake multiple &ldquo;machine_id&rdquo; on the same host for testing",
      "id": 970,
      "title": "Unable to fake multiple \"machine_id\" on the same host for testing",
      "slug": "unable-to-fake-multiple-machine-id-on-the-same-host-for-testing",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2018-12-21T18:38:14.904Z",
      "last_posted_at": "2018-12-21T22:34:28.427Z",
      "bumped": true,
      "bumped_at": "2018-12-21T22:34:28.427Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1358,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "How to spread data across two disks?",
      "id": 2905,
      "title": "How to spread data across two disks?",
      "slug": "how-to-spread-data-across-two-disks",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2021-09-22T20:54:46.557Z",
      "last_posted_at": "2021-09-28T15:40:44.287Z",
      "bumped": true,
      "bumped_at": "2021-09-28T15:40:44.287Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 544,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1003,
            "username": "nisman",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/7ba0ec/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 41,
            "username": "amirouche",
            "name": "Amirouche",
            "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Deploying storage-only servers",
      "id": 1353,
      "title": "Deploying storage-only servers",
      "slug": "deploying-storage-only-servers",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2019-05-08T21:20:55.380Z",
      "last_posted_at": "2019-05-10T18:22:19.831Z",
      "bumped": true,
      "bumped_at": "2019-05-10T18:22:19.831Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 678,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 17,
            "username": "david.youngworth",
            "name": "David Youngworth",
            "avatar_template": "/user_avatar/forums.foundationdb.org/david.youngworth/{size}/376_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Setting up a cluster with 5 servers",
      "id": 769,
      "title": "Setting up a cluster with 5 servers",
      "slug": "setting-up-a-cluster-with-5-servers",
      "posts_count": 5,
      "reply_count": 3,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-10-15T15:44:11.291Z",
      "last_posted_at": "2018-10-15T19:20:58.342Z",
      "bumped": true,
      "bumped_at": "2018-10-15T19:20:58.342Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2223,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 264,
            "username": "dkoston",
            "name": "Dave Koston",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dkoston/{size}/264_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Production optimizations",
      "id": 601,
      "title": "Production optimizations",
      "slug": "production-optimizations",
      "posts_count": 21,
      "reply_count": 14,
      "highest_post_number": 21,
      "image_url": null,
      "created_at": "2018-07-30T21:18:56.894Z",
      "last_posted_at": "2018-08-15T04:47:23.743Z",
      "bumped": true,
      "bumped_at": "2018-08-15T04:47:23.743Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 6473,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 53,
        "username": "KrzysFR",
        "name": "Christophe Chevalier",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 851,
        "username": "dandanogni",
        "name": "dandan ogni",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/bbce88/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 851,
      "username": "dandanogni",
      "name": "dandan ogni",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/bbce88/{size}.png"
    },
    "last_poster": {
      "id": 53,
      "username": "KrzysFR",
      "name": "Christophe Chevalier",
      "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#foundationdb-conf",
        "title": "Configuration \u2014 FoundationDB 6.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 29,
        "user_id": 53,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}