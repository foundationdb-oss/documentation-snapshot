{
  "post_stream": {
    "posts": [
      {
        "id": 7531,
        "name": "Shunbo Shi",
        "username": "ssb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png",
        "created_at": "2020-07-07T09:35:29.875Z",
        "cooked": "<p>Hi, i am testing a double memory fdb cluster on 2 nodes(172.16.9.186, 178.104.163.99), node 178.104.163.99 have 1 hdd disk,  node 172.16.9.186 have 2 hdd disks.</p>\n<p>the foundationdb version is 5.2.5.</p>\n<p>the cluster database status change to be unavailable after deleting one disk from 172.16.9.186.<br>\n(delete disk by cmd: echo 1 &gt; /sys/block/sdb/device/delete,   disk scsiid is 6000c29b458680dc333dad5910de37e7)</p>\n<p>after remove the fdbserver processes related to the deleted disk from foundationdb.conf, the cluster change to be available.</p>\n<p>what happend when the cluster is unavailible?</p>\n<p>foundationdb.conf in 172.16.9.186 is :</p>\n<blockquote>\n<p>[fdbserver.4500]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4501]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4502]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4503]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4505]<br>\nclass = transaction<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/journal/$ID</p>\n<p>[fdbserver.4506]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4507]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/$ID</p>\n<p>[fdbserver.4510]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n<p>[fdbserver.4511]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n<p>[fdbserver.4512]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n<p>[fdbserver.4513]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n<p>[fdbserver.4515]<br>\nclass = transaction<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/journal/$ID</p>\n<p>[fdbserver.4516]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n<p>[fdbserver.4517]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/$ID</p>\n</blockquote>\n<p>foundationdb.conf in 178.104.163.99 is :</p>\n<blockquote>\n<p>[fdbserver.4500]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[fdbserver.4501]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[fdbserver.4502]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[fdbserver.4503]<br>\nclass = storage<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[fdbserver.4505]<br>\nclass = transaction<br>\ndatadir = /var/lib/foundationdb/journal/$ID</p>\n<p>[fdbserver.4506]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[fdbserver.4507]<br>\nclass = stateless<br>\ndatadir = /var/lib/foundationdb/data/$ID</p>\n<p>[backup_agent]<br>\ncommand = /usr/lib/foundationdb/backup_agent/backup_agent<br>\nlogdir = /var/log/foundationdb</p>\n</blockquote>\n<p>after delete one disk on 172.16.9.186, the fdb cluster status is :</p>\n<blockquote>\n<p>[root@ssb-workspace ~]# fdbcli --exec \u201cstatus details\u201d<br>\nUsing cluster file `/etc/foundationdb/fdb.cluster\u2019.</p>\n<p>Initializing new transaction servers and recovering transaction logs.</p>\n</blockquote>\n<blockquote>\n<p>{<br>\n\u201cclient\u201d : {<br>\n\u201ccluster_file\u201d : {<br>\n\u201cpath\u201d : \u201c/etc/foundationdb/fdb.cluster\u201d,<br>\n\u201cup_to_date\u201d : true<br>\n},<br>\n\u201ccoordinators\u201d : {<br>\n\u201ccoordinators\u201d : [<br>\n{<br>\n\u201caddress\u201d : \u201c178.104.163.99:4500\u201d,<br>\n\u201creachable\u201d : true<br>\n}<br>\n],<br>\n\u201cquorum_reachable\u201d : true<br>\n},<br>\n\u201cdatabase_status\u201d : {<br>\n\u201cavailable\u201d : false,<br>\n\u201chealthy\u201d : false<br>\n},<br>\n\u201cmessages\u201d : [<br>\n],<br>\n\u201ctimestamp\u201d : 1594112767<br>\n},<br>\n\u201ccluster\u201d : {<br>\n\u201cclients\u201d : {<br>\n\u201ccount\u201d : 0<br>\n},<br>\n\u201ccluster_controller_timestamp\u201d : 1594112772,<br>\n\u201cgeneration\u201d : 4975,<br>\n\u201cincompatible_connections\u201d : [<br>\n],<br>\n\u201clayers\u201d : {<br>\n\u201c_error\u201d : \u201cconfigurationMissing\u201d,<br>\n\u201c_valid\u201d : false<br>\n},<br>\n\u201cmachines\u201d : {<br>\n\u201cae5132ed0959f5fbd16edad8584e03ae\u201d : {<br>\n\u201caddress\u201d : \u201c178.104.163.99\u201d,<br>\n\u201ccontributing_workers\u201d : 7,<br>\n\u201ccpu\u201d : {<br>\n\u201clogical_core_utilization\u201d : 0.034062059379406213<br>\n},<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cprocessid\u201d : \u201c077beda5c638bb83effae78e30222afc\u201d,<br>\n\u201czoneid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201ccommitted_bytes\u201d : 1444225024,<br>\n\u201cfree_bytes\u201d : 2689769472,<br>\n\u201ctotal_bytes\u201d : 4133994496<br>\n},<br>\n\u201cnetwork\u201d : {<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.58364800000000006<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 1.30023<br>\n},<br>\n\u201ctcp_segments_retransmitted\u201d : {<br>\n\u201chz\u201d : 3.1999680003199971<br>\n}<br>\n}<br>\n},<br>\n\u201ce91cc7a7e3749709c3d606dc1c28774b\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186\u201d,<br>\n\u201ccontributing_workers\u201d : 14,<br>\n\u201ccpu\u201d : {<br>\n\u201clogical_core_utilization\u201d : 1<br>\n},<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201c9ba9f030e1e76f850524a7dc84046526\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201ccommitted_bytes\u201d : 788647936,<br>\n\u201cfree_bytes\u201d : 1139707904,<br>\n\u201ctotal_bytes\u201d : 1928355840<br>\n},<br>\n\u201cnetwork\u201d : {<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 1.4523699999999999<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.58311400000000002<br>\n},<br>\n\u201ctcp_segments_retransmitted\u201d : {<br>\n\u201chz\u201d : 0<br>\n}<br>\n}<br>\n}<br>\n},<br>\n\u201cmessages\u201d : [<br>\n{<br>\n\u201cdescription\u201d : \u201cUnable to read database configuration.\u201d,<br>\n\u201cname\u201d : \u201cunreadable_configuration\u201d<br>\n}<br>\n],<br>\n\u201cprocesses\u201d : {<br>\n\u201c077beda5c638bb83effae78e30222afc\u201d : {<br>\n\u201caddress\u201d : \u201c178.104.163.99:4500\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/data/4500 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=auto:4500 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.015684443155568446<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0.011399886001139888,<br>\n\u201cfree_bytes\u201d : 56330371072,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 23163,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 94463066112,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 1778556,<br>\n\u201chz\u201d : 5.9999400005999943,<br>\n\u201csectors\u201d : 1880<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cprocessid\u201d : \u201c077beda5c638bb83effae78e30222afc\u201d,<br>\n\u201czoneid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 786547273,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 621899776<br>\n},<br>\n\u201cmessages\u201d : [<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 22,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.060538600000000005<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.0421932<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 92113.600000000006,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u2026<br>\n\u2026<br>\n\u2026<br>\n\u201c9ce32d5522c4689d511a80848c91c427\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186:4502\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/4502 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=172.16.9.186:4502 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.013561985966497964<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0,<br>\n\u201cfree_bytes\u201d : 22780743680,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 3779,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 24173232128,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 9197,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201c9ce32d5522c4689d511a80848c91c427\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 365362614,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 301342720<br>\n},<br>\n\u201cmessages\u201d : [<br>\n{<br>\n\u201cdescription\u201d : \u201cStorageServerFailed: io_error at Tue Jul  7 17:05:25 2020\u201d,<br>\n\u201cname\u201d : \u201cio_error\u201d,<br>\n\u201craw_log_message\u201d : \u201c&lt;Event Severity=\"40\" Time=\"1594112725.845479\" Type=\"StorageServerFailed\" Machine=\"172.16.9.186:4502\" ID=\"261ebd9150b89020\" Reason=\"Error\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" logGroup=\"default\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x12abcc4 0x12aad32 0x9be387 0x9beb71 0x9bed34 0x9b17cb 0x9b1af7 0x476d89 0x9bc62c 0x9bc9c8 0x446628 0x446967 0x476d89 0x9b15b3 0x9b761d 0x446628 0x446967 0x476d89 0x92e9c8 0x92ef27 0x476d89 0x9123d3 0x476d89 0x1257e2c 0x125681b 0x1256d07 0x1256155 0x476d89 0x90e202 0x476d89 0x5d0a43 0x5d0de4 0x476d89 0x56e97d 0x476d89 0x813928 0x11bf7b9 0x11bfa05 0x47a2a0 0x1281d25 0x43178d 0x7f957d215505\"/&gt;\\r\\n latestError=\"1\"/&gt;\\r\\n\u201d,<br>\n\u201ctime\u201d : 1594112725.845479,<br>\n\u201ctype\u201d : \u201cStorageServerFailed\u201d<br>\n}<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 12,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.031778300000000002<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.0125194<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 591.19500000000005,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u201ca322d46ece5bc1327a39a226a98ebb38\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186:4512\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/4512 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=172.16.9.186:4512 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.0057225138743062847<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0,<br>\n\u201cfree_bytes\u201d : 17619632128,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 6250,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 18888736768,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 9268,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201ca322d46ece5bc1327a39a226a98ebb38\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 365359981,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 337129472<br>\n},<br>\n\u201cmessages\u201d : [<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 12,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.032009599999999999<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.0126938<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 594.12699999999995,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u201cb75f49ec6b59c09986da9aea260f6b8b\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186:4505\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201ctransaction\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=transaction --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/journal/4505 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=172.16.9.186:4505 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.01111080009517088<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0,<br>\n\u201cfree_bytes\u201d : 1944702976,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 655,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 2079145984,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 4069,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201cb75f49ec6b59c09986da9aea260f6b8b\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 365292982,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 350474240<br>\n},<br>\n\u201cmessages\u201d : [<br>\n{<br>\n\u201cdescription\u201d : \u201cSharedTLogFailed: io_error at Tue Jul  7 17:06:06 2020\u201d,<br>\n\u201cname\u201d : \u201cio_error\u201d,<br>\n\u201craw_log_message\u201d : \u201c&lt;Event Severity=\"40\" Time=\"1594112766.945861\" Type=\"SharedTLogFailed\" Machine=\"172.16.9.186:4505\" ID=\"cdda6e7738d4529e\" Reason=\"Error\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" logGroup=\"default\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x12abcc4 0x12aad32 0x9be387 0x9beb71 0x9bed34 0x9b17cb 0x9b695e 0x9cb158 0x9cb8f6 0x4d825c 0x11906e8 0x1190939 0x47a2a0 0x1281d25 0x43178d 0x7fe249633505\"/&gt;\\r\\n latestError=\"1\"/&gt;\\r\\n\u201d,<br>\n\u201ctime\u201d : 1594112766.9458611,<br>\n\u201ctype\u201d : \u201cSharedTLogFailed\u201d<br>\n}<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 20,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.047868500000000001<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.017444300000000003<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 591.25199999999995,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u201cb9d1c4d99e567c534776e5be00601994\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186:4503\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/data/4503 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=172.16.9.186:4503 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.0060274996054647612<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0,<br>\n\u201cfree_bytes\u201d : 22780743680,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 3779,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 24173232128,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 9197,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201cb9d1c4d99e567c534776e5be00601994\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 365363200,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 304640000<br>\n},<br>\n\u201cmessages\u201d : [<br>\n{<br>\n\u201cdescription\u201d : \u201cStorageServerFailed: io_error at Tue Jul  7 17:05:25 2020\u201d,<br>\n\u201cname\u201d : \u201cio_error\u201d,<br>\n\u201craw_log_message\u201d : \u201c&lt;Event Severity=\"40\" Time=\"1594112725.854921\" Type=\"StorageServerFailed\" Machine=\"172.16.9.186:4503\" ID=\"a72091b48a5b73c8\" Reason=\"Error\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" logGroup=\"default\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x12abcc4 0x12aad32 0x9be387 0x9beb71 0x9bed34 0x9b17cb 0x9b1af7 0x476d89 0x9bc62c 0x9bc9c8 0x446628 0x446967 0x476d89 0x9b15b3 0x9b761d 0x446628 0x446967 0x476d89 0x92e9c8 0x92ef27 0x476d89 0x9123d3 0x476d89 0x1257e2c 0x125681b 0x1256d07 0x1256155 0x476d89 0x90e202 0x476d89 0x5d0a43 0x5d0de4 0x476d89 0x56e97d 0x476d89 0x813928 0x11bf7b9 0x11bfa05 0x47a2a0 0x1281d25 0x43178d 0x7f7702f8b505\"/&gt;\\r\\n latestError=\"1\"/&gt;\\r\\n\u201d,<br>\n\u201ctime\u201d : 1594112725.8549211,<br>\n\u201ctype\u201d : \u201cStorageServerFailed\u201d<br>\n}<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 12,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.031666699999999999<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.0125197<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 591.36599999999999,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u201ce0a1ee3c5011edf3cf48036bc9632783\u201d : {<br>\n\u201caddress\u201d : \u201c172.16.9.186:4510\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/6000c29221528cb42980551360cb127b/data/4510 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=172.16.9.186:4510 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.0056918241508649306<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0,<br>\n\u201cfree_bytes\u201d : 17619632128,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 6250,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 18888736768,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 9268,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cprocessid\u201d : \u201ce0a1ee3c5011edf3cf48036bc9632783\u201d,<br>\n\u201czoneid\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201ce91cc7a7e3749709c3d606dc1c28774b\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 365367881,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 332488704<br>\n},<br>\n\u201cmessages\u201d : [<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 12,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.031887700000000005<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.0125209<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 593.65899999999999,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n},<br>\n\u201ce90d5b0682731a5243691dfd80572e86\u201d : {<br>\n\u201caddress\u201d : \u201c178.104.163.99:4501\u201d,<br>\n\u201cclass_source\u201d : \u201ccommand_line\u201d,<br>\n\u201cclass_type\u201d : \u201cstorage\u201d,<br>\n\u201ccommand_line\u201d : \u201c/usr/sbin/fdbserver --class=storage --cluster_file=/etc/foundationdb/fdb.cluster --datadir=/var/lib/foundationdb/data/4501 --listen_address=public --logdir=/var/log/foundationdb --logsize=100MiB --maxlogssize=1000MiB --public_address=auto:4501 --storage_memory=2GiB\u201d,<br>\n\u201ccpu\u201d : {<br>\n\u201cusage_cores\u201d : 0.012006031915553182<br>\n},<br>\n\u201cdisk\u201d : {<br>\n\u201cbusy\u201d : 0.01119984320219518,<br>\n\u201cfree_bytes\u201d : 56330371072,<br>\n\u201creads\u201d : {<br>\n\u201ccounter\u201d : 23163,<br>\n\u201chz\u201d : 0,<br>\n\u201csectors\u201d : 0<br>\n},<br>\n\u201ctotal_bytes\u201d : 94463066112,<br>\n\u201cwrites\u201d : {<br>\n\u201ccounter\u201d : 1778544,<br>\n\u201chz\u201d : 6.3999104012543828,<br>\n\u201csectors\u201d : 1880<br>\n}<br>\n},<br>\n\u201cfault_domain\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201clocality\u201d : {<br>\n\u201cmachineid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cprocessid\u201d : \u201ce90d5b0682731a5243691dfd80572e86\u201d,<br>\n\u201czoneid\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d<br>\n},<br>\n\u201cmachine_id\u201d : \u201cae5132ed0959f5fbd16edad8584e03ae\u201d,<br>\n\u201cmemory\u201d : {<br>\n\u201cavailable_bytes\u201d : 786578870,<br>\n\u201climit_bytes\u201d : 8589934592,<br>\n\u201cused_bytes\u201d : 480972800<br>\n},<br>\n\u201cmessages\u201d : [<br>\n],<br>\n\u201cnetwork\u201d : {<br>\n\u201cconnection_errors\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_closed\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201cconnections_established\u201d : {<br>\n\u201chz\u201d : 0<br>\n},<br>\n\u201ccurrent_connections\u201d : 21,<br>\n\u201cmegabits_received\u201d : {<br>\n\u201chz\u201d : 0.037066700000000001<br>\n},<br>\n\u201cmegabits_sent\u201d : {<br>\n\u201chz\u201d : 0.018055700000000001<br>\n}<br>\n},<br>\n\u201croles\u201d : [<br>\n],<br>\n\u201cuptime_seconds\u201d : 92111.300000000003,<br>\n\u201cversion\u201d : \u201c5.2.5\u201d<br>\n}<br>\n},<br>\n\u201cprotocol_version\u201d : \u201cfdb00a552000001\u201d,<br>\n\u201crecovery_state\u201d : {<br>\n\u201cdescription\u201d : \u201cInitializing new transaction servers and recovering transaction logs.\u201d,<br>\n\u201cname\u201d : \u201cinitializing_transaction_servers\u201d<br>\n}<br>\n}<br>\n}</p>\n</blockquote>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2020-07-07T09:35:29.875Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 110,
        "reads": 50,
        "readers_count": 49,
        "score": 560.0,
        "yours": false,
        "topic_id": 2232,
        "topic_slug": "fdb-cluster-is-unavailable-after-delete-a-disk",
        "display_username": "Shunbo Shi",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 585,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-cluster-is-unavailable-after-delete-a-disk/2232/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 7532,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2020-07-07T10:31:58.358Z",
        "cooked": "<p>See <a href=\"https://forums.foundationdb.org/t/full-disk-on-one-machine-results-in-99-performance-degradation/850\">this thread</a> for effects of disk running out on any of SS</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2020-07-08T09:31:18.716Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 34,
        "readers_count": 33,
        "score": 11.8,
        "yours": false,
        "topic_id": 2232,
        "topic_slug": "fdb-cluster-is-unavailable-after-delete-a-disk",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/full-disk-on-one-machine-results-in-99-performance-degradation/850",
            "internal": true,
            "reflection": false,
            "title": "Full disk on one machine results in 99% performance degradation",
            "clicks": 12
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-cluster-is-unavailable-after-delete-a-disk/2232/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7539,
        "name": "Shunbo Shi",
        "username": "ssb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png",
        "created_at": "2020-07-08T09:10:30.095Z",
        "cooked": "<p>Hello!</p>\n<p>When the cluster is unavailable, master role print the follow logs in circle:</p>\n<blockquote>\n<p>Event Severity=\u201c10\u201d Time=\u201c1594191671.815474\u201d Type=\u201cEndpointNotFound\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d Address=\u201c172.16.9.186:4506\u201d Token=\u201c6c1737ef6dd69fd9\u201d SuppressedEventCount=\u201c0\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815474\u201d Type=\u201cCCWDB\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815474\u201d Type=\u201cCCWDB\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d Recruiting=\u201cMaster\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815885\u201d Type=\u201cCCWDB\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d Recruited=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815885\u201d Type=\u201cRecruitedMasterWorker\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d Address=\u201c172.16.9.186:4506\u201d logGroup=\u201cdefault\u201d TrackLatestType=\u201cOriginal\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815885\u201d Type=\u201cCCWDB\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d Lifetime=\u201ca7185cdb49a4f1bd#3\u201d ChangeID=\u201c719075b9e13f29b6\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815885\u201d Type=\u201cGotServerDBInfoChange\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d ChangeID=\u201c719075b9e13f29b6\u201d MasterID=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.012351\u201d Type=\u201cMasterRegistrationReceived\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d dbName=\u201cDB\u201d MasterId=\u201c9a9c53aa431aafe1\u201d Master=\u201czoneid=948936f4795067051c61fe19a5105367 processid=54b460781b6f513d6e3b7665c9135b06 machineid=948936f4795067051c61fe19a5105367\u201d Tlogs=\u201ceeb740bfd8692df182e8d71949785ddc,71d797746a39bbc3f5a88fa1fd866208,19b2db9e2fc2ceb9e00369513ea68011\u201d Resolvers=\u201c0\u201d RecoveryState=\u201c3\u201d RegistrationCount=\u201c1\u201d Proxies=\u201c0\u201d RecoveryCount=\u201c6516\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.012351\u201d Type=\u201cGotServerDBInfoChange\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d ChangeID=\u201c83637f7243df9578\u201d MasterID=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cGetTLogTeamDone\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c4952dff3ccb92c5c\u201d Completed=\u201c1\u201d Policy=\u201czoneid^2 x 1\u201d Results=\u201c3\u201d Processes=\u201c3\u201d Workers=\u201c21\u201d Replication=\u201c2\u201d Desired=\u201c3\u201d RatingTests=\u201c200\u201d PolicyGenerations=\u201c100\u201d InterfaceId=\u201ca7185cdb49a4f1bd\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191671.815885\u201d Type=\u201cGotServerDBInfoChange\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d ChangeID=\u201c719075b9e13f29b6\u201d MasterID=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.012351\u201d Type=\u201cMasterRegistrationReceived\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d dbName=\u201cDB\u201d MasterId=\u201c9a9c53aa431aafe1\u201d Master=\u201czoneid=948936f4795067051c61fe19a5105367 processid=54b460781b6f513d6e3b7665c9135b06 machineid=948936f4795067051c61fe19a5105367\u201d Tlogs=\u201ceeb740bfd8692df182e8d71949785ddc,71d797746a39bbc3f5a88fa1fd866208,19b2db9e2fc2ceb9e00369513ea68011\u201d Resolvers=\u201c0\u201d RecoveryState=\u201c3\u201d RegistrationCount=\u201c1\u201d Proxies=\u201c0\u201d RecoveryCount=\u201c6516\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.012351\u201d Type=\u201cGotServerDBInfoChange\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d ChangeID=\u201c83637f7243df9578\u201d MasterID=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cGetTLogTeamDone\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c4952dff3ccb92c5c\u201d Completed=\u201c1\u201d Policy=\u201czoneid^2 x 1\u201d Results=\u201c3\u201d Processes=\u201c3\u201d Workers=\u201c21\u201d Replication=\u201c2\u201d Desired=\u201c3\u201d RatingTests=\u201c200\u201d PolicyGenerations=\u201c100\u201d InterfaceId=\u201ca7185cdb49a4f1bd\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cGetTLogTeamWorker\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c4952dff3ccb92c5c\u201d Class=\u201ctransaction\u201d Address=\u201c178.104.163.99:4505\u201d Zone=\u201cae5132ed0959f5fbd16edad8584e03ae\u201d DataHall=\u201c[not set]\u201d isExcludedServer=\u201c0\u201d isAvailable=\u201c1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cGetTLogTeamWorker\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c4952dff3ccb92c5c\u201d Class=\u201ctransaction\u201d Address=\u201c172.16.9.186:4515\u201d Zone=\u201c948936f4795067051c61fe19a5105367\u201d DataHall=\u201c[not set]\u201d isExcludedServer=\u201c0\u201d isAvailable=\u201c1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cGetTLogTeamWorker\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c4952dff3ccb92c5c\u201d Class=\u201ctransaction\u201d Address=\u201c172.16.9.186:4505\u201d Zone=\u201c948936f4795067051c61fe19a5105367\u201d DataHall=\u201c[not set]\u201d isExcludedServer=\u201c0\u201d isAvailable=\u201c1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.018168\u201d Type=\u201cfindWorkersForConfig\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d replication=\u201c2\u201d desiredLogs=\u201c3\u201d actualLogs=\u201c3\u201d desiredProxies=\u201c3\u201d actualProxies=\u201c3\u201d desiredResolvers=\u201c1\u201d actualResolvers=\u201c1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.819949\u201d Type=\u201cCCWDB\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201ca7185cdb49a4f1bd\u201d Watching=\u201c9a9c53aa431aafe1\u201d logGroup=\u201cdefault\u201d/&gt;<br>\nEvent Severity=\u201c10\u201d Time=\u201c1594191672.820138\u201d Type=\u201cEndpointNotFound\u201d Machine=\u201c172.16.9.186:4516\u201d ID=\u201c0000000000000000\u201d Address=\u201c172.16.9.186:4506\u201d Token=\u201c0d972419b4b545fd\u201d SuppressedEventCount=\u201c0\u201d logGroup=\u201cdefault\u201d/&gt;</p>\n</blockquote>\n<p>From the log, we know 172.16.9.186:4506 endpoint is not found(it run on the deleted disk),  but why master role select an failed endpoint every time?</p>\n<p>UPD1:  If there are 3 machines, and test the same case, the cluster is available. According to <a href=\"https://forums.foundationdb.org/t/full-disk-on-one-machine-results-in-99-performance-degradation/850\">the thread</a> in your reply, the cluster should be unavailable too.</p>\n<p>UPD2:  I test the same case on foundationdb of version 6.2.19, the cluster is available.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2020-07-08T09:32:19.878Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 38,
        "readers_count": 37,
        "score": 17.6,
        "yours": false,
        "topic_id": 2232,
        "topic_slug": "fdb-cluster-is-unavailable-after-delete-a-disk",
        "display_username": "Shunbo Shi",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/full-disk-on-one-machine-results-in-99-performance-degradation/850",
            "internal": true,
            "reflection": false,
            "title": "Full disk on one machine results in 99% performance degradation",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 166,
          "username": "gaurav",
          "name": "gaurav",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 585,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-cluster-is-unavailable-after-delete-a-disk/2232/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7561,
        "name": "Shunbo Shi",
        "username": "ssb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png",
        "created_at": "2020-07-09T08:38:11.028Z",
        "cooked": "<p>The root caused may related to the tlog binding on the deleted disk.<br>\nIn futher testing, remove the transaction server 4505 binding on the deleted disk from foundationdb.conf (</p>\n<blockquote>\n<p>#[fdbserver.4505]<br>\n<span class=\"hashtag-raw\">#class</span> = transaction<br>\n<span class=\"hashtag-raw\">#datadir</span> = /var/lib/foundationdb/6000c29b458680dc333dad5910de37e7/journal/$ID</p>\n</blockquote>\n<p>),  and the fdb cluster is available after deleting the disk.</p>\n<p>The cluster is double memory, and tlog configuration is :</p>\n<blockquote>\n<pre><code>              |--------- tlog1(disk1)\n</code></pre>\n<p>172.16.9.186 ------ |</p>\n<pre><code>              |--------- tlog2(disk2)\n</code></pre>\n<p>178.104.163.99 \u2014 | ---------------  tlog3(disk3)</p>\n</blockquote>\n<p>In the case disk1 is deleted, tlog1 will be failed, and a double replication cluster can work with 2 tlogs,  but why 1 tlogs failure will down the cluster?</p>\n<p>Could someone please explain why this happen? Is\u2019t a bug or designment for data protection?<br>\nWhat is the solution for fdbserver processes failure and where can i find the solution implementation in the source code?</p>\n<p>Thanks very much!!</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2020-07-09T09:29:29.904Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 35,
        "readers_count": 34,
        "score": 7.0,
        "yours": false,
        "topic_id": 2232,
        "topic_slug": "fdb-cluster-is-unavailable-after-delete-a-disk",
        "display_username": "Shunbo Shi",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 585,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/fdb-cluster-is-unavailable-after-delete-a-disk/2232/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      7531,
      7532,
      7539,
      7561
    ]
  },
  "timeline_lookup": [
    [
      1,
      1933
    ],
    [
      3,
      1932
    ],
    [
      4,
      1931
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Fdb cluster is unavailable after delete a disk",
  "id": 2232,
  "title": "Fdb cluster is unavailable after delete a disk",
  "posts_count": 4,
  "created_at": "2020-07-07T09:35:29.720Z",
  "views": 1154,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2020-07-09T08:38:11.028Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "fdb-cluster-is-unavailable-after-delete-a-disk",
  "category_id": 7,
  "word_count": 2530,
  "deleted_at": null,
  "user_id": 585,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2232",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Database unavailable after shutting down a foundationdb node",
      "id": 2113,
      "title": "Database unavailable after shutting down a foundationdb node",
      "slug": "database-unavailable-after-shutting-down-a-foundationdb-node",
      "posts_count": 18,
      "reply_count": 8,
      "highest_post_number": 18,
      "image_url": null,
      "created_at": "2020-05-11T16:09:39.373Z",
      "last_posted_at": "2021-02-05T22:16:50.767Z",
      "bumped": true,
      "bumped_at": "2021-02-05T22:18:40.780Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 8569,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 714,
            "username": "tuk",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b5ac83/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Triple ssd fdb cluster on 3 node, one node poweroff, but the fdb cluster is unavailable!",
      "id": 2228,
      "title": "Triple ssd fdb cluster on 3 node, one node poweroff, but the fdb cluster is unavailable!",
      "slug": "triple-ssd-fdb-cluster-on-3-node-one-node-poweroff-but-the-fdb-cluster-is-unavailable",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-07-06T09:00:41.040Z",
      "last_posted_at": "2020-07-07T01:23:20.838Z",
      "bumped": true,
      "bumped_at": "2020-07-07T01:23:20.838Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 702,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 585,
            "username": "ssb",
            "name": "Shunbo Shi",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbserver error in a cluster with double redundancy",
      "id": 2348,
      "title": "Fdbserver error in a cluster with double redundancy",
      "slug": "fdbserver-error-in-a-cluster-with-double-redundancy",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-09-20T18:50:42.932Z",
      "last_posted_at": "2020-09-22T07:33:44.911Z",
      "bumped": true,
      "bumped_at": "2020-09-22T11:25:55.307Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 859,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 714,
            "username": "tuk",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b5ac83/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "30 server cluster just died",
      "id": 2731,
      "title": "30 server cluster just died",
      "slug": "30-server-cluster-just-died",
      "posts_count": 8,
      "reply_count": 3,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2021-06-05T16:22:25.332Z",
      "last_posted_at": "2021-06-06T18:34:11.621Z",
      "bumped": true,
      "bumped_at": "2021-06-06T18:34:11.621Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 738,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 867,
            "username": "espaiz",
            "name": "David",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/e/ad7895/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Segmentation fault error and broken cluster",
      "id": 483,
      "title": "Segmentation fault error and broken cluster",
      "slug": "segmentation-fault-error-and-broken-cluster",
      "posts_count": 17,
      "reply_count": 12,
      "highest_post_number": 17,
      "image_url": null,
      "created_at": "2018-05-31T15:34:28.123Z",
      "last_posted_at": "2018-06-11T17:31:13.656Z",
      "bumped": true,
      "bumped_at": "2018-06-11T17:31:13.656Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 4331,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 211,
            "username": "brk0v",
            "name": "Viacheslav Biriukov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brk0v/{size}/173_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 585,
        "username": "ssb",
        "name": "Shunbo Shi",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      }
    ],
    "created_by": {
      "id": 585,
      "username": "ssb",
      "name": "Shunbo Shi",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png"
    },
    "last_poster": {
      "id": 585,
      "username": "ssb",
      "name": "Shunbo Shi",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ssb/{size}/656_2.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/full-disk-on-one-machine-results-in-99-performance-degradation/850",
        "title": "Full disk on one machine results in 99% performance degradation",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 15,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}