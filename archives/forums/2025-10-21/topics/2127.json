{
  "post_stream": {
    "posts": [
      {
        "id": 7018,
        "name": "Chaoguang",
        "username": "zjuLcg",
        "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png",
        "created_at": "2020-05-20T05:07:15.378Z",
        "cooked": "<p>I accidentally have code like</p>\n<pre><code class=\"lang-auto\">ReadYourWritesTransaction tr(cx); // cx is the Database object\nstate Reference&lt;ReadYourWritesTransaction&gt; trReference = Reference&lt;ReadYourWritesTransaction&gt;::addRef(&amp;tr);\n// ....\nwait(delay(1)); // The lifetime of tr ends here\n// ....\ntrReference-&gt;get(...); // Error since the transaction object has been deleted. \n</code></pre>\n<p>Not sure if this is okay. I searched in the codebase, there is no existing use case like this and nearly all of <code>ReadYourWritesTransaction</code> are declared with <code>state</code>, which makes the scenario that a reference lives longer than the <em>ryw</em> object is much less likely to happen.<br>\nHowever,  since <em>ReadYourWritesTransaction</em> is <em>ReferenceCounted</em>, if there is an existing <em>Reference</em> points to it, by intuition, it should not be deleted.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T05:07:15.378Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 14,
        "reads": 15,
        "readers_count": 14,
        "score": 73.0,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "Chaoguang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 561,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 7021,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-05-20T15:45:19.031Z",
        "cooked": "<p>The idea behind the <code>Reference</code> type is that the creation and destruction of the <code>References</code> results in the count stored in the <code>ReferenceCounted</code> object to go up and down, respectively, with the last destructed <code>Reference</code> reducing the count to 0 and deleting the object. This only works if the instance of the <code>ReferenceCounted</code> object is something you can actually delete, which is not the case for objects with automatic storage duration such as in the example above.</p>\n<p>In your case, I believe it would be undefined behavior for us to call delete explicitly, and additionally the object is going to be automatically deleted when it goes out of scope.</p>\n<p>For this reason, it really only makes sense to use a <code>Reference</code> for objects you\u2019ve dynamically allocated using <code>new</code>.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T15:45:19.031Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 15,
        "readers_count": 14,
        "score": 38.0,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7026,
        "name": "Chaoguang",
        "username": "zjuLcg",
        "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png",
        "created_at": "2020-05-20T17:35:43.128Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"2\" data-topic=\"2127\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>For this reason, it really only makes sense to use a <code>Reference</code> for objects you\u2019ve dynamically allocated using <code>new</code> .</p>\n</blockquote>\n</aside>\n<p>Thanks for the clarification. I came across the scenario where it needs to create a reference on a <em>ryw</em> object which has no guarantee to be dynamically allocated or not. In that case, I think using a reference has this issue.<br>\nIIUC anytime my interface needs a pointer to <em>ryw</em>, I have this issue. If we can force the <em>ryw</em> to be dynamically allocated, then the issue is solved. I know it is not convenient to do so. Thus, I need to avoid having an interface that accepts a reference to <em>ryw</em>. Or the user who uses the interface needs to know this constraint and always pass a dynamically allocated <em>ryw</em> to the interface.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T17:35:43.128Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 7.8,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "Chaoguang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 561,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7027,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2020-05-20T17:46:19.765Z",
        "cooked": "<p>I am a bit confused by this problem - I might misunderstand. The following should work:</p>\n<pre><code class=\"lang-auto\">state ReadYourWritesTransaction tr(cx); // cx is the Database object\n// ....\nwait(delay(1)); // The lifetime of tr ends here\n// ....\ntr.doSomething(); // will work\n</code></pre>\n<p>If you allocate the object on the stack, you can\u2019t make it a reference (reference counting stack objects doesn\u2019t make sense). If you need to pass pointers around you can still do that but you don\u2019t need to reference count (instead you need to make sure that the actor that creates the object survives all actors and functions that get a pointer to it).</p>\n<p>If you need a reference, you need to allocate it on the heap:</p>\n<pre><code class=\"lang-auto\">state Reference&lt;ReadYourWritesTransaction&gt; trReference(new ReadYourWritesTransaction(cx));\n// ....\nwait(delay(1)); // The lifetime of tr ends here\n// ....\ntrReference-&gt;get(...); // Error since the transaction object has been deleted. \n</code></pre>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T17:46:19.765Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 7.8,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 561,
          "username": "zjuLcg",
          "name": "Chaoguang",
          "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7028,
        "name": "Chaoguang",
        "username": "zjuLcg",
        "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png",
        "created_at": "2020-05-20T17:59:13.616Z",
        "cooked": "<p>Yeah, this one works.<br>\nThe reason I am asking is right now in special-key-space we have something like</p>\n<pre><code class=\"lang-auto\">return getDatabase()-&gt;specialKeySpace-&gt;getRange(Reference&lt;ReadYourWritesTransaction&gt;::addRef(this), begin,\n\t\t\t                                                end, limits, reverse);\n</code></pre>\n<p>Actually, here we do not know whether <em>this</em> is on stack or on heap.<br>\nIf the user has something like(Only in native API)</p>\n<pre><code class=\"lang-auto\">ReadYourWritesTransaction tr(cx); // state ReadYourWritesTransaction tr(cx) or Reference&lt;ReadYourWritesTransaction&gt; trReference(new ReadYourWritesTransaction(cx)) is fine\ntr-&gt;get(\"\\xff\\xff/status/json\");\n// Error since the code in special-key-space still holds reference to this *ryw* object \n</code></pre>\n<p>I am wondering whether this is a problem since the user may not know this.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T17:59:31.426Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 7.8,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "Chaoguang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 15,
          "username": "markus.pilman",
          "name": "Markus Pilman",
          "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 561,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7030,
        "name": "",
        "username": "andrew.noyes",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "created_at": "2020-05-20T18:07:47.142Z",
        "cooked": "<p>I think we can restructure some of the special key space stuff so that we don\u2019t need to use addref anymore. Also it\u2019d be great if calling addref on an object whose lifetime is not managed by reference counting would be an internal_error</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-20T18:07:47.142Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 13,
        "readers_count": 12,
        "score": 32.6,
        "yours": false,
        "topic_id": 2127,
        "topic_slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 561,
          "username": "zjuLcg",
          "name": "Chaoguang",
          "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 14,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-after-free-when-having-addref-on-readyourwritestransaction-object/2127/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      7018,
      7021,
      7026,
      7027,
      7028,
      7030
    ]
  },
  "timeline_lookup": [
    [
      1,
      1981
    ],
    [
      2,
      1980
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Use-after-free when having addRef on ReadYourWritesTransaction object",
  "id": 2127,
  "title": "Use-after-free when having addRef on ReadYourWritesTransaction object",
  "posts_count": 6,
  "created_at": "2020-05-20T05:07:15.318Z",
  "views": 615,
  "reply_count": 4,
  "like_count": 3,
  "last_posted_at": "2020-05-20T18:07:47.142Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "use-after-free-when-having-addref-on-readyourwritestransaction-object",
  "category_id": 8,
  "word_count": 674,
  "deleted_at": null,
  "user_id": 561,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2127",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 6,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "id": 516,
      "title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "slug": "what-is-the-life-time-of-key-value-and-other-arguments-passed-to-fdb-transaction",
      "posts_count": 11,
      "reply_count": 4,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2018-06-18T18:28:57.904Z",
      "last_posted_at": "2018-07-17T16:11:21.242Z",
      "bumped": true,
      "bumped_at": "2018-07-17T16:11:21.242Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2608,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 308,
            "username": "ananthakumaran",
            "name": "Anantha Kumaran",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ananthakumaran/{size}/526_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Destroying futures after &lsquo;fdb_transaction_on_error()&rsquo;",
      "id": 1307,
      "title": "Destroying futures after 'fdb_transaction_on_error()'",
      "slug": "destroying-futures-after-fdb-transaction-on-error",
      "posts_count": 9,
      "reply_count": 1,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2019-04-16T13:33:52.150Z",
      "last_posted_at": "2019-04-24T18:38:45.358Z",
      "bumped": true,
      "bumped_at": "2019-04-24T18:38:45.358Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1428,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 419,
            "username": "doublemax",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8e7dd6/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "When to use Reference, and when to just use a pointer?",
      "id": 2934,
      "title": "When to use Reference, and when to just use a pointer?",
      "slug": "when-to-use-reference-and-when-to-just-use-a-pointer",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2021-10-09T12:12:41.172Z",
      "last_posted_at": "2021-10-17T18:03:40.372Z",
      "bumped": true,
      "bumped_at": "2021-10-17T18:03:40.372Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 452,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1006,
            "username": "superhail",
            "name": "Alan Muhammad",
            "avatar_template": "/user_avatar/forums.foundationdb.org/superhail/{size}/1191_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Memory leak in C API?",
      "id": 554,
      "title": "Memory leak in C API?",
      "slug": "memory-leak-in-c-api",
      "posts_count": 5,
      "reply_count": 1,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-07-09T10:54:23.376Z",
      "last_posted_at": "2018-07-10T12:55:14.679Z",
      "bumped": true,
      "bumped_at": "2018-07-10T12:55:14.679Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1120,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 319,
            "username": "kirilltitov",
            "name": "Kirill Titov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/kirilltitov/{size}/328_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Atomic_Add(key, -1) can &ldquo;leak&rdquo; keys with value 0 if you are not careful",
      "id": 148,
      "title": "Atomic_Add(key, -1) can \"leak\" keys with value 0 if you are not careful",
      "slug": "atomic-add-key-1-can-leak-keys-with-value-0-if-you-are-not-careful",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-04-20T19:00:47.495Z",
      "last_posted_at": "2018-04-21T10:05:05.991Z",
      "bumped": true,
      "bumped_at": "2018-04-21T10:05:05.991Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 817,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 111,
            "username": "andoma",
            "name": "Andreas Smas",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andoma/{size}/78_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 561,
        "username": "zjuLcg",
        "name": "Chaoguang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 14,
        "username": "andrew.noyes",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 15,
        "username": "markus.pilman",
        "name": "Markus Pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 561,
      "username": "zjuLcg",
      "name": "Chaoguang",
      "avatar_template": "/user_avatar/forums.foundationdb.org/zjulcg/{size}/652_2.png"
    },
    "last_poster": {
      "id": 14,
      "username": "andrew.noyes",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png"
    }
  },
  "bookmarks": []
}