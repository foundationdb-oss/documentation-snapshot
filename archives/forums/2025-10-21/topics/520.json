{
  "post_stream": {
    "posts": [
      {
        "id": 1493,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-19T14:35:25.942Z",
        "cooked": "<p>Hello everyone.</p>\n<p>I\u2019m try to properly configure a cluster and struggling with the following behavior:</p>\n<ul>\n<li>There are 8 machines, each is 4 cores, 8GB of memory</li>\n<li>Each machine runs one FDB instance</li>\n<li>Engine is <code>double ssd</code>\n</li>\n<li>There are 5 coordinators in total</li>\n</ul>\n<p>Right now the transaction speed is just a little above 11k per second. Each transaction is 4 reads and 2 writes (non-atomics), key is around 64 bytes, value is less than 100 bytes. Looks like it\u2019s quite underperforming and I\u2019d appreciate some advice why.</p>\n<ul>\n<li>Should I increase the number of instances to 1 per CPU core?</li>\n<li>If I increase number of instances should I also guarantee some IOPS for each process?</li>\n<li>What would be suggested number of resolvers/proxies/logs and other roles for such cluster?</li>\n</ul>\n<p>Sincerely, Alexander</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-19T14:35:25.942Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1203,
        "reads": 239,
        "readers_count": 238,
        "score": 6081.8,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/production-optimizations/601/9",
            "internal": true,
            "reflection": true,
            "title": "Production optimizations",
            "clicks": 18
          },
          {
            "url": "https://forums.foundationdb.org/t/foundationdb-cluster-setup/1641/5",
            "internal": true,
            "reflection": true,
            "title": "FoundationDB cluster setup",
            "clicks": 9
          },
          {
            "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1529/2",
            "internal": true,
            "reflection": true,
            "title": "WARNING A single process is both a transaction log and a storage server",
            "clicks": 5
          },
          {
            "url": "https://forums.foundationdb.org/t/is-there-some-guide-manual-for-a-reasonable-way-to-deployment-topology/2778/3",
            "internal": true,
            "reflection": true,
            "title": "Is there some guide manual for a reasonable way to deployment topology \uff1f",
            "clicks": 3
          },
          {
            "url": "https://forums.foundationdb.org/t/how-to-spin-up-foundationdb-cluster-in-aws/1198/2",
            "internal": true,
            "reflection": true,
            "title": "How to spin up foundationdb cluster in aws",
            "clicks": 3
          },
          {
            "url": "https://forums.foundationdb.org/t/high-rate-of-transaction-retries-with-error-code-1009-request-for-future-version/1715/13",
            "internal": true,
            "reflection": true,
            "title": "High rate of transaction retries with error code 1009 (Request for future version)",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 1494,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-19T15:54:02.842Z",
        "cooked": "<p>Additional information:</p>\n<p>test parameters:</p>\n<pre><code class=\"lang-auto\">; This file is used by the Atlas Load Generator\ntestTitle=RandomReadWriteTest\ntestName=ReadWrite\ntestDuration=10.0\ntransactionsPerSecond=100000\nwritesPerTransactionA=2\nreadsPerTransactionA=1\n; Transactions A/B\nalpha=0\n; Produces 1GB\nnodeCount=100000\nvalueBytes=100\n; average 600\nminValueBytes=80\ndiscardEdgeMeasurements=false\nwarmingDelay=20.0\ntimeout=300000.0\ndatabasePingDelay=300000.0\n</code></pre>\n<pre><code class=\"lang-auto\">fdbserver -r multitest -f /tmp/testData --num_testers 1\nsetting up test (RandomReadWriteTest)...\nrunning test...\nRandomReadWriteTest complete\nchecking tests...\nfetching metrics...\nMetric (0, 0): Measured Duration, 10.000000, 10\nMetric (0, 1): Transactions/sec, 8859.800000, 8.86e+03\nMetric (0, 2): Operations/sec, 26579.400000, 2.66e+04\nMetric (0, 3): A Transactions, 88598.000000, 88598\nMetric (0, 4): B Transactions, 0.000000, 0\nMetric (0, 5): Retries, 26556.000000, 26556\nMetric (0, 6): Mean load time (seconds), 1.399409, 1.4\nMetric (0, 7): Read rows, 88598.000000, 8.86e+04\nMetric (0, 8): Write rows, 177196.000000, 1.77e+05\nMetric (0, 9): Mean Latency (ms), 2125.749589, 2.13e+03\nMetric (0, 10): Median Latency (ms, averaged), 1974.245071, 1.97e+03\nMetric (0, 11): 90% Latency (ms, averaged), 4956.706047, 4.96e+03\nMetric (0, 12): 98% Latency (ms, averaged), 6177.048922, 6.18e+03\nMetric (0, 13): Max Latency (ms, averaged), 9932.500124, 9.93e+03\nMetric (0, 14): Mean Row Read Latency (ms), 717.623410, 718\nMetric (0, 15): Median Row Read Latency (ms, averaged), 966.956854, 967\nMetric (0, 16): Max Row Read Latency (ms, averaged), 1134.870291, 1.13e+03\nMetric (0, 17): Mean Total Read Latency (ms), 712.500015, 713\nMetric (0, 18): Median Total Read Latency (ms, averaged), 967.903614, 968\nMetric (0, 19): Max Total Latency (ms, averaged), 1134.870291, 1.13e+03\nMetric (0, 20): Mean GRV Latency (ms), 909.371216, 909\nMetric (0, 21): Median GRV Latency (ms, averaged), 986.372471, 986\nMetric (0, 22): Max GRV Latency (ms, averaged), 1154.510498, 1.15e+03\nMetric (0, 23): Mean Commit Latency (ms), 19.985437, 20\nMetric (0, 24): Median Commit Latency (ms, averaged), 7.279873, 7.28\nMetric (0, 25): Max Commit Latency (ms, averaged), 141.917706, 142\nMetric (0, 26): Read rows/sec, 8859.800000, 8.86e+03\nMetric (0, 27): Write rows/sec, 17719.600000, 1.77e+04\nMetric (0, 28): Bytes read/sec, 939138.800000, 9.39e+05\nMetric (0, 29): Bytes written/sec, 1878277.600000, 1.88e+06\n1 test clients passed; 0 test clients failed\n\n1 tests passed; 0 tests failed, waiting for DD to end...\n</code></pre>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-19T15:54:02.842Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 236,
        "readers_count": 235,
        "score": 107.2,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1518,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-06-20T20:40:50.514Z",
        "cooked": "<p>Is this potentially saturating the client? What happens if you run multiple clients?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-20T20:40:50.514Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 212,
        "readers_count": 211,
        "score": 52.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1530,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-21T10:34:00.544Z",
        "cooked": "<p>Right now the system simulates some production transactions. If the transaction itself is commented-out (only the transaction, not the preparation steps), it gives 50k+ operations per second.</p>\n<p>For details: system itself is written in GO and uses 16 hyperthreading cores (GOMAXPROC=16). It has one global fdb.Database object (that may be a problem, didn\u2019t find a clear answer if such object is single-threaded inside).</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-21T10:34:00.544Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 214,
        "readers_count": 213,
        "score": 72.8,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1537,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-06-21T23:30:24.622Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"shamatar\" data-post=\"4\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/shamatar/48/315_2.png\" class=\"avatar\"> shamatar:</div>\n<blockquote>\n<p>For details: system itself is written in GO and uses 16 hyperthreading cores (GOMAXPROC=16). It has one global fdb.Database object (that may be a problem, didn\u2019t find a clear answer if such object is single-threaded inside).</p>\n</blockquote>\n</aside>\n<p>Are you saying that your test is a Go program, or is it the multitest run from above?</p>\n<p>In either case, each client process has a single network thread, and it\u2019s possible to saturate that thread. I don\u2019t know if that\u2019s happening to you here, but in order to fully take advantage of a cluster it\u2019s usually necessary to run more than one client process to drive load. To do that, you\u2019ll actually need to start multiple client processes, as we don\u2019t support running multiple network threads in a process.</p>\n<p>See also the discussion here: <a href=\"https://forums.foundationdb.org/t/benchmarking-foundationdb-on-aws/410/4\" class=\"inline-onebox\">Benchmarking FoundationDB on AWS - #4 by ajbeamon</a></p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-21T23:30:24.622Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 8,
        "reads": 212,
        "readers_count": 211,
        "score": 82.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/benchmarking-foundationdb-on-aws/410/4",
            "internal": true,
            "reflection": false,
            "title": "Benchmarking FoundationDB on AWS",
            "clicks": 58
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1538,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-22T17:58:28.165Z",
        "cooked": "<p>I\u2019ve tried running two simulators in parallel too, each would give the half of the maximum 11k/second speed.</p>\n<p>Is there any way to suggest a FoundationDB how to shard the keys being written? Our key structure right now is quite simple, it\u2019s 4 byte common prefix and than almost uniform distribution.</p>\n<p>Also, each fdbserver process can serve different roles (log, proxy, etc). Is it suggested to have one role per instance?</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-22T17:58:28.165Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 211,
        "readers_count": 210,
        "score": 87.2,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1541,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-06-22T22:47:58.120Z",
        "cooked": "<p>Each <code>fdbserver</code> process is single-threaded, so it\u2019s generally a good idea to run as many <code>fdbserver</code> processes as roles that you\u2019ll end up recruiting (and extra <code>fdbserver</code> processes will end up just being idle).  I\u2019d suggest only pointing one <code>fdbserver</code> process per machine to the disk that you have though.  (Unless the one process isn\u2019t enough to saturate your disk, which is sometimes the case.  Then point two per machine to the disk.)</p>\n<p>Recruitment isn\u2019t always the best at assigning roles in a way that benefit performance the most.  (Partly due to lack of intelligence, partly due to lack of topology information.). For our own performance tests, we explicitly assign each process a process class that\u2019s restrictive enough the strongly guide recruitment to a good recruitment.</p>\n<p>In particular, I\u2019d recommend making sure that\u2026<br>\n(1) Each proxy is running on a different host<br>\n(2) The transaction log isn\u2019t sharing a disk with a storage server<br>\n(3) Assign an explicit process to server as the cluster controller, and another to serve as the master</p>\n<p>As you have eight hosts, you can probably lay out a process configuration that looks like:</p>\n<p>1: proxy storage<br>\n2: proxy storage<br>\n3: resolution storage<br>\n4: log<br>\n5: log<br>\n6: storage cluster_controller<br>\n7: storage master<br>\n8: storage</p>\n<p>Assuming that you\u2019re targeting a proxies=2 logs=2 config.</p>\n<p>The goal of this layout is to consider the network bandwidth limits that are available, and maximizing the possible throughput.  Commits come in to the proxies and flow to the transaction logs.  By having a dedicated network link for both proxies and both logs, we make sure we haven\u2019t accidentally cut our possible bandwidth in half.  By assigning explicit process classes for each role, we make sure that we aren\u2019t competing with another role recruited in the same process for CPU time, which would noticeably increase latency.  Assigning only one storage role per disk means that we aren\u2019t competing for IO bandwidth (or fsync\u2019s).</p>\n<p>I\u2019d suggest looking at the total CPU, network, and disk usage on the relevant machines during your test to give you a hint on how to further tweak the best logs and proxies setting for your config.  It might make sense to run 2 proxies on a host if your one proxy process is very high on CPU usage, but not fully utilizing the network, or running an extra log might turn out to increase your throughput.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-23T01:52:05.858Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 620,
        "reads": 216,
        "readers_count": 215,
        "score": 3210.2,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/production-optimizations/601/10",
            "internal": true,
            "reflection": true,
            "title": "Production optimizations",
            "clicks": 7
          },
          {
            "url": "https://forums.foundationdb.org/t/6-0-18-reporting-incorrect-fault-tolerance-via-fdbcli-with-triple-redundancy-mode/1282",
            "internal": true,
            "reflection": true,
            "title": "6.0.18 Reporting incorrect Fault Tolerance via fdbcli with triple redundancy mode?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 310,
          "username": "shamatar",
          "name": "Alexander",
          "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 4
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1542,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-06-23T11:38:22.299Z",
        "cooked": "<p>That\u2019s very interesting.</p>\n<p>I have a few questions as well <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"></p>\n<p><strong>Q1</strong>: What happens if host 6 (from the example above) goes down? Will the <code>cluster_controller</code> role be automatically assigned to another host? But if all the other others nodes either want to be <code>proxy</code>, <code>log</code> or <code>storage</code>, will the <code>cluster_controller</code> role be assigned to one of them anyway? And if host 6 goes back online, will it then take over the <code>cluster_controller</code> role immediately ? Or will it stick to the other host until it goes down, before returning to the preferred host 6?</p>\n<p><strong>Q2</strong>: If a process is only assigned CPU oriented roles like <code>proxy</code>, <code>cluster_controller</code> or <code>master</code>, can we safely reduce their memory usage down from 4GB to something like 2GB ?</p>\n<p>I have a few servers that have a RAM to core ratio that is somewhere between 1 GB to 2GB (due to the current high pricing for RAM modules). This means that I\u2019m left with a lot of unused CPU cores that could help share the load.</p>\n<p>So, for example, I have 8 cores and 16 GB per server, and currently I can only assign 4 process with 4GB each and will only use halt the cores.</p>\n<p>I could change the layout to have 2 fdbserver process with 4 GB each assigned to storage-oriented roles, and 4 more process with 2GB each for cpu-oriented roles. This would still use the same 16 GB total, but now I\u2019m using 6 out of 8 cores, which looks like a better utilization to me.</p>\n<p><strong>Q3</strong>: In your example above, you list one or more roles per host, but I assume that they will run more than one fdbserver process. Should we also assign specific roles to each process manually? For exeaple for host 2, should I assign the <code>proxy</code> class to process 4500, and <code>storage</code> class to process 4501? What If I have 4 process per host, but only have 2 roles to assign ?</p>\n<p><strong>Q4</strong>: When in doubt, is it better to assign more proxy roles to extra process (ex: 4 process on a machine with only two disks, the extra 2 could serve as proxy?), or is there a thing as too many proxies for a certain size of cluster?</p>\n<p><strong>Q5</strong>: is it possible to configure a process to <em>reject</em> a specific role, instead of <em>assigning</em> one? Meaning blacklisting certain roles for some process, but letting it be free to choose any other role? I\u2019m looking at for example banning log or storage class all 3rd or 4th process on each host, if I only have two disks (so that 1st and 2nd process each can have one, but the other 2 process cannot use them).</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-23T11:38:22.299Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 204,
        "readers_count": 203,
        "score": 85.8,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1549,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-25T00:57:18.549Z",
        "cooked": "<p>I\u2019ve done additional test by making parallel requests to two clusters of FoundationDB (each giving 10k transactions per second if used as the only cluster). And the total result is the same 10k transactions per second. Looks like there is a network congestion. I use Google Cloud Compute Engine that should provide 1GB/s channels, and FoundationDBs are colocated in the same data center and private network. Maximum outgoing traffic is 115 Mbit/s, much below the provided bandwidth.</p>\n<p>Does anyone know how does FDB client process work? If it\u2019s also single-threaded it can be a limiting factor for my case.</p>\n<p>Sincerely, Alex</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T00:57:18.549Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 20,
        "reads": 179,
        "readers_count": 178,
        "score": 140.8,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1550,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-06-25T06:55:25.488Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"shamatar\" data-post=\"9\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/shamatar/48/315_2.png\" class=\"avatar\"> shamatar:</div>\n<blockquote>\n<p>If it\u2019s also single-threaded it can be a limiting factor for my case.</p>\n</blockquote>\n</aside>\n<p>It is single threaded.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T06:55:25.488Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 1,
        "incoming_link_count": 2,
        "reads": 172,
        "readers_count": 171,
        "score": 49.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1552,
        "name": "Alexander",
        "username": "shamatar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "created_at": "2018-06-25T11:35:28.242Z",
        "cooked": "<p>May be I should clarify this a little. At least with GO bindings an fdb client starts a \u201cnetworking\u201d by calling some C function. If such C networking process is single threaded, than yes, I have a transaction sending congestion and starting separate GO processes each with it\u2019s own C \u201cnetworking\u201d will solve an issue. Although if this C \u201cnetworking\u201d process is actually some system-wide started daemon (highly unlikely, but still), than starting more virtual machines will solve my problem. I\u2019ll experiment later today and report, didn\u2019t dig into sources yet.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T11:35:28.242Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 168,
        "readers_count": 167,
        "score": 53.6,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alexander",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 53,
          "username": "KrzysFR",
          "name": "Christophe Chevalier",
          "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 310,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1553,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-06-25T13:50:42.863Z",
        "cooked": "<p>Each process will spawn its own networking thread which is unique <em>per process</em> <strong>(1</strong>). The role of the networking thread is to talk to the database, and also execute the future callbacks when they become ready.</p>\n<p>I think that the go binding schedules the continuation of asynchronous operations on a different thread than the fdb network thread, but it can still become saturated just by the cost of executing all the callbacks, especially if you are doing a lot small single-key reads concurrently. Maybe changing your algorithm to use more range reads could potentially reduce the callback overhead?</p>\n<p>Spawning multiple GO processes will help you get more throughput because you will have multiple network threads running concurrently, utilizing more of your CPU cores.</p>\n<p><em><strong>(1)</strong> you can have multiple thread per process when running the multi-version client, but this is only true while you are in the process of upgrading the database to a new version. In normal operation, only one will be really active.</em></p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T13:52:12.350Z",
        "reply_count": 0,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 172,
        "readers_count": 171,
        "score": 64.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 310,
          "username": "shamatar",
          "name": "Alexander",
          "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1556,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-06-25T17:58:15.442Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"KrzysFR\" data-post=\"8\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/krzysfr/48/43_2.png\" class=\"avatar\"> KrzysFR:</div>\n<blockquote>\n<p><strong>Q1</strong> : What happens if host 6 (from the example above) goes down? Will the <code>cluster_controller</code> role be automatically assigned to another host? But if all the other others nodes either want to be <code>proxy</code> , <code>log</code> or <code>storage</code> , will the <code>cluster_controller</code> role be assigned to one of them anyway? And if host 6 goes back online, will it then take over the <code>cluster_controller</code> role immediately ? Or will it stick to the other host until it goes down, before returning to the preferred host 6?</p>\n</blockquote>\n</aside>\n<p>It\u2019s a preference, but not a requirement.  A process with the process class of <code>cluster_controller</code> is viewed as a the best location for a <code>cluster_controller</code> role, but if one isn\u2019t available, then any stateless process will do.  If a process with <code>cluster_controller</code> process class joins the cluster, then we\u2019ll notice that there\u2019s a better location, and begin a recovery to re-recruit everything in a better location.  (I believe this might not actually be true specifically for <code>cluster_controller</code>, but is true for everything else.  You\u2019d be looking for <code>betterMasterExists()</code> in the code.)</p>\n<aside class=\"quote no-group\" data-username=\"KrzysFR\" data-post=\"8\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/krzysfr/48/43_2.png\" class=\"avatar\"> KrzysFR:</div>\n<blockquote>\n<p><strong>Q2</strong> : If a process is only assigned CPU oriented roles like <code>proxy</code> , <code>cluster_controller</code> or <code>master</code> , can we safely reduce their memory usage down from 4GB to something like 2GB ?</p>\n</blockquote>\n</aside>\n<p>Depending on the role\u2026 maybe, and it\u2019ll depend heavily by role, and partly on your workload.  I think that after <a href=\"https://github.com/apple/foundationdb/pull/432\">#432</a>, it\u2019d be safer to reduce the memory on proxies, as long as you set <code>SERVER_MEM_LIMIT</code> accordingly.  I don\u2019t think I have specific advice here, you\u2019d more have to look at usage stats and see.</p>\n<p>There\u2019s also knobs to reduce the amount of cache that a storage server holds, if you\u2019d like to try reducing memory on storage servers.</p>\n<aside class=\"quote no-group\" data-username=\"KrzysFR\" data-post=\"8\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/krzysfr/48/43_2.png\" class=\"avatar\"> KrzysFR:</div>\n<blockquote>\n<p><strong>Q3</strong> : In your example above, you list one or more roles per host, but I assume that they will run more than one fdbserver process. Should we also assign specific roles to each process manually? For exeaple for host 2, should I assign the <code>proxy</code> class to process 4500, and <code>storage</code> class to process 4501? What If I have 4 process per host, but only have 2 roles to assign ?</p>\n</blockquote>\n</aside>\n<p>More than one fdbserver process was my intention, yes.  If you don\u2019t specify a role, then it gets the \u201cUnset\u201d role, which is viewed as an okay place to put anything.</p>\n<p>Upon further thought, I\u2019m actually not sure that everything that has an \u201cUnset\u201d role wouldn\u2019t be picked up by data distribution to be recruited as a storage server.  I\u2019ll try to remember to check this later today.</p>\n<aside class=\"quote no-group\" data-username=\"KrzysFR\" data-post=\"8\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/krzysfr/48/43_2.png\" class=\"avatar\"> KrzysFR:</div>\n<blockquote>\n<p><strong>Q4</strong> : When in doubt, is it better to assign more proxy roles to extra process (ex: 4 process on a machine with only two disks, the extra 2 could serve as proxy?), or is there a thing as too many proxies for a certain size of cluster?</p>\n</blockquote>\n</aside>\n<p>GetReadVersion, which is done by a client at the beginning of every transaction, involves a proxy talking to every other proxy to find the maximum committed version.  So there\u2019s definitely a point where adding more proxies slows things down, rather than speeding things up.</p>\n<aside class=\"quote no-group\" data-username=\"KrzysFR\" data-post=\"8\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/krzysfr/48/43_2.png\" class=\"avatar\"> KrzysFR:</div>\n<blockquote>\n<p><strong>Q5</strong> : is it possible to configure a process to <em>reject</em> a specific role, instead of <em>assigning</em> one? Meaning blacklisting certain roles for some process, but letting it be free to choose any other role? I\u2019m looking at for example banning log or storage class all 3rd or 4th process on each host, if I only have two disks (so that 1st and 2nd process each can have one, but the other 2 process cannot use them).</p>\n</blockquote>\n</aside>\n<p>In general no, but in that specific case, you can assign the <code>stateless</code> role to a process, which then means we prefer not assigning anything that involves durable storage (logs and storage servers) to that process.</p>\n<p>\u2026 I had actually thought there was a way to start up fdbserver and not point it at a disk as a data location, which would automatically configure it into a stateless process, but I appear to have been wrong.</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T17:58:15.442Z",
        "reply_count": 2,
        "reply_to_post_number": 8,
        "quote_count": 1,
        "incoming_link_count": 20,
        "reads": 176,
        "readers_count": 175,
        "score": 190.2,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/432",
            "internal": false,
            "reflection": false,
            "title": "Proxy going OOM when applying high volumes of writes to a proxy, part\u2026 by bnamasivayam \u00b7 Pull Request #432 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 18
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 3
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1558,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-06-25T18:12:26.596Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"13\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>In general no, but in that specific case, you can assign the <code>stateless</code> role to a process, which then means we prefer not assigning anything that involves durable storage (logs and storage servers) to that process.</p>\n</blockquote>\n</aside>\n<p>I think it\u2019s a bit stronger than this, as the stateless role cannot run logs or storage nodes.</p>\n<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"13\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>GetReadVersion, which is done by a client at the beginning of every transaction, involves a proxy talking to every other proxy to find the maximum committed version. So there\u2019s definitely a point where adding more proxies slows things down, rather than speeding things up.</p>\n</blockquote>\n</aside>\n<p>Running more proxies than necessary may have downsides, but running more nodes with the proxy (or, perhaps better, stateless) class shouldn\u2019t be a problem. For example, you could specify in your configuration that you desire 5 proxies and run 8 proxy class processes. Then, if one of your proxy class processes dies, you\u2019ll have 3 good candidates for a replacement to go. If you run only 5 proxy class processes, then when a proxy dies you could either end up with 4 proxies or a 5th proxy on a process with a different class, depending on what classes you are using in your cluster.</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-25T18:12:26.596Z",
        "reply_count": 0,
        "reply_to_post_number": 13,
        "quote_count": 1,
        "incoming_link_count": 8,
        "reads": 158,
        "readers_count": 157,
        "score": 101.6,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1563,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-06-26T11:31:34.230Z",
        "cooked": "<p>Thank you, this makes it a lot clearer for me.</p>\n<p>Regarding the <code>stateless</code> role, what happen if I have more process with <code>stateless</code> class, than I need for a given configuration? I run a configuration that requires 5 proxy, but I have 10 process with class <code>stateless</code>, what will the extra process do if all the other roles are assigned ? Will this processes just stay idle, waiting to be recruited in case a proxy fails?</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-26T11:31:34.230Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 152,
        "readers_count": 151,
        "score": 40.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1566,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-06-26T17:44:05.318Z",
        "cooked": "<p>The stateless processes can be a destination for several roles, including the master, proxies, cluster controller, and resolvers. But yes, if you have more stateless processes than required for your configuration, some of them will be assigned no roles and will essentially be idle until needed.</p>",
        "post_number": 16,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-26T17:44:05.318Z",
        "reply_count": 1,
        "reply_to_post_number": 15,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 152,
        "readers_count": 151,
        "score": 45.4,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 53,
          "username": "KrzysFR",
          "name": "Christophe Chevalier",
          "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/16",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1581,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-06-30T20:24:04.339Z",
        "cooked": "<p>CC: <a class=\"mention\" href=\"/u/amirouche\">@amirouche</a>, as I think this is relevant to your \u201chow do I run faster on EC2\u201d thread as well.</p>\n<p>After talking with Evan, I\u2019ve come to understand that recruitment is suboptimal if you\u2019re running all of your processes without specifying a process class.  Data Distribution will recruit storage servers on everything that it can, so every process will become a storage server in addition to whatever other roles that it\u2019s assigned.  This means that:</p>\n<ul>\n<li>Storage servers will run in the same process as a proxy, causing higher latencies for all proxy operations.</li>\n<li>Storage servers will run against the same disk as a transaction log, making the two compete for disk bandwidth and sync operations.</li>\n<li>Many storage servers will run against the same disk, resulting in an overall slower throughput for each storage server.</li>\n</ul>\n<p>The solution here is to assign process classes:</p>\n<ul>\n<li>Mark all but two processes per disk as stateless</li>\n<li>Reserve as many disks as logs= in the configuration, and mark one process per disk as a transaction log, (with other being stateless)</li>\n</ul>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-06-30T20:24:04.339Z",
        "reply_count": 0,
        "reply_to_post_number": 16,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 165,
        "readers_count": 164,
        "score": 78.0,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1585,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-07-02T13:49:35.639Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"13\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>as long as you set <code>SERVER_MEM_LIMIT</code> accordingly.</p>\n</blockquote>\n</aside>\n<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"13\" data-topic=\"520\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>There\u2019s also knobs to reduce the amount of cache that a storage server holds, if you\u2019d like to try reducing memory on storage servers.</p>\n</blockquote>\n</aside>\n<p>I have a hard time finding the corresponding knobs, and also how to configure them from within <code>foundationdb.conf</code>. I see the \u201c\u2013memory\u201d argument for fdbserver but this seems like a memory threshold before killing the process.</p>\n<p>For example, If I want to limit a <code>stateless</code> class process to 2 GiB, what are the knobs I need to change, and how to I set their values from <code>foundationdb.conf</code>?</p>\n<p>If I only set <code>memory =  2GiB</code>, I think that it will always try to consume 4GB and be repeatedly killed when it goes above 2GB, which is not what I\u2019d like (<em>I\u2019d prefer that it attempt to only use 2GB, and maybe kill it if it goes above 4GB.</em>).</p>",
        "post_number": 18,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-07-02T13:49:35.639Z",
        "reply_count": 1,
        "reply_to_post_number": 13,
        "quote_count": 1,
        "incoming_link_count": 18,
        "reads": 164,
        "readers_count": 163,
        "score": 127.8,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/18",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1586,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-07-02T19:18:12.807Z",
        "cooked": "<p>Hm.  Apparently, we don\u2019t have any form of <code>--help</code> that lists all the knobs you can set, and it takes <code>--dev-help</code> for it to even print that it\u2019s possible to set knobs.</p>\n<p>You\u2019re looking for <code>--knob_server_mem_limit=</code>, so you should be able to add <code>knob_server_mem_limit = &lt;2GB as an integer&gt;</code> to your foundationdb.conf, and it should work. Take a look at the various Knobs.h files (e.g. <a href=\"https://github.com/apple/foundationdb/blob/abb5100388025e5e97341e99bef1ac89a934b3a2/fdbserver/Knobs.h\" rel=\"nofollow noopener\">fdbserver/Knobs.h</a>) for the full listings.</p>\n<p>The storage server page cache knob is --knob_page_cache_4k, that describes the total number of bytes that should be held in the page cache (so divide by 4k to get the number of pages).  It turns out that it defaults to 200MB, so it\u2019s likely not going to be helpful to tweak down.  (Though we should probably set the default higher in this day and age\u2026)</p>\n<p>SERVER_MEM_LIMIT only applies to proxies.  I don\u2019t think we have a generic way to limit any role to try and stay within 2GB, if you have the limit set as 4GB?</p>",
        "post_number": 19,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-07-02T19:22:18.945Z",
        "reply_count": 2,
        "reply_to_post_number": 18,
        "quote_count": 0,
        "incoming_link_count": 95,
        "reads": 160,
        "readers_count": 159,
        "score": 517.0,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/abb5100388025e5e97341e99bef1ac89a934b3a2/fdbserver/Knobs.h",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/Knobs.h at abb5100388025e5e97341e99bef1ac89a934b3a2 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 35
          },
          {
            "url": "https://forums.foundationdb.org/t/daily-pattern-in-worsttlog-queue-tuning-tlog-2gb-queue-size/1100",
            "internal": true,
            "reflection": true,
            "title": "Daily Pattern in WorstTLog Queue / Tuning TLog 2GB Queue size?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 53,
          "username": "KrzysFR",
          "name": "Christophe Chevalier",
          "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/19",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1587,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2018-07-02T19:22:49.592Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a> thanks, that\u2019s what I was looking for. This does not seem to be explained in the documentation.</p>\n<p>I assume that the convention is that knob <code>FOO_BAR_BAZ</code> in Knobs.h will be exposed as <code>knob_foo_bar_baz</code> in the .conf file ? Or is there another file that maps the key in the conf file into the knob constant?</p>\n<p><em>note: I\u2019m using github\u2019s search to look for the places in the code, but I really don\u2019t trust it to be accurate, because all I see is <a href=\"https://github.com/apple/foundationdb/search?q=SERVER_MEM_LIMIT&amp;unscoped_q=SERVER_MEM_LIMIT\" rel=\"nofollow noopener\">https://github.com/apple/foundationdb/search?q=SERVER_MEM_LIMIT&amp;unscoped_q=SERVER_MEM_LIMIT</a></em></p>",
        "post_number": 20,
        "post_type": 1,
        "posts_count": 27,
        "updated_at": "2018-07-02T19:28:50.889Z",
        "reply_count": 1,
        "reply_to_post_number": 19,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 166,
        "readers_count": 165,
        "score": 38.2,
        "yours": false,
        "topic_id": 520,
        "topic_slug": "cluster-tuning-cookbook",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/search?q=SERVER_MEM_LIMIT&unscoped_q=SERVER_MEM_LIMIT",
            "internal": false,
            "reflection": false,
            "title": "Search \u00b7 SERVER_MEM_LIMIT \u00b7 GitHub",
            "clicks": 8
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/cluster-tuning-cookbook/520/20",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      1493,
      1494,
      1518,
      1530,
      1537,
      1538,
      1541,
      1542,
      1549,
      1550,
      1552,
      1553,
      1556,
      1558,
      1563,
      1566,
      1581,
      1585,
      1586,
      1587,
      1588,
      1598,
      1599,
      1610,
      1662,
      2100,
      3235
    ]
  },
  "timeline_lookup": [
    [
      1,
      2681
    ],
    [
      3,
      2680
    ],
    [
      5,
      2679
    ],
    [
      6,
      2678
    ],
    [
      8,
      2677
    ],
    [
      9,
      2676
    ],
    [
      11,
      2675
    ],
    [
      15,
      2674
    ],
    [
      17,
      2670
    ],
    [
      18,
      2668
    ],
    [
      22,
      2667
    ],
    [
      25,
      2659
    ],
    [
      26,
      2595
    ],
    [
      27,
      2454
    ]
  ],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Cluster tuning cookbook",
  "id": 520,
  "title": "Cluster tuning cookbook",
  "posts_count": 27,
  "created_at": "2018-06-19T14:35:25.802Z",
  "views": 8885,
  "reply_count": 19,
  "like_count": 12,
  "last_posted_at": "2019-02-01T12:38:24.733Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "cluster-tuning-cookbook",
  "category_id": 7,
  "word_count": 4283,
  "deleted_at": null,
  "user_id": 310,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_520",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 27,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 6,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": null,
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 53,
        "username": "KrzysFR",
        "name": "Christophe Chevalier",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "post_count": 8,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 310,
        "username": "shamatar",
        "name": "Alexander",
        "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 502,
        "username": "nikolas.ioannou",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/5daacb/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 41,
        "username": "amirouche",
        "name": "Amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 310,
      "username": "shamatar",
      "name": "Alexander",
      "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png"
    },
    "last_poster": {
      "id": 502,
      "username": "nikolas.ioannou",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/5daacb/{size}.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/benchmarking-foundationdb-on-aws/410/4",
        "title": "Benchmarking FoundationDB on AWS",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 58,
        "user_id": 12,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/abb5100388025e5e97341e99bef1ac89a934b3a2/fdbserver/Knobs.h",
        "title": "foundationdb/Knobs.h at abb5100388025e5e97341e99bef1ac89a934b3a2 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 35,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/production-optimizations/601/9",
        "title": "Production optimizations",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 18,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/432",
        "title": "Proxy going OOM when applying high volumes of writes to a proxy, part\u2026 by bnamasivayam \u00b7 Pull Request #432 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 18,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/foundationdb-cluster-setup/1641/5",
        "title": "FoundationDB cluster setup",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 9,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/search?q=SERVER_MEM_LIMIT&unscoped_q=SERVER_MEM_LIMIT",
        "title": "Search \u00b7 SERVER_MEM_LIMIT \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 8,
        "user_id": 53,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/production-optimizations/601/10",
        "title": "Production optimizations",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 7,
        "user_id": 311,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1529/2",
        "title": "WARNING A single process is both a transaction log and a storage server",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 5,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/how-to-spin-up-foundationdb-cluster-in-aws/1198/2",
        "title": "How to spin up foundationdb cluster in aws",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 3,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/is-there-some-guide-manual-for-a-reasonable-way-to-deployment-topology/2778/3",
        "title": "Is there some guide manual for a reasonable way to deployment topology \uff1f",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 3,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}