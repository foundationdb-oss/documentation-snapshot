{
  "post_stream": {
    "posts": [
      {
        "id": 9341,
        "name": "Sharon Fraiman",
        "username": "sharonf",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png",
        "created_at": "2021-04-21T06:52:01.105Z",
        "cooked": "<p>Hello.<br>\nI have installed an FDB cluster using the cluster_with_client.yaml file (<a href=\"https://github.com/FoundationDB/fdb-kubernetes-operator/tree/master/config/samples\" rel=\"noopener nofollow ugc\">link</a>).<br>\nAll 7 (3 storage, 4 logs) nodes communicate with each other as expected, and the FDB is accessible.<br>\nHowever, in the client node, the fdbcli application shows that the three coordinators are unavailble, even though that when I connected to the client container inside the Pod, there is a ping to the three Coordinator IPs. In addition, I noticed that only the fdbcli binary is deployed in the client container, but there are no fdbmonitor and fdbserver binaries deployed.<br>\nIs it the way it was supposed to be deployed ?<br>\nIs there anything else I need to do to get the client up and running ?<br>\nThanks.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2021-04-21T06:52:01.105Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 72,
        "reads": 12,
        "readers_count": 11,
        "score": 362.4,
        "yours": false,
        "topic_id": 2670,
        "topic_slug": "client-in-cluster-with-client-yaml-does-not-connect-to-coordinators",
        "display_username": "Sharon Fraiman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/FoundationDB/fdb-kubernetes-operator/tree/master/config/samples",
            "internal": false,
            "reflection": false,
            "title": "fdb-kubernetes-operator/config/samples at master \u00b7 FoundationDB/fdb-kubernetes-operator \u00b7 GitHub",
            "clicks": 6
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 928,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/client-in-cluster-with-client-yaml-does-not-connect-to-coordinators/2670/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 9345,
        "name": "John Brownlee",
        "username": "john_brownlee",
        "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
        "created_at": "2021-04-22T22:21:12.544Z",
        "cooked": "<p>The sample app docker image has a CLI for FDB 6.1, whereas the sample FDB deployment in the Kubernetes operator repo is using FDB 6.2. The CLI can\u2019t connect across minor versions of FDB. The client app itself doesn\u2019t need the CLI, or the server binaries or monitor binaries. It should only need the FDB client library, and the sample configuration is providing the 6.2 library through an init container. The app itself seems to be connecting fine in my local deployment of it. Maybe we should remove the CLI from the sample app image to avoid this confusion, or configure the init container in a way that it brings in a 6.2 CLI binary as well.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2021-04-22T22:21:39.305Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 11,
        "readers_count": 10,
        "score": 7.2,
        "yours": false,
        "topic_id": 2670,
        "topic_slug": "client-in-cluster-with-client-yaml-does-not-connect-to-coordinators",
        "display_username": "John Brownlee",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 3,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/client-in-cluster-with-client-yaml-does-not-connect-to-coordinators/2670/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9349,
        "name": "Sharon Fraiman",
        "username": "sharonf",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png",
        "created_at": "2021-04-25T14:33:53.685Z",
        "cooked": "<p>Thanks John.<br>\nI replaced the fdbcli binary in the client container with a FDB6.2, and it indeed worked correctly.<br>\nHowever, I tried to see the value that the python script server.py is writing to the key \u2018counter\u2019, but could not see any value - Not in the client fdbcli, or any of the other nodes.<br>\nRunning a manual python shell from the client container worked :</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>fdb.api_version(int(os.getenv(\u2018FDB_API_VERSION\u2019)))<br>\ndb=fdb.open()<br>\nCOUNTER_KEY=fdb.tuple.pack((\u2018counter\u2019,))<br>\ndb[COUNTER_KEY]<br>\nb\u2019\\x15\\x04\u2019<br>\nCOUNTER_KEY<br>\nb\u2019\\x02counter\\x00\u2019<br>\nexit()</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>However, from the fdbcli :<br>\nUsing cluster file <code>/var/dynamic-conf/fdb.cluster'. The database is available. Welcome to the fdbcli. For help, type </code>help\u2019.<br>\nfdb&gt; get \u2018\\x02counter\\x00\u2019<br>\n`\u2018\\x02counter\\x00\u2019': not found</p>\n<p>Do you have an explanation for this behaviour ?<br>\nThank you very much John for all your help.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2021-04-25T14:33:53.685Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 11,
        "readers_count": 10,
        "score": 7.2,
        "yours": false,
        "topic_id": 2670,
        "topic_slug": "client-in-cluster-with-client-yaml-does-not-connect-to-coordinators",
        "display_username": "Sharon Fraiman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 928,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/client-in-cluster-with-client-yaml-does-not-connect-to-coordinators/2670/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9350,
        "name": "Sharon Fraiman",
        "username": "sharonf",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png",
        "created_at": "2021-04-25T15:55:35.984Z",
        "cooked": "<p>Found the issue.<br>\nShould ommit the \u2019 character :<br>\nfdb&gt; get \\x02counter\\x00<br>\n<code>\\x02counter\\x00' is </code>\\x15\\x06\u2019</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2021-04-25T15:55:35.984Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 11,
        "readers_count": 10,
        "score": 2.2,
        "yours": false,
        "topic_id": 2670,
        "topic_slug": "client-in-cluster-with-client-yaml-does-not-connect-to-coordinators",
        "display_username": "Sharon Fraiman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 928,
          "username": "sharonf",
          "name": "Sharon Fraiman",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 928,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/client-in-cluster-with-client-yaml-does-not-connect-to-coordinators/2670/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      9341,
      9345,
      9349,
      9350
    ]
  },
  "timeline_lookup": [
    [
      1,
      1645
    ],
    [
      2,
      1643
    ],
    [
      3,
      1640
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "operator"
  ],
  "tags_descriptions": {},
  "fancy_title": "Client in cluster_with_client.yaml does not connect to Coordinators",
  "id": 2670,
  "title": "Client in cluster_with_client.yaml does not connect to Coordinators",
  "posts_count": 4,
  "created_at": "2021-04-21T06:52:01.029Z",
  "views": 527,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2021-04-25T15:55:35.984Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "client-in-cluster-with-client-yaml-does-not-connect-to-coordinators",
  "category_id": 16,
  "word_count": 407,
  "deleted_at": null,
  "user_id": 928,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2670",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "New API to get the version of a running cluster without needing a matching libfdb_c library",
      "id": 437,
      "title": "New API to get the version of a running cluster without needing a matching libfdb_c library",
      "slug": "new-api-to-get-the-version-of-a-running-cluster-without-needing-a-matching-libfdb-c-library",
      "posts_count": 8,
      "reply_count": 3,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2018-05-19T12:26:50.509Z",
      "last_posted_at": "2018-05-21T19:33:34.145Z",
      "bumped": true,
      "bumped_at": "2018-05-21T19:33:34.145Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 2729,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 260,
            "username": "jared2501",
            "name": "Jared2501",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Deployment with custom fdb.cluster file",
      "id": 592,
      "title": "Deployment with custom fdb.cluster file",
      "slug": "deployment-with-custom-fdb-cluster-file",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2018-07-26T23:00:18.994Z",
      "last_posted_at": "2018-07-27T23:44:31.722Z",
      "bumped": true,
      "bumped_at": "2018-07-27T23:44:31.722Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 4329,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Connecting to the database using `fdbcli` results in an error",
      "id": 1841,
      "title": "Connecting to the database using `fdbcli` results in an error",
      "slug": "connecting-to-the-database-using-fdbcli-results-in-an-error",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2019-12-14T07:23:08.203Z",
      "last_posted_at": "2019-12-17T15:06:03.064Z",
      "bumped": true,
      "bumped_at": "2019-12-17T15:06:03.064Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2426,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 700,
            "username": "viveksinghggits",
            "name": "Vivek Singh",
            "avatar_template": "/user_avatar/forums.foundationdb.org/viveksinghggits/{size}/737_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 3,
            "username": "john_brownlee",
            "name": "John Brownlee",
            "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Client library backwards compatibility issues",
      "id": 919,
      "title": "Client library backwards compatibility issues",
      "slug": "client-library-backwards-compatibility-issues",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2018-11-30T16:17:55.490Z",
      "last_posted_at": "2018-11-30T19:21:19.862Z",
      "bumped": true,
      "bumped_at": "2018-11-30T19:21:19.862Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1325,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 158,
            "username": "aseipp",
            "name": "Austin Seipp",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aseipp/{size}/124_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB @ Kubernetes having &ldquo;issues&rdquo;",
      "id": 383,
      "title": "FoundationDB @ Kubernetes having \"issues\"",
      "slug": "foundationdb-kubernetes-having-issues",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-05-09T10:17:53.797Z",
      "last_posted_at": "2018-05-11T17:28:05.081Z",
      "bumped": true,
      "bumped_at": "2018-05-11T17:28:05.081Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2031,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 247,
            "username": "Chr1st0ph",
            "name": "Chr1st0ph",
            "avatar_template": "/user_avatar/forums.foundationdb.org/chr1st0ph/{size}/353_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 928,
        "username": "sharonf",
        "name": "Sharon Fraiman",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 3,
        "username": "john_brownlee",
        "name": "John Brownlee",
        "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 928,
      "username": "sharonf",
      "name": "Sharon Fraiman",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png"
    },
    "last_poster": {
      "id": 928,
      "username": "sharonf",
      "name": "Sharon Fraiman",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e19b73/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/FoundationDB/fdb-kubernetes-operator/tree/master/config/samples",
        "title": "fdb-kubernetes-operator/config/samples at master \u00b7 FoundationDB/fdb-kubernetes-operator \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 6,
        "user_id": 928,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}