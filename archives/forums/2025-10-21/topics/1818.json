{
  "post_stream": {
    "posts": [
      {
        "id": 5740,
        "name": "Max McDonnell",
        "username": "max",
        "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png",
        "created_at": "2019-12-06T00:10:34.708Z",
        "cooked": "<p>I have a basic FDBRecordStore that is instantiated like so:</p>\n<pre><code class=\"lang-auto\">var metadata: RecordMetaDataBuilder = RecordMetaData\n    .newBuilder()\n    .setRecords(fileDescriptor)\nval recordType = session.metadata.getRecordType(\"User\")\nrecordType.setPrimaryKey(\n    Key.Expressions\n    .concat(Key.Expressions.recordType(), Key.Expressions.field(\"id\"))\n)\ncontext = db.openContext()\nval store = FDBRecordStore.newBuilder()\n    .setMetaDataProvider(session.metadata)\n    .setContext(context)\n    .setKeySpacePath(session.getPath())\n    .createOrOpen()\ndb.close()\n</code></pre>\n<p>I tried to add a FDBMetaDataStore like so:</p>\n<pre><code class=\"lang-auto\">var metadata: RecordMetaDataBuilder = RecordMetaData\n    .newBuilder()\n    .setRecords(fileDescriptor)\n\nval recordType = metadata.getRecordType(\"User\")\nrecordType.setPrimaryKey(\n    Key.Expressions\n    .concat(Key.Expressions.recordType(), Key.Expressions.field(\"id\"))\n)\n\ncontext = db.openContext()\nval mdStore = new FDBMetaDataStore(context, session.getPath())\nmdStore.saveRecordMetaData(metadata)\nmdStore.setLocalFileDescriptor(fileDescriptor)\ncontext.commit()\ncontext.close()\n\ncontext = db.openContext()\nval store = FDBRecordStore.newBuilder()\n    .setMetaDataProvider(metadata.build(true))\n    .setMetaDataStore(mdStore)\n    .setContext(context)\n    .setKeySpacePath(session.getPath())\n    .createOrOpen()\ncontext.close()\ndb.close()\n</code></pre>\n<p>And now the createOrOpen call fails with <code>RecordStoreNoInfoAndNotEmptyException</code>. I\u2019ve tried setting this up a variety of different ways and I keep getting the same error. In looking at the Record Layer tests all the asserts on that exception seem to be very simple cases where no metadata is provided.</p>\n<p>Any thoughts?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T00:12:31.951Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 117,
        "reads": 36,
        "readers_count": 35,
        "score": 592.2,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Max McDonnell",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 593,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 5743,
        "name": "Mike McMahon",
        "username": "MMcM",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
        "created_at": "2019-12-06T15:52:36.442Z",
        "cooked": "<p>Is it possible that at some time in the past you wrote data to this subspace without using the <code>createOrOpen</code> builder methods?</p>\n<p>Those methods maintain a header on the record store that contains the latest meta-data version at which the store was accessed. This in turn drives schema evolution operations, such as building new indexes. If there are records written to the record store <em>before</em> the meta-data version is recorded in the header, it is impossible to know what meta-data was used to write them and so what schema evolution operations they might be missing. That is what that error message is about.</p>\n<p>If that is the case, look at <code>StoreExistenceCheck</code> for other ways to open the record store once to get the current meta-data version recorded so that you are back on track going forward.</p>\n<p>Another possibility is that you are accidentally using (part of) the record store subspace for something else. The <code>key</code> in the exception\u2019s <code>logInfo</code> will tell you want it found and perhaps that will indicate this.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T15:52:36.442Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 32,
        "readers_count": 31,
        "score": 31.4,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Mike McMahon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 219,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5745,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2019-12-06T16:46:09.734Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"MMcM\" data-post=\"2\" data-topic=\"1818\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/d07c76/48.png\" class=\"avatar\"> MMcM:</div>\n<blockquote>\n<p>The <code>key</code> in the exception\u2019s <code>logInfo</code> will tell you want it found and perhaps that will indicate this.</p>\n</blockquote>\n</aside>\n<p>Which can be inspected with something like:</p>\n<pre data-code-wrap=\"java\"><code class=\"lang-java\">KeyValueLogMessage msg = KeyValueLogMessage.build(\"some message\")\n    .addKeysAndValues(((LoggableException)err).getLogInfo());\nLOGGER.error(msg.toString()); // or equivalent\n</code></pre>\n<p>We should probably add a utility method to add those to log messages, etc\u2026 Might be good to document that that\u2019s what we do with our exceptions somewhere, though where is non-obvious\u2026</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T16:46:09.734Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 32,
        "readers_count": 31,
        "score": 11.4,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5748,
        "name": "Max McDonnell",
        "username": "max",
        "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png",
        "created_at": "2019-12-06T19:04:42.191Z",
        "cooked": "<p>Thanks <a class=\"mention\" href=\"/u/alloc\">@alloc</a> and <a class=\"mention\" href=\"/u/mmcm\">@MMcM</a> for the responses and the tips.</p>\n<p>I\u2019ve been wiping the database between test runs so I think that might disqualify some of these possibilities?</p>\n<p>I ran KeyValueLogMessage and got the following output: <code> some message key=\"(null, 0)\" key_space_path=\"/hi:'hi'\"</code></p>\n<p>Going to poke around the values in the database a bit more to see if I\u2019m missing anything.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T19:25:13.779Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 31,
        "readers_count": 30,
        "score": 31.2,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Max McDonnell",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 593,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5749,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2019-12-06T19:30:40.961Z",
        "cooked": "<p>Interesting. That\u2019s not a key that a record store should ever write.</p>\n<p>How are you wiping the database? With a <code>clear_range(\\x00, \\xff)</code>? Or by calling, say, <code>FDBRecordStore::deleteAllRecords</code>?</p>\n<p>Are you using the <code>/\"hi\"/null</code> path, by any chance? That kind of looks like one is trying to store a record store at <code>/\"hi\"/null</code> but then trying to access it just from <code>/\"hi\"</code>. (Or that there are two stores, one at <code>/\"hi\"/null</code> and another at <code>/\"hi\"</code>, and then they aren\u2019t playing nicely.)</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T19:30:40.961Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 32,
        "readers_count": 31,
        "score": 11.4,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 593,
          "username": "max",
          "name": "Max McDonnell",
          "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5750,
        "name": "Max McDonnell",
        "username": "max",
        "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png",
        "created_at": "2019-12-06T20:08:13.995Z",
        "cooked": "<p>Either setting the db up from scratch in docker or with the following:</p>\n<pre><code class=\"lang-auto\">val metaDataSubspace = session.getPath().toSubspace(context)\ncontext.ensureActive.clear(Range.startsWith(metaDataSubspace.pack))\ncontext.commit()\n</code></pre>\n<p>I don\u2019t think I\u2019m using a path with null in it. The path used in this setup passes the following: <code>assert(path.toString() == \"/hi:\\\"hi\\\"\")</code> (not sure if the escaped quotes are expected)</p>\n<p>I\u2019m building my keyspace/path as follows:</p>\n<pre><code class=\"lang-auto\">val ks = new KeySpace(\n  new KeySpaceDirectory(\n    this.keySpace,\n    KeySpaceDirectory.KeyType.STRING,\n    this.keySpace\n  )\n)\nreturn ks.path(this.keySpace)\n</code></pre>\n<p><code>this.keySpace</code> is a <code>String</code></p>\n<p>Right before the createOrOpen call there is just one key (I used this to grab all keys: <a href=\"https://forums.foundationdb.org/t/range-reading-all-key-values/1647\" class=\"inline-onebox\">Range-reading all key-values</a>)  in the database, it is:</p>\n<pre><code class=\"lang-auto\">[{\\x02hi\\x00\\x00\\x14 [10 123 10 12 116 97 98 108 101 115 46 112 114 111 116 111 34 44 10 4 85 115 101 114 18 14 10 2 105 100 24 1 32 1 40 9 82 2 105 100 18 20 10 5 101 109 97 105 108 24 2 32 1 40 9 82 5 101 109 97 105 108 34 45 10 15 82 101 99 111 114 100 84 121 112 101 85 110 105 111 110 18 26 10 5 95 85 115 101 114 24 1 32 1 40 11 50 5 46 85 115 101 114 82 4 85 115 101 114 66 6 90 4 109 97 105 110 98 6 112 114 111 116 111 51 26 26 10 4 85 115 101 114 18 18 10 16 10 2 90 0 10 10 26 8 10 2 105 100 16 1 24 1 32 0 40 2 64 0]}]\n</code></pre>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-06T20:08:13.995Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 32,
        "readers_count": 31,
        "score": 31.4,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Max McDonnell",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/range-reading-all-key-values/1647",
            "internal": true,
            "reflection": false,
            "title": "Range-reading all key-values",
            "clicks": 1
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 8,
          "username": "alloc",
          "name": "Alec Grieser",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 593,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5754,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2019-12-07T00:55:52.454Z",
        "cooked": "<p>Oh, wait, and then you\u2019re using the same key space for your meta-data and your data?</p>\n<p>Then I think I see what\u2019s going on here. The meta-data store will store it\u2019s meta-data in a key prefixed with a (tuple packed) <code>null</code>, which then conflicts with what the record store is trying to do with it.</p>\n<p>Something like:</p>\n<pre><code class=\"lang-java\">new KeySpace(\n   new KeySpaceDirectory(\"hi\", KeyType.STRING, \"hi\")\n      .addSubdirectory(new KeySpaceDirectory(\"meta_data\", KeyType.STRING, \"m\"))\n      .addSubdirectory(new KeySpaceDirectory(\"data\", KeyType.STRING, \"d\"))\n)\n</code></pre>\n<p>I think will do it? Then you use <code>ks.path(\"hi\").add(\"meta_data\")</code> for the meta-data store and then <code>ks.path(\"hi\").add(\"data\")</code> for the data store.</p>\n<p>And then you can also do fancy things if you have multiple data stores with the same meta-data, but this will be the simplest to get you to something that works. (You could also choose to use integers or null instead of strings, but again, not necessary; just a possible storage optimization as (small) integers are cheaper to store than (all but the smallest) strings).</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-07T00:55:52.454Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 31,
        "readers_count": 30,
        "score": 46.2,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/record-layer-saverecord-fails-with-java-util-concurrent-executionexception-com-apple-foundationdb-record-recordcoreexception-expected-only-a-single-key-extension-for-split-record/1887/4",
            "internal": true,
            "reflection": true,
            "title": "Record layer saveRecord fails with ***java.util.concurrent.ExecutionException: com.apple.foundationdb.record.RecordCoreException: Expected only a single key extension for split record***",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 593,
          "username": "max",
          "name": "Max McDonnell",
          "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5757,
        "name": "Max McDonnell",
        "username": "max",
        "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png",
        "created_at": "2019-12-07T16:32:39.896Z",
        "cooked": "<p>oh man, this is so obvious in retrospect. it works now, thank you!</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-12-07T16:32:39.896Z",
        "reply_count": 0,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 31,
        "readers_count": 30,
        "score": 6.2,
        "yours": false,
        "topic_id": 1818,
        "topic_slug": "confusing-error-when-using-fdbmetadatastore",
        "display_username": "Max McDonnell",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 8,
          "username": "alloc",
          "name": "Alec Grieser",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 593,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/confusing-error-when-using-fdbmetadatastore/1818/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      5740,
      5743,
      5745,
      5748,
      5749,
      5750,
      5754,
      5757
    ]
  },
  "timeline_lookup": [
    [
      1,
      2147
    ],
    [
      2,
      2146
    ],
    [
      8,
      2145
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Confusing error when using FDBMetaDataStore",
  "id": 1818,
  "title": "Confusing error when using FDBMetaDataStore",
  "posts_count": 8,
  "created_at": "2019-12-06T00:10:34.651Z",
  "views": 1571,
  "reply_count": 5,
  "like_count": 1,
  "last_posted_at": "2019-12-07T16:32:39.896Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "confusing-error-when-using-fdbmetadatastore",
  "category_id": 12,
  "word_count": 1076,
  "deleted_at": null,
  "user_id": 593,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1818",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 8,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Record layer saveRecord fails with ***java.util.concurrent.ExecutionException: com.apple.foundationdb.record.RecordCoreException: Expected only a single key extension for split record***",
      "id": 1887,
      "title": "Record layer saveRecord fails with ***java.util.concurrent.ExecutionException: com.apple.foundationdb.record.RecordCoreException: Expected only a single key extension for split record***",
      "slug": "record-layer-saverecord-fails-with-java-util-concurrent-executionexception-com-apple-foundationdb-record-recordcoreexception-expected-only-a-single-key-extension-for-split-record",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2020-01-17T12:24:17.084Z",
      "last_posted_at": "2020-01-22T17:17:40.033Z",
      "bumped": true,
      "bumped_at": "2020-01-22T17:17:40.033Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1023,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 712,
            "username": "rahul-nitkkr",
            "name": "Rahul Roy",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rahul-nitkkr/{size}/754_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 219,
            "username": "MMcM",
            "name": "Mike McMahon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Ignoring Presence of New Indexes",
      "id": 3146,
      "title": "Ignoring Presence of New Indexes",
      "slug": "ignoring-presence-of-new-indexes",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2022-01-31T17:35:34.942Z",
      "last_posted_at": "2022-02-01T19:17:25.321Z",
      "bumped": true,
      "bumped_at": "2022-02-01T19:17:25.321Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 731,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Cannot commit transaction that reads the metadataVersion key after changing it",
      "id": 1833,
      "title": "Cannot commit transaction that reads the metadataVersion key after changing it",
      "slug": "cannot-commit-transaction-that-reads-the-metadataversion-key-after-changing-it",
      "posts_count": 7,
      "reply_count": 3,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2019-12-11T22:52:33.816Z",
      "last_posted_at": "2019-12-13T13:23:15.818Z",
      "bumped": true,
      "bumped_at": "2019-12-13T14:11:35.389Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1297,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "With the Record Layer, does the keyspace path get re-created when app re-starts?",
      "id": 1513,
      "title": "With the Record Layer, does the keyspace path get re-created when app re-starts?",
      "slug": "with-the-record-layer-does-the-keyspace-path-get-re-created-when-app-re-starts",
      "posts_count": 4,
      "reply_count": 0,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-07-10T14:38:34.257Z",
      "last_posted_at": "2019-07-11T05:04:03.732Z",
      "bumped": true,
      "bumped_at": "2019-07-11T05:04:03.732Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1001,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 388,
            "username": "amarjeet000",
            "name": "Amarjeet",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/e19adc/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 219,
            "username": "MMcM",
            "name": "Mike McMahon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Should mutations performed via fdbcli always update the \\xff/metadataVersion key?",
      "id": 2093,
      "title": "Should mutations performed via fdbcli always update the \\xff/metadataVersion key?",
      "slug": "should-mutations-performed-via-fdbcli-always-update-the-xff-metadataversion-key",
      "posts_count": 6,
      "reply_count": 2,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2020-04-29T11:39:06.923Z",
      "last_posted_at": "2020-05-14T13:46:08.081Z",
      "bumped": true,
      "bumped_at": "2020-05-14T13:46:08.081Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 938,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 593,
        "username": "max",
        "name": "Max McDonnell",
        "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 8,
        "username": "alloc",
        "name": "Alec Grieser",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 219,
        "username": "MMcM",
        "name": "Mike McMahon",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 593,
      "username": "max",
      "name": "Max McDonnell",
      "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png"
    },
    "last_poster": {
      "id": 593,
      "username": "max",
      "name": "Max McDonnell",
      "avatar_template": "/user_avatar/forums.foundationdb.org/max/{size}/585_2.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/record-layer-saverecord-fails-with-java-util-concurrent-executionexception-com-apple-foundationdb-record-recordcoreexception-expected-only-a-single-key-extension-for-split-record/1887/4",
        "title": "Record layer saveRecord fails with ***java.util.concurrent.ExecutionException: com.apple.foundationdb.record.RecordCoreException: Expected only a single key extension for split record***",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 3,
        "user_id": 219,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/range-reading-all-key-values/1647",
        "title": "Range-reading all key-values",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 593,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}