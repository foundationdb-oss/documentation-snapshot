{
  "post_stream": {
    "posts": [
      {
        "id": 2045,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2018-09-08T13:43:35.921Z",
        "cooked": "<p>Hi,</p>\n<p>I am trying to understand fields in <code>status json</code> for monitoring purposes. There are a few fields that I could not understand, and it would be great if someone can help out with these:</p>\n<ol>\n<li>\n<p><code>cluster-&gt;machines-&gt;id-&gt;memory-&gt;committed_bytes</code> =&gt; What does this field convey? And what operating system counter/metric is it using to get its value?</p>\n</li>\n<li>\n<p><code>cluster-&gt;processes-&gt;id-&gt;memory-&gt;used_bytes</code> =&gt; What does this field convey? And what operating system counter/metric is it using to get its value (RES memory or something else)?</p>\n</li>\n<li>\n<p><code>cluster-&gt;workload-&gt;keys-&gt;read</code> =&gt; What is this field for and how is it different from <code>cluster-&gt;workload-&gt;operations-&gt;read</code>?</p>\n</li>\n<li>\n<p><code>cluster-&gt;workload-&gt;bytes-&gt;read/write</code> =&gt; what are these fields for? Are they indicating data exchange rate (read and written) at the interface of fdbserver, or does it indicate data written out by fdbservers to disk? How is the field useful for monitoring?</p>\n</li>\n</ol>\n<p>Is there any field that tells me per process or per machine disk read and write rate in bytes? I</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-09-08T15:12:36.064Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 180,
        "reads": 70,
        "readers_count": 69,
        "score": 934.0,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": "more questions",
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 2058,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-09-10T17:44:56.147Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>cluster-&gt;machines-&gt;id-&gt;memory-&gt;committed_bytes</code> =&gt; What does this field convey? And what operating system counter/metric is it using to get its value?</p>\n</blockquote>\n</aside>\n<p>This is the memory on the machine that is not regarded as available. On Linux it comes from <code>/proc/meminfo</code>, and you can see its computation here:</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399\" target=\"_blank\" rel=\"noopener\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399\" target=\"_blank\" rel=\"noopener\">apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-cpp\">\n      <ol class=\"start lines\" start=\"389\" style=\"counter-reset: li-counter 388 ;\">\n          <li>\tint64_t usedSwap = request[LiteralStringRef(\"SwapTotal:\")] - request[LiteralStringRef(\"SwapFree:\")];</li>\n          <li></li>\n          <li>\tmemInfo.total = 1024 * request[LiteralStringRef(\"MemTotal:\")];</li>\n          <li>\tif(request[LiteralStringRef(\"MemAvailable:\")] != -1) {</li>\n          <li>\t\tmemInfo.available = 1024 * (request[LiteralStringRef(\"MemAvailable:\")] - usedSwap);</li>\n          <li>\t}</li>\n          <li>\telse {</li>\n          <li>\t\tmemInfo.available = 1024 * (std::max&lt;int64_t&gt;(0, (memFree-lowWatermark) + std::max(pageCache-lowWatermark, pageCache/2) + std::max(slabReclaimable-lowWatermark, slabReclaimable/2)) - usedSwap);</li>\n          <li>\t}</li>\n          <li></li>\n          <li class=\"selected\">\tmemInfo.committed = memInfo.total - memInfo.available;</li>\n          <li>#elif defined(_WIN32)</li>\n          <li>\tMEMORYSTATUSEX mem_status;</li>\n          <li>\tmem_status.dwLength = sizeof(mem_status);</li>\n          <li>\tif (!GlobalMemoryStatusEx(&amp;mem_status)) {</li>\n          <li>\t\tTraceEvent(SevError, \"WindowsGetMemStatus\").GetLastError();</li>\n          <li>\t\tthrow platform_error();</li>\n          <li>\t}</li>\n          <li></li>\n          <li>\tPERFORMACE_INFORMATION perf;</li>\n          <li>\tif (!GetPerformanceInfo(&amp;perf, sizeof(perf))) {</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>cluster-&gt;processes-&gt;id-&gt;memory-&gt;used_bytes</code> =&gt; What does this field convey? And what operating system counter/metric is it using to get its value (RES memory or something else)?</p>\n</blockquote>\n</aside>\n<p>This is the virtual memory size of the process, and it comes from <code>/proc/self/statm</code> on Linux. You can see it being collected here:</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L275\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L275\" target=\"_blank\" rel=\"noopener\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L275\" target=\"_blank\" rel=\"noopener\">apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L275</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-cpp\">\n      <ol class=\"start lines\" start=\"265\" style=\"counter-reset: li-counter 264 ;\">\n          <li>\t\tTraceEvent(SevError, \"GetResidentMemoryUsage\").GetLastError();</li>\n          <li>\t\tthrow platform_error();</li>\n          <li>\t}</li>\n          <li>\treturn info.resident_size;</li>\n          <li>#else</li>\n          <li>\t#warning getMemoryUsage unimplemented on this platform</li>\n          <li>\treturn 0;</li>\n          <li>#endif</li>\n          <li>}</li>\n          <li></li>\n          <li class=\"selected\">uint64_t getMemoryUsage() {</li>\n          <li>#if defined(__linux__)</li>\n          <li>\tuint64_t vmsize = 0;</li>\n          <li></li>\n          <li>\tstd::ifstream stat_stream(\"/proc/self/statm\", std::ifstream::in);</li>\n          <li></li>\n          <li>\tif(!stat_stream.good()) {</li>\n          <li>\t\tTraceEvent(SevError, \"GetMemoryUsage\").GetLastError();</li>\n          <li>\t\tthrow platform_error();</li>\n          <li>\t}</li>\n          <li></li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>cluster-&gt;workload-&gt;keys-&gt;read</code> =&gt; What is this field for and how is it different from <code>cluster-&gt;workload-&gt;operations-&gt;read</code> ?</p>\n</blockquote>\n</aside>\n<p>This is the number of keys read, expressed as a triple of rate, roughness, and total. The rate is measured per second and the total is the sum over all storage processes for their current lifetimes. Roughness is a measure of how evenly spaced or bursty the metric is, with a roughness of 1 corresponding to evenly spaced events and a higher roughness representing events that come in spurts.</p>\n<p>The operations metric measures the number of operations, ignoring how many keys each returns. For example, a get range that returns 10 keys counts as 10 in the first metric and 1 in the second.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>cluster-&gt;workload-&gt;bytes-&gt;read/write</code> =&gt; what are these fields for? Are they indicating data exchange rate (read and written) at the interface of fdbserver, or does it indicate data written out by fdbservers to disk? How is the field useful for monitoring?</p>\n</blockquote>\n</aside>\n<p>For reads, this is the same as above except that instead of reporting the number of keys returned, it reports the size of the data returned.</p>\n<p>For writes, this is reporting the logical size of the mutations being written to the database (i.e. key+value size, ignoring replication, disk overhead, etc.).</p>\n<p>These fields give you an idea how much work the clients of a database are doing in aggregate.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>Is there any field that tells me per process or per machine disk read and write rate in bytes?</p>\n</blockquote>\n</aside>\n<p><code>cluster-&gt;processes-&gt;id-&gt;disk-&gt;reads/writes-&gt;sectors</code> will tell you the number of sectors being read or written, which are typically 512 bytes in size (though you may want to confirm that\u2019s the case in your environment).</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-09-10T17:44:56.147Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 7,
        "reads": 69,
        "readers_count": 68,
        "score": 68.8,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/Platform.cpp at 2f2aaf5bce971d08a4a053a98a28321e887ea0fc \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          },
          {
            "url": "https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L275",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/Platform.cpp at 2f2aaf5bce971d08a4a053a98a28321e887ea0fc \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2079,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2018-09-12T16:24:47.971Z",
        "cooked": "<p>Thank you for the detailed explanation. This is very helpful.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-09-12T16:24:47.971Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 51,
        "readers_count": 50,
        "score": 15.2,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2809,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2018-12-07T12:47:03.078Z",
        "cooked": "<p>Hi, while writing the monitoring scripts, I could not understand precise semantics of process.disk counters:</p>\n<pre><code class=\"lang-auto\">disk\" : {\n    \"busy\" : 0.047199600000000001,\n    \"free_bytes\" : 827432890368,\n    \"reads\" : {\n        \"counter\" : 8447124,\n        \"hz\" : 17.1999,\n        \"sectors\" : 688\n    },\n    \"total_bytes\" : 914706128896,\n    \"writes\" : {\n        \"counter\" : 188700975,\n        \"hz\" : 183.19900000000001,\n        \"sectors\" : 48352\n    }\n}\n</code></pre>\n<p>Specifically:</p>\n<ul>\n<li>\n<code>busy</code>: what does this indicate? I tried making the disk perform a lot of IO using <code>dd</code> commands in parallel; <code>iostat</code> command showed <code>%util</code> to be close to 98%, whereas the <code>busy</code> counter remained in low single digit %.</li>\n<li>\n<code>read/writes.hz</code> : do these inficate number of read/write iops done by the specific fdbserver process (and not the total iops being issued against the disk - including those done by any other non-fdb process)? If so how are they related (or different) to <code>sectors</code> counter?</li>\n</ul>\n<p>And a few more questions on <code>workload</code> counters:</p>\n<pre><code class=\"lang-auto\">\"workload\" : {\n\"bytes\" : {\n    \"read\" : {\n        \"counter\" : 2613703043638,\n        \"hz\" : 23296.599999999999,\n        \"roughness\" : 9629.0699999999997\n    },\n    \"written\" : {\n        \"counter\" : 3954328153,\n        \"hz\" : 968.18499999999995,\n        \"roughness\" : 901.48900000000003\n    }\n},\n\"keys\" : {\n    \"read\" : {\n        \"counter\" : 41657599527,\n        \"hz\" : 186.39699999999999,\n        \"roughness\" : 114.771\n    }\n},\n\"operations\" : {\n    \"read_requests\" : {\n        \"counter\" : 1110279557,\n        \"hz\" : 652.99000000000001,\n        \"roughness\" : 4.3613800000000005\n    },\n    \"reads\" : {\n        \"counter\" : 1110279557,\n        \"hz\" : 652.99000000000001,\n        \"roughness\" : 4.3613800000000005\n    },\n    \"writes\" : {\n        \"counter\" : 31491107,\n        \"hz\" : 4.5999300000000005,\n        \"roughness\" : 4.2830500000000002\n    }\n},\n</code></pre>\n<p>There are three seemingly similar counters:</p>\n<ol>\n<li><code>keys.read</code></li>\n<li><code>operations.read_requests</code></li>\n<li><code>operations.reads</code></li>\n</ol>\n<p><a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a> explained above that <code>keys-&gt;read</code> is the number of keys read by all storage servers, whereas <code>operations-&gt;read</code> is the number of read operations (including range reads) issued by clients.<br>\nWhat does <code>operations.read_requests</code> indicate (assuming my above understanding is correct for the other two counters)?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-12-07T12:47:03.078Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 50,
        "readers_count": 49,
        "score": 40.0,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 166,
          "username": "gaurav",
          "name": "gaurav",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2810,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-12-07T16:33:23.299Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>busy</code> : what does this indicate? I tried making the disk perform a lot of IO using <code>dd</code> commands in parallel; <code>iostat</code> command showed <code>%util</code> to be close to 98%, whereas the <code>busy</code> counter remained in low single digit %.</p>\n</blockquote>\n</aside>\n<p>This gives a fraction of time the disk associated with a process\u2019s data directory is doing IOs over what is typically a 5 second window. On Linux, it comes from reading <code>/proc/diskstats</code>. I don\u2019t have a good explanation for why you saw what you did unless you happened to be doing your IOs on a different drive.</p>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216\" target=\"_blank\" rel=\"noopener\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216\" target=\"_blank\" rel=\"noopener\">apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216</a></h4>\n\n\n\n    <pre class=\"onebox\"><code class=\"lang-cpp\">\n      <ol class=\"start lines\" start=\"1206\" style=\"counter-reset: li-counter 1205 ;\">\n          <li>\tuint64_t nowWrites = (*statState)-&gt;lastWrites;</li>\n          <li>\tuint64_t nowWriteSectors = (*statState)-&gt;lastWriteSectors; </li>\n          <li>\tuint64_t nowReadSectors = (*statState)-&gt;lastReadSectors;</li>\n          <li></li>\n          <li>\tif(dataFolder != \"\") {</li>\n          <li>\t\tgetDiskStatistics(dataFolder, currentIOs, nowBusyTicks, nowReads, nowWrites, nowWriteSectors, nowReadSectors);</li>\n          <li>\t\treturnStats.processDiskQueueDepth = currentIOs;</li>\n          <li>\t\treturnStats.processDiskReadCount = nowReads;</li>\n          <li>\t\treturnStats.processDiskWriteCount = nowWrites;</li>\n          <li>\t\tif( returnStats.initialized ) {</li>\n          <li class=\"selected\">\t\t\treturnStats.processDiskIdleSeconds = std::max&lt;double&gt;(0, returnStats.elapsed - std::min&lt;double&gt;(returnStats.elapsed, (nowBusyTicks - (*statState)-&gt;lastBusyTicks) / 1000.0));</li>\n          <li>\t\t\treturnStats.processDiskRead = (nowReads - (*statState)-&gt;lastReads);</li>\n          <li>\t\t\treturnStats.processDiskWrite = (nowWrites - (*statState)-&gt;lastWrites);</li>\n          <li>\t\t\treturnStats.processDiskWriteSectors = (nowWriteSectors - (*statState)-&gt;lastWriteSectors);</li>\n          <li>\t\t\treturnStats.processDiskReadSectors = (nowReadSectors - (*statState)-&gt;lastReadSectors);</li>\n          <li>\t\t}</li>\n          <li>\t\t(*statState)-&gt;lastBusyTicks = nowBusyTicks;</li>\n          <li>\t\t(*statState)-&gt;lastReads = nowReads;</li>\n          <li>\t\t(*statState)-&gt;lastWrites = nowWrites;</li>\n          <li>\t\t(*statState)-&gt;lastWriteSectors = nowWriteSectors;</li>\n          <li>\t\t(*statState)-&gt;lastReadSectors = nowReadSectors;</li>\n      </ol>\n    </code></pre>\n\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><code>read/writes.hz</code> : do these inficate number of read/write iops done by the specific fdbserver process (and not the total iops being issued against the disk - including those done by any other non-fdb process)? If so how are they related (or different) to <code>sectors</code> counter?</p>\n</blockquote>\n</aside>\n<p>This is the rate that reads and writes are being performed on the disk and is not specific to a single process. The sectors counter tells you how many sectors are being read or written to by those reads or writes, as each read or write may consist of multiple sectors. This comes from the same code linked above. It seems that in status, though, we report the read/write hz as a rate per second (as implied by the name), but sectors is reported as the number that occurred over a ~5 second window (the exact window size is not reported). That seems wrong to me, so we should probably change that to be a rate and/or a counter.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"684\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>What does <code>operations.read_requests</code> indicate (assuming my above understanding is correct for the other two counters)?</p>\n</blockquote>\n</aside>\n<p>Read requests measure incoming requests, the other two measure metrics for completed requests. The former may differ from the latter if the cluster can\u2019t keep up with all of the reads.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-12-07T16:33:23.299Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 3,
        "reads": 44,
        "readers_count": 43,
        "score": 28.8,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/Platform.cpp at 62d437810998880da8c88e0acd0c30f98ae026de \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2812,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2018-12-07T20:20:54.448Z",
        "cooked": "<p>Thanks AJ! I was mistakenly running dd command against a different disk. You explanation matches the corrected test results.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2018-12-07T20:20:54.448Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 39,
        "readers_count": 38,
        "score": 7.8,
        "yours": false,
        "topic_id": 684,
        "topic_slug": "few-queries-on-status-json",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/few-queries-on-status-json/684/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      2045,
      2058,
      2079,
      2809,
      2810,
      2812
    ]
  },
  "timeline_lookup": [
    [
      1,
      2600
    ],
    [
      2,
      2598
    ],
    [
      3,
      2596
    ],
    [
      4,
      2510
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Few queries on status json",
  "id": 684,
  "title": "Few queries on status json",
  "posts_count": 6,
  "created_at": "2018-09-08T13:43:35.838Z",
  "views": 1237,
  "reply_count": 4,
  "like_count": 2,
  "last_posted_at": "2018-12-07T20:20:54.448Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "few-queries-on-status-json",
  "category_id": 7,
  "word_count": 1256,
  "deleted_at": null,
  "user_id": 166,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_684",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 6,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Help me understand this status output",
      "id": 742,
      "title": "Help me understand this status output",
      "slug": "help-me-understand-this-status-output",
      "posts_count": 13,
      "reply_count": 8,
      "highest_post_number": 13,
      "image_url": null,
      "created_at": "2018-10-04T01:03:25.785Z",
      "last_posted_at": "2021-06-15T15:32:08.437Z",
      "bumped": true,
      "bumped_at": "2021-06-15T15:32:08.437Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 3594,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 44,
            "username": "cespare",
            "name": "Caleb Spare",
            "avatar_template": "/user_avatar/forums.foundationdb.org/cespare/{size}/36_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 949,
            "username": "DenisBY",
            "name": "Denis",
            "avatar_template": "/user_avatar/forums.foundationdb.org/denisby/{size}/1104_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Questions on status json",
      "id": 2843,
      "title": "Questions on status json",
      "slug": "questions-on-status-json",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/d/d6f4658294c597dc66b291b9766a4836bf043694_2_1024x512.png",
      "created_at": "2021-08-06T23:30:16.884Z",
      "last_posted_at": "2021-08-21T10:40:35.086Z",
      "bumped": true,
      "bumped_at": "2021-08-21T10:40:35.086Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 1111,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 405,
            "username": "harikb",
            "name": "Hari B",
            "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 534,
            "username": "PierreZ",
            "name": "Pierre Zemb",
            "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Memory Available in FDBCLI",
      "id": 653,
      "title": "Memory Available in FDBCLI",
      "slug": "memory-available-in-fdbcli",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/343ca3fa60e20facd0ce7b1490d3edf92afcb1a4_2_1024x576.jpg",
      "created_at": "2018-08-23T06:05:32.307Z",
      "last_posted_at": "2018-08-25T03:34:01.847Z",
      "bumped": true,
      "bumped_at": "2018-08-25T05:24:46.227Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 1047,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 235,
            "username": "wolfspider",
            "name": "Jesse Bennett",
            "avatar_template": "/user_avatar/forums.foundationdb.org/wolfspider/{size}/206_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "What do you monitor?",
      "id": 184,
      "title": "What do you monitor?",
      "slug": "what-do-you-monitor",
      "posts_count": 36,
      "reply_count": 20,
      "highest_post_number": 36,
      "image_url": null,
      "created_at": "2018-04-21T17:30:11.663Z",
      "last_posted_at": "2022-09-26T15:33:11.453Z",
      "bumped": true,
      "bumped_at": "2022-09-26T15:33:11.453Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 55,
      "views": 10060,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 43,
            "username": "killertypo",
            "name": "Mike McMahon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/killertypo/{size}/35_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 534,
            "username": "PierreZ",
            "name": "Pierre Zemb",
            "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Troubles scaling up the cluster",
      "id": 751,
      "title": "Troubles scaling up the cluster",
      "slug": "troubles-scaling-up-the-cluster",
      "posts_count": 32,
      "reply_count": 26,
      "highest_post_number": 32,
      "image_url": null,
      "created_at": "2018-10-08T03:24:54.004Z",
      "last_posted_at": "2018-11-01T16:26:01.527Z",
      "bumped": true,
      "bumped_at": "2018-11-01T16:26:01.527Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 3747,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "last_poster": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/blob/2f2aaf5bce971d08a4a053a98a28321e887ea0fc/flow/Platform.cpp#L399",
        "title": "foundationdb/Platform.cpp at 2f2aaf5bce971d08a4a053a98a28321e887ea0fc \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/62d437810998880da8c88e0acd0c30f98ae026de/flow/Platform.cpp#L1216",
        "title": "foundationdb/Platform.cpp at 62d437810998880da8c88e0acd0c30f98ae026de \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}