{
  "post_stream": {
    "posts": [
      {
        "id": 3484,
        "name": "mehmet onsiper",
        "username": "monsiper",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png",
        "created_at": "2019-02-21T19:47:47.704Z",
        "cooked": "<p>Hello! We have been experimenting with FDB for a while and would like to use it as our primary DB. It seems like it\u2019d be greatly beneficial to have at least an elementary understanding of how user-specified process classes and automatic recruitment work together. I have a few questions to clarify my understanding, and also would like to validate some <em>rules-of-thumb</em> I extracted out of prior discussions in this forum. So here goes:</p>\n<ol>\n<li>\n<p>Can a process with an assigned class (i.e. not <code>unset</code>) still get recruited to another class if there is a need? My understanding is that user-specified assignments are more like guidelines, and can be overridden in run-time if necessary. Is that correct?</p>\n</li>\n<li>\n<p>This is a follow-up question to the above. Let\u2019s say I have a host with a single storage device and two processes whose classes are <code>transaction</code> and <code>stateless</code>. Does such an assignment imply that this host will not store any data (modulo transaction logs), or does it simply state that this host prioritizes transaction log processing over data storage? If the behavior is the former, one would need to take this fact into account when thinking about replicas and such.</p>\n</li>\n<li>\n<p>Does it ever make sense to configure a host so that <code>num processes</code> &gt; <code>num cores</code>? In such a case, my understanding is that extra processes will mostly stay idle and only do meaningful work if the first <code>num cores</code> processes are all stuck waiting on things. Is that even plausible? I\u2019d think processes would refrain from synchronous waits so that such a situation is avoided. Therefore, I\u2019m inclined to use <code>num processes</code> == <code>num cores</code>. What am I missing?</p>\n</li>\n<li>\n<p>After studying some discussions on this forum, here are the <em>rules-of-thumb</em> I extracted to come up with a reasonable \u201cdefault configuration\u201d for our FDB clusters. I\u2019d be glad if you could eye them and let me know if any of them doesn\u2019t make sense.</p>\n</li>\n</ol>\n<ul>\n<li>\n<code>num disks</code> = <code>num storage processes</code> + <code>num log processes</code> for each host</li>\n<li>\n<code>num total proxy processes</code> = <code>num total log processes</code>\n</li>\n<li>Proxy and log processes are not on the same host (so that they don\u2019t compete for BW)</li>\n<li>Storage and log processes do not use the same storage device (so that they don\u2019t compete)</li>\n<li>When using SSD storage devices, <code>num of storage processes</code> / <code>num of log processes</code> should roughly be around 8.</li>\n<li>Any extra processes that we don\u2019t know what to do with should be of the class <code>stateless</code> instead of <code>unset</code> so that they do not get auto-assigned to <code>storage</code>.</li>\n</ul>\n<p>I know this is a long post\u2026 thanks in advance for all the responses; they will be greatly appreciated.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-02-21T19:47:47.704Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 921,
        "reads": 135,
        "readers_count": 134,
        "score": 4631.8,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "mehmet onsiper",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/storage-process-being-assigned-log-roles-automatically/2170",
            "internal": true,
            "reflection": true,
            "title": "Storage process being assigned log roles automatically",
            "clicks": 1
          },
          {
            "url": "https://forums.foundationdb.org/t/6-0-18-reporting-incorrect-fault-tolerance-via-fdbcli-with-triple-redundancy-mode/1282",
            "internal": true,
            "reflection": true,
            "title": "6.0.18 Reporting incorrect Fault Tolerance via fdbcli with triple redundancy mode?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 475,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 3486,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2019-02-21T20:38:05.109Z",
        "cooked": "<p>The manual assignments of process classes is largely to work around the fact that FDB can be terrible about how it recruits roles in your cluster by default.  It\u2019s a thing that I\u2019d really like to see improved sometime, but no one is actively working on it.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"1\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<ul>\n<li>Can a process with an assigned class (i.e. not <code>unset</code> ) still get recruited to another class if there is a need? My understanding is that user-specified assignments are more like guidelines, and can be overridden in run-time if necessary. Is that correct?</li>\n</ul>\n</blockquote>\n</aside>\n<p>I\u2019d honestly just recommend looking <a href=\"https://github.com/apple/foundationdb/blob/038a952939628ad7badbac319c09e75ccf22231e/fdbrpc/Locality.cpp#L30\">at the code</a> for this.  Some things can be overridden in a time of great need, some can\u2019t.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"1\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<ul>\n<li>This is a follow-up question to the above. Let\u2019s say I have a host with a single storage device and two processes whose classes are <code>transaction</code> and <code>stateless</code> . Does such an assignment imply that this host will not store any data (modulo transaction logs), or does it simply state that this host prioritizes transaction log processing over data storage?</li>\n</ul>\n</blockquote>\n</aside>\n<p>It would imply that the host would only store transaction logs.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"1\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<ul>\n<li>Does it ever make sense to configure a host so that <code>num processes</code> &gt; <code>num cores</code> ?</li>\n</ul>\n</blockquote>\n</aside>\n<p>Overall, I\u2019d recommend against it, because you\u2019ll probably just see an increase in latency for no real gains.  There\u2019s nothing that stops FDB from recruiting more than one role for a given process, and it\u2019d likely be a bit better to have two roles in one process than two processes on one core.  The only reason for concern that I would have is that they\u2019d then share the process memory limit, but as FDB runs fine entirely out of a single process, that\u2019s not a large concern that I\u2019d have.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"1\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<p>After studying some discussions on this forum, here are the <em>rules-of-thumb</em> I extracted to come up with a reasonable \u201cdefault configuration\u201d for our FDB clusters.</p>\n</blockquote>\n</aside>\n<p>You\u2019ll find that it\u2019s sometimes advantageous to run &gt;1 storage servers per disk, because one alone won\u2019t be able to saturate the disk IOPS.  So maybe more like <code>num disks = num SS processes / SS per disk + num log processes</code>.  (Assuming that you have more cores than disks to support the extra processes.)</p>\n<p>When using ssd storage <strong>engine</strong>, storage/log = ~8, on physical hardware that\u2019s vaguely around what I\u2019ve previously benchmarked.  Memory storage engine has a ratio of about 2.</p>\n<p>Also make sure that you use <code>log</code> instead of <code>transaction</code> as the process class for transaction logs.  <code>transaction</code> is basically <code>proxy</code>+<code>log</code>, which I\u2019ve only not pushed for its removal because it\u2019s rather convenient when measuring proxy vs log ratios so that you don\u2019t have to constantly change your process classes.</p>\n<p>I\u2019ll also add that your number of logs and proxies should probably be roughly equal, as benchmarks I\u2019ve done have showed diminishing returns from deviating from the two being equal.  This is quite possibly workload dependent though.</p>\n<p>Use the minimum number of resolvers that you can.  1 is ideal, 2 if it measurably improves your workload, 8 is right out.</p>\n<p>Having some excessive stateless processes is always convenient.  If you\u2019re looking into multi-dc, remote regions can be relatively stateless process hungry, because log routers can be recruited onto stateless processes if you haven\u2019t allocated them their own processes.  In 6.1 and beyond, you\u2019ll see more things that used to be combined moved off into their own recruitable roles (e.g. Data distribution in 6.1, and ratekeeper will probably follow), both of which will end up in stateless unless otherwise told.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-02-21T20:38:05.109Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 44,
        "reads": 127,
        "readers_count": 126,
        "score": 245.2,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/038a952939628ad7badbac319c09e75ccf22231e/fdbrpc/Locality.cpp#L30",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/Locality.cpp at 038a952939628ad7badbac319c09e75ccf22231e \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 64
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3489,
        "name": "mehmet onsiper",
        "username": "monsiper",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png",
        "created_at": "2019-02-21T23:08:26.855Z",
        "cooked": "<p>So, in a cluster with identical nodes that have a single storage device, at least one node will need to have <code>log</code> and <code>storage</code> processes running together and competing for the same device; unless one is willing to have that node/device just doing transaction logs. However, such an allocation doesn\u2019t make a lot of sense to me \u2013 it sounds like we\u2019d be leaving significant storage space unused. Am I thinking correctly?</p>\n<p>BTW, the link you gave was really helpful! We will probably start out with a small cluster with one <code>log</code> process, which worried me about having a single point of failure. However, looking at the code, I see <code>storage</code> nodes can be recruited (even though it is a <code>ProcessClass::WorstFit</code>) for this purpose if push comes to shove. That should preserve availability until the crashed node comes back, right?</p>\n<p>One final question: Do processes have a single class at a given time, or can they do two things at once? Take the above scenario as an example. Assume that the host housing the <code>log</code> process goes down, and that a <code>storage</code> process on some other node is recruited for this purpose. Does the auto-recruited process do both data storage and transaction logs now, or does it stop doing data storage? What happens when the crashed node (and its <code>log</code> process) comes back? Does the auto-recruited node go back to being <code>storage</code> (or <code>storage</code>-only)?</p>\n<p>Thanks for the prompt and insightful reply!</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-02-21T23:08:26.855Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 108,
        "readers_count": 107,
        "score": 51.4,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "mehmet onsiper",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 475,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3490,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2019-02-22T01:42:25.774Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"3\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<p>it sounds like we\u2019d be leaving significant storage space unused. Am I thinking correctly?</p>\n</blockquote>\n</aside>\n<p>Unfortunately, disks have a fixed amount of IOPS and space that you purchase together.  A transaction log is disk-time hungry, but (normally) rather unconcerned about the amount of space it has.  There is a particular case though, if a storage server dies and its responsibilities are being moved or if you\u2019re in a multi-region setup and the remote region dies, where the amount of space a transaction log has to buffer quite a large number of commits would become of concern.</p>\n<p>If you\u2019re running on SSDs, then it\u2019s also a plus that the drive is mostly empty, because it means the disk can efficiently wear level itself, and transaction logs do <strong>a lot</strong> of writes.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"3\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<p>We will probably start out with a small cluster with one <code>log</code> process, which worried me about having a single point of failure.</p>\n</blockquote>\n</aside>\n<p>One log would mean single replication, so you\u2019d lose your database if you lose one node.  Perhaps I\u2019d suggest using <code>double</code> replication and two logs?  Then if you lose one log, you would end up having a log recruited alongside a storage server until the failed log-class process comes back.</p>\n<aside class=\"quote no-group\" data-username=\"monsiper\" data-post=\"3\" data-topic=\"1177\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/m/ba9def/48.png\" class=\"avatar\"> monsiper:</div>\n<blockquote>\n<p>Do processes have a single class at a given time, or can they do two things at once?</p>\n</blockquote>\n</aside>\n<p>FDB processes start up a \u201cworker\u201d that can spawn the zero or more of the actors that make up an FDB database.  A <em>role</em> is a defined responsibility that is a part of FDB, e.g. proxy, log, storage server, etc.  A <em>process class</em> is a preference of what roles we\u2019d like to have <em>recruited</em> on that given process.  FDB is free to recruit more than one role per process if it needs to.  The extreme example of this is that you can run the entire database in one process, which is in fact what the installers do to provide a local FDB instance to play with.</p>\n<p>So for your particular example, when a storage process gets recruited as a log and a storage server, it is running both concurrently.  If your log process comes back, FDB will see that a more preferred configuration exists, and then trigger a recovery so that we can recruit a log on the newly available process and eventually abandon the old one.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-02-22T01:42:25.774Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 30,
        "reads": 104,
        "readers_count": 103,
        "score": 170.6,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3491,
        "name": "mehmet onsiper",
        "username": "monsiper",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png",
        "created_at": "2019-02-22T02:00:16.873Z",
        "cooked": "<p>Thank you, this answers all my questions!</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-02-22T02:00:16.873Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 18,
        "reads": 98,
        "readers_count": 97,
        "score": 109.4,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "mehmet onsiper",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 475,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4406,
        "name": "Nikita Melkozerov",
        "username": "meln1k",
        "avatar_template": "/user_avatar/forums.foundationdb.org/meln1k/{size}/150_2.png",
        "created_at": "2019-06-15T13:16:26.887Z",
        "cooked": "<p>I wrote a blog post where I tried to bring clarity about classes and roles, their resource requirements, and how to configure a cluster that doesn\u2019t have an awful performance: <a href=\"https://nikita.melkozerov.dev/posts/2019/06/building-a-foundationdb-cluster-roles-classes-and-processes/\" rel=\"nofollow noopener\">https://nikita.melkozerov.dev/posts/2019/06/building-a-foundationdb-cluster-roles-classes-and-processes/</a></p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2019-06-15T13:16:26.887Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 21,
        "reads": 85,
        "readers_count": 84,
        "score": 156.8,
        "yours": false,
        "topic_id": 1177,
        "topic_slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
        "display_username": "Nikita Melkozerov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://nikita.melkozerov.dev/posts/2019/06/building-a-foundationdb-cluster-roles-classes-and-processes/",
            "internal": false,
            "reflection": false,
            "title": "Building a FoundationDB Cluster: Roles, Classes, and Processes \u2014 Nikita Melkozerov",
            "clicks": 230
          },
          {
            "url": "https://forums.foundationdb.org/t/is-there-some-guide-manual-for-a-reasonable-way-to-deployment-topology/2778/2",
            "internal": true,
            "reflection": true,
            "title": "Is there some guide manual for a reasonable way to deployment topology \uff1f",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 3
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 170,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-about-process-classes-recruitment-behavior-and-cluster-configuration/1177/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      3484,
      3486,
      3489,
      3490,
      3491,
      4406
    ]
  },
  "timeline_lookup": [
    [
      1,
      2434
    ],
    [
      6,
      2320
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Questions about process classes, recruitment behavior and cluster configuration",
  "id": 1177,
  "title": "Questions about process classes, recruitment behavior and cluster configuration",
  "posts_count": 6,
  "created_at": "2019-02-21T19:47:47.590Z",
  "views": 2849,
  "reply_count": 1,
  "like_count": 4,
  "last_posted_at": "2019-06-15T13:16:26.887Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "questions-about-process-classes-recruitment-behavior-and-cluster-configuration",
  "category_id": 7,
  "word_count": 1833,
  "deleted_at": null,
  "user_id": 475,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1177",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 6,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Storage process being assigned log roles automatically",
      "id": 2170,
      "title": "Storage process being assigned log roles automatically",
      "slug": "storage-process-being-assigned-log-roles-automatically",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-06-08T10:53:48.559Z",
      "last_posted_at": "2020-06-08T15:19:03.484Z",
      "bumped": true,
      "bumped_at": "2020-06-08T15:19:03.484Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 834,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 747,
            "username": "ashishgupta",
            "name": "Ashish Gupta",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/c67d28/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        }
      ]
    },
    {
      "fancy_title": "We have some machines and cpu and a little ssd",
      "id": 1532,
      "title": "We have some machines and cpu and a little ssd",
      "slug": "we-have-some-machines-and-cpu-and-a-little-ssd",
      "posts_count": 6,
      "reply_count": 4,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2019-07-22T13:53:58.839Z",
      "last_posted_at": "2019-07-23T18:05:38.232Z",
      "bumped": true,
      "bumped_at": "2019-07-23T18:05:38.232Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 778,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 520,
            "username": "Vasilii",
            "name": "Vasiliy Popkov",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/258eb7/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Need help to understand setting fdbserver.ID",
      "id": 3346,
      "title": "Need help to understand setting fdbserver.ID",
      "slug": "need-help-to-understand-setting-fdbserver-id",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2022-05-27T22:48:07.897Z",
      "last_posted_at": "2022-05-30T17:17:07.347Z",
      "bumped": true,
      "bumped_at": "2022-05-30T17:17:07.347Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 599,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 1104,
            "username": "chetan_pg",
            "name": "chetan",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d6d6ee/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Process class and machine sharing deployment questions",
      "id": 1600,
      "title": "Process class and machine sharing deployment questions",
      "slug": "process-class-and-machine-sharing-deployment-questions",
      "posts_count": 16,
      "reply_count": 11,
      "highest_post_number": 16,
      "image_url": null,
      "created_at": "2019-08-28T14:29:20.326Z",
      "last_posted_at": "2019-09-03T19:26:35.853Z",
      "bumped": true,
      "bumped_at": "2019-09-03T19:26:35.853Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 2619,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 642,
            "username": "arob",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9fc29f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "WARNING: A single process is both a transaction log and a storage server",
      "id": 1580,
      "title": "WARNING: A single process is both a transaction log and a storage server",
      "slug": "warning-a-single-process-is-both-a-transaction-log-and-a-storage-server",
      "posts_count": 17,
      "reply_count": 14,
      "highest_post_number": 17,
      "image_url": null,
      "created_at": "2019-08-11T17:20:33.378Z",
      "last_posted_at": "2019-08-13T20:43:59.991Z",
      "bumped": true,
      "bumped_at": "2019-08-13T20:43:59.991Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 1783,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 475,
        "username": "monsiper",
        "name": "mehmet onsiper",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 170,
        "username": "meln1k",
        "name": "Nikita Melkozerov",
        "avatar_template": "/user_avatar/forums.foundationdb.org/meln1k/{size}/150_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 475,
      "username": "monsiper",
      "name": "mehmet onsiper",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png"
    },
    "last_poster": {
      "id": 170,
      "username": "meln1k",
      "name": "Nikita Melkozerov",
      "avatar_template": "/user_avatar/forums.foundationdb.org/meln1k/{size}/150_2.png"
    },
    "links": [
      {
        "url": "https://nikita.melkozerov.dev/posts/2019/06/building-a-foundationdb-cluster-roles-classes-and-processes/",
        "title": "Building a FoundationDB Cluster: Roles, Classes, and Processes \u2014 Nikita Melkozerov",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 230,
        "user_id": 170,
        "domain": "nikita.melkozerov.dev",
        "root_domain": "melkozerov.dev"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/038a952939628ad7badbac319c09e75ccf22231e/fdbrpc/Locality.cpp#L30",
        "title": "foundationdb/Locality.cpp at 038a952939628ad7badbac319c09e75ccf22231e \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 64,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/is-there-some-guide-manual-for-a-reasonable-way-to-deployment-topology/2778/2",
        "title": "Is there some guide manual for a reasonable way to deployment topology \uff1f",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 2,
        "user_id": 534,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/storage-process-being-assigned-log-roles-automatically/2170",
        "title": "Storage process being assigned log roles automatically",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 1,
        "user_id": 747,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}