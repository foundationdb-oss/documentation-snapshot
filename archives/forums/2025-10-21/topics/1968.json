{
  "post_stream": {
    "posts": [
      {
        "id": 6265,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-20T00:35:23.526Z",
        "cooked": "<p>Hi, I am using foundationdb 5.2 , single machine, 24 cores CPU, 54G total available RAM.<br>\nI configured 8 foundationdb server processes on foundationdb.conf, storage engine is SSD, using default settings.<br>\nthe sequential  writing test results show that the Write throughput (MB/s) is only  68.8 (MB/s),<br>\nare there any good way to increase the throughout up to like 500+ (MB/s) ?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T01:28:31.970Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 759,
        "reads": 83,
        "readers_count": 82,
        "score": 3806.6,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 6266,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-02-20T01:26:26.836Z",
        "cooked": "<p>How have you configured process classes on your 8 server processes?  How many disks do you have attached to this machine?  Can you run FDB 6.2 instead?  Is this bare metal or in the cloud?  Are the disks locally attached or over the network?  How many client processes (not threads) are you using to generate the test workload?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T01:26:26.836Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 84,
        "readers_count": 83,
        "score": 26.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6267,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-20T02:47:07.892Z",
        "cooked": "<p>hi,<br>\nhere are the details of the configure file:</p>\n<pre><code class=\"lang-auto\">*## foundationdb.conf*\n*##*\n*## Configuration file for FoundationDB server processes*\n*## Full documentation is available at*\n*## https://apple.github.io/foundationdb/configuration.html#the-configuration-file*\n\n*[fdbmonitor]*\n*user = txcn *\n*group = txcn*\n\n*[general]*\n*restart_delay = 60*\n*## by default, restart_backoff = restart_delay_reset_interval = restart_delay*\n*# initial_restart_delay = 0*\n*# restart_backoff = 60*\n*# restart_delay_reset_interval = 60*\n*cluster_file = /etc/foundationdb/fdb.cluster*\n*# delete_envvars =*\n*# kill_on_configuration_change = true*\n\n*## Default parameters for individual fdbserver processes*\n*[fdbserver]*\n*command = /usr/sbin/fdbserver*\n*public_address = auto:$ID*\n*listen_address = public*\n*datadir = /var/lib/foundationdb/data/$ID*\n*logdir = /var/log/foundationdb*\n*# logsize = 10MiB*\n*# maxlogssize = 100MiB*\n*# machine_id = *\n*# datacenter_id = *\n*# class = *\n*# memory = 8GiB*\n*# storage_memory = 1GiB*\n*# metrics_cluster = *\n*# metrics_prefix =*\n\n*## An individual fdbserver process with id 4500*\n*## Parameters set here override defaults from the [fdbserver] section*\n*[fdbserver.4500]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4500*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver*\n\n*[fdbserver.4501]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4501*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver1*\n\n*[fdbserver.4502]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4502*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver2*\n\n*[fdbserver.4503]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4503*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver3*\n\n*[fdbserver.4504]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4504*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver4*\n\n*[fdbserver.4505]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4505*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver5*\n\n*[fdbserver.4506]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4506*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver6*\n\n*[fdbserver.4507]*\n*datadir = /opt/data/vanda/fdb-5.2.5/data/4507*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/fdbserver7*\n\n\n*[backup_agent]*\n*command = /usr/lib/foundationdb/backup_agent/backup_agent*\n*logdir = /opt/data/vanda/fdb-5.2.5/log/backup_agent*\n\n*[backup_agent.1]*\n</code></pre>\n<p>I am running the foundatondb server on only one machine, only one ssd disk is attached to this machine, the ssd disk is mounted to the path of \u201c/opt/data/vanda\u201d<br>\n. I am using ycsb to do the benchmark test, ycsb can only support FDB5.2, so I have t o use FDB5.2. the test is running on the local machine, bare metal , other than in the cloud. ssd disk  is locally attached. I use 8 FDB server processes and 1 ycsb instance to run, there are 24 threads in 1 ycsb instance.</p>\n<p>thanks</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T02:57:47.241Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 85,
        "readers_count": 84,
        "score": 52.0,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6268,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-02-20T03:13:10.301Z",
        "cooked": "<p>If you run <code>fdbcli&gt; status</code> on this cluster, it should give you a warning like:</p>\n<pre><code class=\"lang-auto\">WARNING: A single process is both a transaction log and a storage server.\nFor best performance use dedicated disks for the transaction logs by setting process classes.\n</code></pre>\n<p>EDIT: Ah, the code only logs this warning if you have 10 or more processes\u2026</p>\n<p>So I\u2019d suggest setting <code>process_class=stateless</code> on process 0, <code>process_class=log</code> on process 1, and <code>process_class=storage</code> on the rest, which will at least isolate different classes of priority work.  If you search these forums for \u201cprocess class\u201d, there\u2019s a number of other threads that go into process classes, and how/why to configure them.</p>\n<p>However, I\u2019m concerned that even if you continue with this test, it isn\u2019t really going to be representative of what running a real workload against a real cluster would be like, which is I assume why you\u2019re doing this benchmarking?</p>\n<p>By running your transaction logs and storage nodes on the same disk, the sequential transaction log workload is no longer sequential for the disk, and it will be fighting for fsyncs against the rest of your processes.  One machine with eight attached disks would be better.</p>\n<p>Though I greatly appreciate that someone contributed a YCSB client for FDB, YCSB is not a great benchmarking workload for FDB, as the results don\u2019t extrapolate out to other workloads well.  The implementation did one transaction per key read or per key written, which means it\u2019s actually benchmarking the GetReadVersion operation that starts a transaction and not reads or writes.  Real world workloads tend to do multiple operations per transaction, which amortizes the cost of starting a transaction.</p>\n<p>FoundationDB clients also have only one thread that handles FDB network traffic in the background, which can be easily saturated by a sustained benchmarking workload.  Running multiple client processes would be the better thing to do.</p>\n<p>YCSB is written against the 5.2 bindings, but you can still download a 6.2 client library from <a href=\"http://foundationdb.org\">foundationdb.org</a>, point to it with <a href=\"https://apple.github.io/foundationdb/api-general.html#multi-version-client\">FDB_NETWORK_OPTION_EXTERNAL_CLIENT_DIRECTORY</a>, and run against a 6.2 cluster.</p>\n<p>If you search this forum for \u201cmultitest\u201d, you\u2019ll find examples of the tooling that\u2019s built into fdbserver that we use for benchmarking FoundationDB.</p>\n<p>Overall, if you\u2019re looking for 500MB/s per host/disk, then FDB isn\u2019t going to be able to provide that.  (And some SSDs can\u2019t either.)</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T03:15:09.225Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 73,
        "readers_count": 72,
        "score": 89.6,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/api-general.html#multi-version-client",
            "internal": false,
            "reflection": false,
            "title": "Using FoundationDB Clients \u2014 FoundationDB 6.2",
            "clicks": 5
          },
          {
            "url": "http://foundationdb.org",
            "internal": false,
            "reflection": false,
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6270,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-20T04:13:43.440Z",
        "cooked": "<p>thanks very much for your detailed and very good explanantion.</p>\n<p>the purpose I\u2019m doing such kind of benchmark is checking how FDB works when saving data on the different  SSD. in another words, to check whether FDB could work much better on SSD 1 or SSD 2.<br>\nso we need higher write/read throughput, if the write/read throughput just only blow 100 MB/s or %cpu-util is very low like just only 20%, it means that only very data go through the disk, we can\u2019t identify which one is better to use for FDB.</p>\n<p>If I attached multiple ssd disks on one machine to do test, I guess the read/write throughout (MB/s) showed by iostat could be still be very low even though the FDB\u2019 performance (OPS) must be increased , am I right?</p>\n<p>by the way, do you know how to make %cpu-util higher like up to 80%-90% when using FDB? or are there any independent tools to help benchmark FDB and also %cpu-util is near up to 90%-100% or disk\u2019s read/write throughput is at least 200-300 MB/s ? or we need write such kind of tool by self?<br>\nI searched multitest  in the forum and I need time to digest them.</p>\n<p>Thanks again,</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T04:13:43.440Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 64,
        "readers_count": 63,
        "score": 32.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6271,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-02-20T04:35:12.111Z",
        "cooked": "<p>Oh, that\u2019s a very different motivation than I had assumed.  In that case, I\u2019d think that the storage engine would be far more interesting than the transaction log, and I think you can do this in a much easier way than actually running FDB.</p>\n<p>A transaction log largely just does sequential writes, and in its pathological case, random reads.  If you set up an FIO test that sequentially appended 64KB chunks to a file and fsync\u2019d after each one, then that\u2019s a decent rough approximation of a transaction log.  If a storage server falls far behind, then add in bursts of ten 64KB reads.</p>\n<p>For storage servers, I think <a class=\"mention\" href=\"/u/steavedhams\">@SteavedHams</a> has a redwood storage engine benchmark program that you could use.   Steve, do you agree, and could you explain how to run it?</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T04:35:44.024Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 64,
        "readers_count": 63,
        "score": 27.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6273,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-20T04:42:57.547Z",
        "cooked": "<p>thanks for the great help! looking forward to the redwood storage engine benchmark program</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-20T04:42:57.547Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 66,
        "readers_count": 65,
        "score": 13.2,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6309,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-26T03:39:53.755Z",
        "cooked": "<p>hi,<br>\ncould you let me know what the default block-size/page-size is for fondationdb and how we can change it?  I searched the document and failed to find any clue.</p>\n<p>Thanks,</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-26T03:39:53.755Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 64,
        "readers_count": 63,
        "score": 22.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6310,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-02-26T05:46:15.362Z",
        "cooked": "<p>With the ssd (SQLite) engine, the page size can\u2019t be changed.  Redwood will support configurable page sizes, however.</p>\n<p>If you would like to do disk performance testing with Redwood, you will have to build my repo\u2019s default branch from source.  The page size must also be changed in the source code currently.  The code is here:</p>\n<aside class=\"onebox whitelistedgeneric\">\n  <header class=\"source\">\n      <img src=\"https://github.githubassets.com/favicon.ico\" class=\"site-icon\" width=\"32\" height=\"32\">\n      <a href=\"https://github.com/satherton/foundationdb\" target=\"_blank\">GitHub</a>\n  </header>\n  <article class=\"onebox-body\">\n    <img src=\"https://global.discourse-cdn.com/foundationdb/original/1X/ff2b1aee4f78f016938f9e6f1bf31e8e307027e2.png\" class=\"thumbnail onebox-avatar\" width=\"400\" height=\"400\">\n\n<h3><a href=\"https://github.com/satherton/foundationdb\" target=\"_blank\">satherton/foundationdb</a></h3>\n\n<p>FoundationDB - the open source, distributed, transactional key-value store - satherton/foundationdb</p>\n\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>and the \u201cset\u201d test can be run with this command:</p>\n<p><code>fdbserver -r test -f tests/RedwoodPerfSet.txt</code></p>\n<p>This is a write-only benchmark that writes keys and values in batches based on a bunch of configurable parameters which are all in source code, so to change the write pattern you have to modify those.  The default is to write 20mb batches composed of large groups of sequential writes, which will be disk-bound.</p>\n<p>The pageSize can be changed here, and the other workload parameters are further down</p>\n<aside class=\"onebox githubblob\">\n  <header class=\"source\">\n      <a href=\"https://github.com/satherton/foundationdb/blob/feature-redwood/fdbserver/VersionedBTree.actor.cpp#L6654\" target=\"_blank\">github.com</a>\n  </header>\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/satherton/foundationdb/blob/feature-redwood/fdbserver/VersionedBTree.actor.cpp#L6654\" target=\"_blank\">satherton/foundationdb/blob/feature-redwood/fdbserver/VersionedBTree.actor.cpp#L6654</a></h4>\n<pre class=\"onebox\"><code class=\"lang-cpp\"><ol class=\"start lines\" start=\"6644\" style=\"counter-reset: li-counter 6643 ;\">\n<li>\n</li>\n<li>\t// If a test file is passed in by environment then don't write new data to it.</li>\n<li>\tstate bool reload = getenv(\"TESTFILE\") == nullptr;</li>\n<li>\tstate std::string pagerFile = reload ? \"unittest.redwood\" : getenv(\"TESTFILE\");</li>\n<li>\n</li>\n<li>\tif(reload) {</li>\n<li>\t\tprintf(\"Deleting old test data\\n\");</li>\n<li>\t\tdeleteFile(pagerFile);</li>\n<li>\t}</li>\n<li>\n</li>\n<li class=\"selected\">\tstate int pageSize = 4096;</li>\n<li>\tstate int64_t pageCacheBytes = FLOW_KNOBS-&gt;PAGE_CACHE_4K;</li>\n<li>\tDWALPager *pager = new DWALPager(pageSize, pagerFile, pageCacheBytes);</li>\n<li>\tstate VersionedBTree *btree = new VersionedBTree(pager, pagerFile);</li>\n<li>\twait(btree-&gt;init());</li>\n<li>\n</li>\n<li>\tstate int nodeCount = 1e9;</li>\n<li>\tstate int maxChangesPerVersion = 5000;</li>\n<li>\tstate int64_t kvBytesTarget = 4e9;</li>\n<li>\tstate int commitTarget = 20e6;</li>\n<li>\tstate int minKeyPrefixBytes = 25;</li>\n</ol></code></pre>\n\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-26T05:46:15.362Z",
        "reply_count": 2,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 66,
        "readers_count": 65,
        "score": 58.2,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/satherton/foundationdb",
            "internal": false,
            "reflection": false,
            "title": "GitHub - satherton/foundationdb: FoundationDB - the open source, distributed, transactional key-value store",
            "clicks": 6
          },
          {
            "url": "https://github.com/satherton/foundationdb/blob/feature-redwood/fdbserver/VersionedBTree.actor.cpp#L6654",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/VersionedBTree.actor.cpp at feature-redwood \u00b7 satherton/foundationdb \u00b7 GitHub",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6311,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-26T06:14:39.143Z",
        "cooked": "<p>thanks very much! I will try.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-26T06:14:39.143Z",
        "reply_count": 0,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 55,
        "readers_count": 54,
        "score": 11.0,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6312,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-26T07:47:45.688Z",
        "cooked": "<p>hi,<br>\nI checked the code of foundation 5.2.5 (I am using it currently), it shows:</p>\n<p>define SQLITE_DEFAULT_PAGE_SIZE 1024<br>\n<span class=\"hashtag\">#ifndef</span> SQLITE_MAX_DEFAULT_PAGE_SIZE</p>\n<h1>define SQLITE_MAX_DEFAULT_PAGE_SIZE 8192</h1>\n<p><span class=\"hashtag\">#endif</span></p>\n<p>I am using ssd as the storage engine, my questions are:</p>\n<ol>\n<li>the default page size is 1K  and the max default page size is 8K ? can I understand like that?</li>\n<li>what is the purpose to use SQLITE_MAX_DEFAULT_PAGE_SIZE?</li>\n</ol>\n<p>Thanks,<br>\nLuo</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-26T07:47:45.688Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 60,
        "readers_count": 59,
        "score": 27.0,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6314,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-02-26T09:52:39.341Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Cliicy\" data-post=\"11\" data-topic=\"1968\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/47e85d/48.png\" class=\"avatar\"> Cliicy:</div>\n<blockquote>\n<ul>\n<li>the default page size is 1K and the max default page size is 8K ? can I understand like that?</li>\n<li>what is the purpose to use SQLITE_MAX_DEFAULT_PAGE_SIZE?</li>\n</ul>\n</blockquote>\n</aside>\n<p>No.  These are internal SQLite defaults.  FDB sets the page size to 4096 when creating a new SQLite database file.  That line is <a href=\"https://github.com/apple/foundationdb/blob/5.2.8/fdbserver/KeyValueStoreSQLite.actor.cpp#L1367\">here</a> and changing the size to something else is completely untested.  I doubt it will work, or it may work with worse performance, because of how SQLite\u2019s file access works in FDB.</p>\n<p>SQLite\u2019s file operations are routed through a caching layer called AsyncFileCached.  There are 2 page caches instanced, a 64k page cache for SQLite WAL (write-ahead-log) files and a 4k page cache for SQLite\u2019s main page file and all other files.  SQLite uses \u201czero copy reads\u201d which AsyncFileCached requires to be exactly pageSize (4096) in length or it throws an io_error exception.  It\u2019s possible (I have not checked) that when this happens it will fall back to non zero-copy reads, but if so performance will be terrible.  Without zero-copy reads, most page accesses by SQLite will incur a page copy, even pages that are already in the cache (FDB\u2019s cache) because from SQLite\u2019s perspective it is reading from the filesystem.  SQLite has an internal page cache but it is intentionally configured to be very small so that FDB\u2019s code can manage which pages are cached and can share the page cache capacity across all users of AsyncFileCached.</p>\n<p>You can try modifying AsyncFileCache.actor.h/cpp to change the 4k page size to some other page size.  It might work to just change all instances of 4096 in those files to some other page size but you will also have to instance a FastAllocator&lt;&gt; for the new page size if it is larger than 8192 or you will get compile errors.  You could also just not change the checks which are trying to use FastAllocator&lt;4096&gt;, but then it will use slower memory allocation for each cache entry creation.</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-26T09:52:39.341Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 1,
        "incoming_link_count": 9,
        "reads": 61,
        "readers_count": 60,
        "score": 77.2,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/5.2.8/fdbserver/KeyValueStoreSQLite.actor.cpp#L1367",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/KeyValueStoreSQLite.actor.cpp at 5.2.8 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6342,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-27T12:26:46.106Z",
        "cooked": "<p>Hi,<br>\nI have a question here,<br>\nI changed to use foundationDB 6.2.11 now, so Redwood storage engine will be used by default if I use the command line below to initialize database:<br>\nfdbcli --exec \u2018configure single new ssd\u2019</p>\n<p>am I right?</p>\n<p>thanks,</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-27T12:26:46.106Z",
        "reply_count": 1,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 54,
        "readers_count": 53,
        "score": 30.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6349,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-02-27T16:31:14.358Z",
        "cooked": "<p>No.  Redwood is still experimental, not the default, and be warned that its files on disk are NOT forward-compatible.   Also, 6.2.11 is rather old for Redwood and missing a lot of optimization.  I suggest you try the latest master branch from the main FDB repository if you want to test with it.  Master branch was updated yesterday with the latest version.</p>\n<p>The configuration command is <code>ssd-redwood-experimental</code>.</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-27T16:31:14.358Z",
        "reply_count": 2,
        "reply_to_post_number": 14,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 50,
        "readers_count": 49,
        "score": 25.0,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6359,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-28T01:09:55.613Z",
        "cooked": "<p>do you mean I need clone the latest master branch and then compile from source code before I can use the latest Redwood?<br>\nor I can download the latest release version <a href=\"https://github.com/apple/foundationdb/releases/tag/6.2.17\" rel=\"nofollow noopener\">Release 6.2.17</a> ? I notices that Release 6.2.17 is just made yesterday.</p>\n<p>Thanks,</p>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-28T01:09:55.613Z",
        "reply_count": 1,
        "reply_to_post_number": 15,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 55,
        "readers_count": 54,
        "score": 16.0,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/releases/tag/6.2.17",
            "internal": false,
            "reflection": false,
            "title": "Release Release 6.2.17 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6360,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-02-28T01:11:44.958Z",
        "cooked": "<p>The <a href=\"https://github.com/apple/foundationdb/pull/2753\">redwood update</a> is only in <code>master</code> and not <code>release-6.2</code>, so 6.2.17 doesn\u2019t have it.  A future 6.2 release likely will, but there\u2019s not a published build that you can pull with an updated redwood right now.</p>",
        "post_number": 18,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-28T01:11:44.958Z",
        "reply_count": 1,
        "reply_to_post_number": 17,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 56,
        "readers_count": 55,
        "score": 16.2,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/2753",
            "internal": false,
            "reflection": false,
            "clicks": 8
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/18",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6361,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-02-28T04:53:58.153Z",
        "cooked": "<p>hi,<br>\nI clone the master code branch and compiled it. so how can I use FDB right now? when I installed FDB from rpm package, I just follow the instruction in the official document, but when I  installed FDB by compiling from the source code, I couldn\u2019t find out how to use it?<br>\nis it like this below:<br>\n/usr/sbin/fdbserver --class storage --cluster_file /etc/foundationdb/fdb.cluster --datadir /opt/data/4500 --listen_address public --logdir /opt/data/log/fdbserver --public_address auto:4500</p>\n<p>Thanks,</p>",
        "post_number": 19,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-02-28T04:53:58.153Z",
        "reply_count": 0,
        "reply_to_post_number": 18,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 56,
        "readers_count": 55,
        "score": 16.2,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/19",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6376,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-03-01T04:37:04.990Z",
        "cooked": "<p>Hi,<br>\nI cloned the latest master source code and compiled&amp;installed FDB successfully, and then I use the command line below to start FDB and create database, it works fine.<br>\ndo you think it is the correct way to use FDB since I installed it from source code other than rpm package.<br>\nthe command line to start FDB:</p>\n<p><em>/opt/app/fdb/rwbuild/bin/fdbserver --class storage --cluster_file ./fdb.cluster --datadir /opt/data/fdb-6.2/data/4000 --listen_address public --logdir /opt/data/fdb-6.2/log/fdbserver --public_address auto:4000</em></p>\n<p>thanks,</p>",
        "post_number": 20,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-03-01T04:37:04.990Z",
        "reply_count": 1,
        "reply_to_post_number": 15,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 52,
        "readers_count": 51,
        "score": 15.4,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/20",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6380,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-03-01T10:00:12.955Z",
        "cooked": "<p>It looks fine to me.  (I presume though, that you have one non-storage class process?)</p>\n<p>You\u2019re welcome to also follow the instructions in the README to build an RPM, and then install the RPM if that\u2019d be an easier or more familiar installation process for you.</p>",
        "post_number": 21,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-03-01T10:00:12.955Z",
        "reply_count": 1,
        "reply_to_post_number": 20,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 49,
        "readers_count": 48,
        "score": 29.8,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 718,
          "username": "Cliicy",
          "name": "Dragon",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/21",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6382,
        "name": "Dragon",
        "username": "Cliicy",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "created_at": "2020-03-01T11:16:13.698Z",
        "cooked": "<p>yes, I have 2 non-storage class process: log and stateless, the others are storage.<br>\nunfortunately, I encountered one problem and record it here :<br>\n<aside class=\"onebox githubissue\">\n  <header class=\"source\">\n      <a href=\"https://github.com/apple/foundationdb/issues/2769\" target=\"_blank\" rel=\"nofollow noopener\">github.com/apple/foundationdb</a>\n  </header>\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/apple/foundationdb/issues/2769\" target=\"_blank\" rel=\"nofollow noopener\">Exception in thread \"Thread-2\" java.lang.UnsatisfiedLinkError: /tmp/fdbjni8652328567537679369.library: libfdb_c.so: cannot open shared object file: No such file or directory</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-03-01\" data-time=\"04:29:44\" data-timezone=\"UTC\">04:29AM - 01 Mar 20 UTC</span>\n      </div>\n\n        <div class=\"date\">\n          closed <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-03-02\" data-time=\"20:51:46\" data-timezone=\"UTC\">08:51PM - 02 Mar 20 UTC</span>\n        </div>\n\n      <div class=\"user\">\n        <a href=\"https://github.com/cliicy\" target=\"_blank\" rel=\"nofollow noopener\">\n          <img alt=\"cliicy\" src=\"https://avatars3.githubusercontent.com/u/8543587?v=4\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\">\n          cliicy\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"github-row\">\n  <p class=\"github-content\">Hi,\nI clone the master branch source code and compiled it and installed FDB successfully. also create database successfully with ssd-redwood-experimental storage...</p>\n</div>\n\n<div class=\"labels\">\n</div>\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n</p>\n<p>so I think it\u2019s the best way to build an RPM and then install the RPM.</p>\n<p>Thanks,</p>",
        "post_number": 22,
        "post_type": 1,
        "posts_count": 21,
        "updated_at": "2020-03-01T11:16:13.905Z",
        "reply_count": 0,
        "reply_to_post_number": 21,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 52,
        "readers_count": 51,
        "score": 50.4,
        "yours": false,
        "topic_id": 1968,
        "topic_slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
        "display_username": "Dragon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/2769",
            "internal": false,
            "reflection": false,
            "title": "Exception in thread \"Thread-2\" java.lang.UnsatisfiedLinkError: /tmp/fdbjni8652328567537679369.library: libfdb_c.so: cannot open shared object file: No such file or directory \u00b7 Issue #2769 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 5
          },
          {
            "url": "https://github.com/cliicy",
            "internal": false,
            "reflection": false,
            "title": "cliicy (Luo Luo) \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 718,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": "Automatically removed quote of whole previous post.",
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-increase-the-read-write-throughput-for-foundationdb-5-2/1968/22",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      6265,
      6266,
      6267,
      6268,
      6270,
      6271,
      6273,
      6309,
      6310,
      6311,
      6312,
      6314,
      6342,
      6349,
      6359,
      6360,
      6361,
      6376,
      6380,
      6382,
      7100
    ]
  },
  "timeline_lookup": [
    [
      1,
      2071
    ],
    [
      8,
      2065
    ],
    [
      13,
      2063
    ],
    [
      18,
      2061
    ],
    [
      20,
      2060
    ],
    [
      21,
      1977
    ]
  ],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How to increase the read/write throughput for foundationdb 5.2",
  "id": 1968,
  "title": "How to increase the read/write throughput for foundationdb 5.2",
  "posts_count": 21,
  "created_at": "2020-02-20T00:35:23.457Z",
  "views": 3153,
  "reply_count": 19,
  "like_count": 2,
  "last_posted_at": "2020-05-24T08:05:30.224Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
  "category_id": 7,
  "word_count": 2951,
  "deleted_at": null,
  "user_id": 718,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1968",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 23,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": null,
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 718,
        "username": "Cliicy",
        "name": "Dragon",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
        "post_count": 13,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 718,
      "username": "Cliicy",
      "name": "Dragon",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
    },
    "last_poster": {
      "id": 718,
      "username": "Cliicy",
      "name": "Dragon",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/pull/2753",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 8,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/satherton/foundationdb",
        "title": "GitHub - satherton/foundationdb: FoundationDB - the open source, distributed, transactional key-value store",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 6,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://apple.github.io/foundationdb/api-general.html#multi-version-client",
        "title": "Using FoundationDB Clients \u2014 FoundationDB 6.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 5,
        "user_id": 13,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/2769",
        "title": "Exception in thread \"Thread-2\" java.lang.UnsatisfiedLinkError: /tmp/fdbjni8652328567537679369.library: libfdb_c.so: cannot open shared object file: No such file or directory \u00b7 Issue #2769 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 5,
        "user_id": 718,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/satherton/foundationdb/blob/feature-redwood/fdbserver/VersionedBTree.actor.cpp#L6654",
        "title": "foundationdb/VersionedBTree.actor.cpp at feature-redwood \u00b7 satherton/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/5.2.8/fdbserver/KeyValueStoreSQLite.actor.cpp#L1367",
        "title": "foundationdb/KeyValueStoreSQLite.actor.cpp at 5.2.8 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}