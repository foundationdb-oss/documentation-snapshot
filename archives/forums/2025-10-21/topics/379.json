{
  "post_stream": {
    "posts": [
      {
        "id": 952,
        "name": "Amirouche",
        "username": "amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "created_at": "2018-05-08T15:28:04.125Z",
        "cooked": "<p>I\u2019d like to start relatively small around 100GB of data and depending on the requirements <code>single</code> or <code>double</code> <a href=\"https://apple.github.io/foundationdb/configuration.html#configuration-choosing-redundancy-mode\" rel=\"nofollow noopener\">redundancy mode</a> using  <code>ssd</code> storage.</p>\n<p>I don\u2019t understand how the math in <a href=\"https://apple.github.io/foundationdb/administration.html#storage-space-requirements\" rel=\"nofollow noopener\">storage space requirements</a> work. I would like know how much space of SSD is required <strong>per machine</strong> (in the worst case) if I need to store 100GB of data.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2018-05-08T15:28:04.125Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 268,
        "reads": 72,
        "readers_count": 71,
        "score": 1369.4,
        "yours": false,
        "topic_id": 379,
        "topic_slug": "sizing-and-pricing",
        "display_username": "Amirouche",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/administration.html#storage-space-requirements",
            "internal": false,
            "reflection": false,
            "title": "Administration \u2014 FoundationDB 5.1",
            "clicks": 26
          },
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#configuration-choosing-redundancy-mode",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 5.1",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 41,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/sizing-and-pricing/379/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 968,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2018-05-08T21:38:43.030Z",
        "cooked": "<p>The basic idea is you need to account for the following things:</p>\n<ul>\n<li>Overhead per byte\n<ul>\n<li>This depends a bit on the size of your keys and values, but should be somewhat less than 2x for sufficiently sized key-value pairs. For small pairs, it may be higher. I don\u2019t have an exact formula for you right now, but let\u2019s use 1.7x as an example. You can probably determine a more accurate number for your data empirically, but note that the b-tree tends to be more efficient right after inserting data and uses a bit more space as it settles in and undergoes mutations.</li>\n</ul>\n</li>\n<li>Replication\n<ul>\n<li>1x for single, 2x for double, 3x for triple</li>\n</ul>\n</li>\n<li>Over-provisioning\n<ul>\n<li>The documentation mentions that some SSDs benefit performance-wise from not being completely full. It\u2019s also advisable to leave some extra space around to be able to tolerate a machine failing (all of the data from that machine would be replicated to other machines). If we wanted to keep the disks less than 2/3 full, for example, then we\u2019d choose 1.5x.</li>\n</ul>\n</li>\n</ul>\n<p>To get the total amount of disk capacity we\u2019d need to account for all that, we\u2019d multiply the different overheads. So for a single-replicated cluster, we\u2019d want our disk capacity factor to be 1.7 * 1.5 = 2.55x, or 255GB for 100GB of data. For double replication, that would be 1.7 * 2 * 1.5 = 5.1x (510GB), and for triple you\u2019d have 1.7 * 3 * 1.5 = 7.65x (765 GB).</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2018-05-08T21:38:43.030Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 155,
        "reads": 69,
        "readers_count": 68,
        "score": 823.8,
        "yours": false,
        "topic_id": 379,
        "topic_slug": "sizing-and-pricing",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/foundationdb-as-a-possible-scaling-strategy-for-wikidata-query-service/1433",
            "internal": true,
            "reflection": true,
            "title": "FoundationDB as a possible scaling strategy for wikidata query service",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/sizing-and-pricing/379/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 969,
        "name": "Amirouche",
        "username": "amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "created_at": "2018-05-08T23:37:54.402Z",
        "cooked": "<p>I understand that 3 machines with 100GB doesn\u2019t end being 300GB available in the whole cluster.</p>\n<p>Let\u2019s reverse the computation. If I need 100GB with double replication. How many machines do I need to be able to survive the failure of one machine (edit: survive in the sens being still able to read the whole data and be able to write to the database) and how GB per machine do I need?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2018-05-08T23:41:20.891Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 64,
        "readers_count": 63,
        "score": 17.8,
        "yours": false,
        "topic_id": 379,
        "topic_slug": "sizing-and-pricing",
        "display_username": "Amirouche",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 41,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/sizing-and-pricing/379/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 998,
        "name": "John Brownlee",
        "username": "john_brownlee",
        "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
        "created_at": "2018-05-09T18:00:11.686Z",
        "cooked": "<p>I think for that setup you would want three machines with 200 GB each. Double replication requires two machines to be up for the database to be available, so you will need three machines to be able to sustain the loss of one machine without losing availability. When you are down a machine, the two remaining machines will be responsible for holding the entire data set, which per A.J.'s estimates above would be about 340 GB total, or 170 GB per machine. Having 200 GB on each machine will allow you to handle that failure mode while still having about 15% of your disk free, which should be a reasonable amount of free space to keep things healthy during failure scenarios. The 1.7x overhead isn\u2019t precise, and the amount of free space you\u2019re willing to accept on your disk is something that you may need to experiment with in your setup.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2018-05-09T18:00:11.686Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 52,
        "readers_count": 51,
        "score": 80.4,
        "yours": false,
        "topic_id": 379,
        "topic_slug": "sizing-and-pricing",
        "display_username": "John Brownlee",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 41,
          "username": "amirouche",
          "name": "Amirouche",
          "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 3,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/sizing-and-pricing/379/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      952,
      968,
      969,
      998
    ]
  },
  "timeline_lookup": [
    [
      1,
      2723
    ],
    [
      4,
      2722
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Sizing and Pricing",
  "id": 379,
  "title": "Sizing and Pricing",
  "posts_count": 4,
  "created_at": "2018-05-08T15:28:04.059Z",
  "views": 1740,
  "reply_count": 2,
  "like_count": 4,
  "last_posted_at": "2018-05-09T18:00:11.686Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "sizing-and-pricing",
  "category_id": 7,
  "word_count": 574,
  "deleted_at": null,
  "user_id": 41,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_379",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Full disk on one machine results in 99% performance degradation",
      "id": 850,
      "title": "Full disk on one machine results in 99% performance degradation",
      "slug": "full-disk-on-one-machine-results-in-99-performance-degradation",
      "posts_count": 6,
      "reply_count": 4,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2018-11-06T00:18:11.154Z",
      "last_posted_at": "2018-11-08T00:02:29.123Z",
      "bumped": true,
      "bumped_at": "2018-11-08T00:02:29.123Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2223,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 421,
            "username": "rbranson",
            "name": "Rick Branson",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rbranson/{size}/406_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB RAM requirements",
      "id": 1646,
      "title": "FoundationDB RAM requirements",
      "slug": "foundationdb-ram-requirements",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-09-23T20:18:31.261Z",
      "last_posted_at": "2019-09-24T20:43:40.869Z",
      "bumped": true,
      "bumped_at": "2019-09-24T20:43:40.869Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2036,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 654,
            "username": "lfmunoz",
            "name": "Luis",
            "avatar_template": "/user_avatar/forums.foundationdb.org/lfmunoz/{size}/1109_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Production Hardware",
      "id": 868,
      "title": "Production Hardware",
      "slug": "production-hardware",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2018-11-14T03:22:43.738Z",
      "last_posted_at": "2018-11-26T17:55:18.756Z",
      "bumped": true,
      "bumped_at": "2018-11-26T17:55:18.756Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1026,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 366,
            "username": "tobad357",
            "name": "Tobad357",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/49beb7/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Moving Data more than double the key-value size stored",
      "id": 1006,
      "title": "Moving Data more than double the key-value size stored",
      "slug": "moving-data-more-than-double-the-key-value-size-stored",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2019-01-11T14:25:18.665Z",
      "last_posted_at": "2019-01-11T14:25:18.879Z",
      "bumped": true,
      "bumped_at": "2019-01-11T14:25:18.879Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 472,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 332,
            "username": "wmd",
            "name": "William Dowling",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/w/fbc32d/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Production optimizations",
      "id": 601,
      "title": "Production optimizations",
      "slug": "production-optimizations",
      "posts_count": 21,
      "reply_count": 14,
      "highest_post_number": 21,
      "image_url": null,
      "created_at": "2018-07-30T21:18:56.894Z",
      "last_posted_at": "2018-08-15T04:47:23.743Z",
      "bumped": true,
      "bumped_at": "2018-08-15T04:47:23.743Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 6473,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 41,
        "username": "amirouche",
        "name": "Amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 3,
        "username": "john_brownlee",
        "name": "John Brownlee",
        "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 41,
      "username": "amirouche",
      "name": "Amirouche",
      "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png"
    },
    "last_poster": {
      "id": 3,
      "username": "john_brownlee",
      "name": "John Brownlee",
      "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/administration.html#storage-space-requirements",
        "title": "Administration \u2014 FoundationDB 5.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 26,
        "user_id": 41,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#configuration-choosing-redundancy-mode",
        "title": "Configuration \u2014 FoundationDB 5.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 41,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}