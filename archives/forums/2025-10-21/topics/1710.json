{
  "post_stream": {
    "posts": [
      {
        "id": 5431,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-11-01T07:02:02.661Z",
        "cooked": "<p>Hi <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a> <a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a>, while trying to estimate the memory used by the FDB-C client for our java based layer, I looked at <code>MemoryMetrics</code> traces by enabling tracing the client-side.</p>\n<p><strong>It appears that on setting a large timeout on the transaction, the memory used by the transaction is not freed for the entire duration of the timeout, even though the transaction itself is completed and closed</strong>.</p>\n<p>I am still not sure if there is some error in my methodology or measurement;</p>\n<p>Below a trivial code snippet that reproduces the problem: it creates one million KV entries, and then in the next clean run reads each of these entries serially.</p>\n<p>If no explicit timeout is set on the transaction, then <code>MemoryMetrics</code> indicated bytes stabilizes at ~6MB for <code>TotalMemory64</code> for the lifetime of this process; however, if it is set to a large value, say 10 mins, then the counter <code>TotalMemory64</code> keeps growing till about 150MB (which is I suppose my total data size).</p>\n<p>I have tried this on a Mac for now, but I can try this on Linux if that could create a difference.<br>\n<strong>FDB version used: v6.1.8</strong></p>\n<p>Also attaching the trace file that indicates a memory build-up, and one that seems to be clean:<br>\n<aside class=\"onebox whitelistedgeneric\">\n  <header class=\"source\">\n      <img src=\"https://global.discourse-cdn.com/foundationdb/original/1X/b55b0e80a4a533be00e26d30756cb9b860ad76b1.png\" class=\"site-icon\" width=\"32\" height=\"32\">\n      <a href=\"https://www.dropbox.com/sh/om42iki72kvo9c5/AABQvcjuuwjHhyRFfmbXiFZ5a?dl=0\" target=\"_blank\">Dropbox</a>\n  </header>\n  <article class=\"onebox-body\">\n    <img src=\"https://global.discourse-cdn.com/foundationdb/original/1X/136843768d0695787dfeadb2f6cea2b2c7cb6ce6.png\" class=\"thumbnail onebox-avatar\" width=\"160\" height=\"160\">\n\n<h3><a href=\"https://www.dropbox.com/sh/om42iki72kvo9c5/AABQvcjuuwjHhyRFfmbXiFZ5a?dl=0\" target=\"_blank\">fdb_traces</a></h3>\n\n<p>Shared with Dropbox</p>\n\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n</p>\n<pre><code class=\"lang-auto\">    public static void read(final Database db) {\n        final long TEN_MIN = 10L * 60 * 1000;\n        for (int i = 0; i &lt; 1_000_000; i++) {\n            final Tuple key = Tuple.from(1, 1, \"a\" + i);\n            db.run(tx -&gt; {\n                // ****This option seems to create memory build up in C client ****\n                tx.options().setTimeout(TEN_MIN);\n               // **************************************************************\n                return tx.get(key.pack()).join();\n            });\n            if (i % 10_000 == 0) {\n                System.out.println(\"read \" + i + \" rows\");\n            }\n        }\n        System.out.println(\"-- done reading --\");\n    }\n\n    public static void write(final Database db) {\n        final byte[] val = \"CiwKB09jZWFuaWESCUF1c3RyYWxpYRoCQVUiACoAMgA6AEIASgJlblIAWgBiAA==\".getBytes();\n        final List&lt;CompletableFuture&lt;Void&gt;&gt; tasks = new ArrayList&lt;&gt;();\n        final Semaphore permits = new Semaphore(100);\n        for (int i = 0; i &lt; 1_000_000; i++) {\n            final Tuple key = Tuple.from(1, 1, \"a\" + i);\n            permits.acquireUninterruptibly();\n            tasks.add(db.runAsync(tx -&gt; {\n                tx.set(key.pack(), val);\n                return CompletableFuture.&lt;Void&gt;completedFuture(null);\n            }).whenComplete((v, t) -&gt; permits.release()));\n        }\n        AsyncUtil.whenAll(tasks).join();\n        System.out.println(\"-- all writes done --\");\n    }\n\n    public static void main(String[] args) {\n        final com.apple.foundationdb.FDB fdb = com.apple.foundationdb.FDB.selectAPIVersion(610);\n        fdb.options().setTraceEnable(\"/tmp/\");\n        fdb.options().setTraceMaxLogsSize(4194304);\n        fdb.options().setTraceRollSize(1048576);\n        final Database db= fdb.open(\"/usr/local/etc/foundationdb/fdb.cluster\",  Executors.newFixedThreadPool(10));\n\n        // write(db);  // In first run, uncomment this to populate the data \n        // read(db);  // in Second run onwards, comment write() call and uncomment this call.\n        System.exit(0);\n    }</code></pre>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-01T08:00:28.157Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 111,
        "reads": 43,
        "readers_count": 42,
        "score": 563.6,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 6,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://www.dropbox.com/sh/om42iki72kvo9c5/AABQvcjuuwjHhyRFfmbXiFZ5a?dl=0",
            "internal": false,
            "reflection": false,
            "title": "Dropbox - fdb_traces - Simplify your life",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 5432,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-11-01T13:43:33.598Z",
        "cooked": "<p>Interesting, I\u2019ll try to reproduce and then identify what\u2019s going on.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-01T13:43:33.598Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 38,
        "readers_count": 37,
        "score": 17.6,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5441,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-11-03T14:15:56.943Z",
        "cooked": "<p>Some more info that may be useful:</p>\n<ul>\n<li>Memory build-up seems independent of actual key values fetched. It looks like some fixed overhead with every transaction. The issue is much lesser in case of get_range() to retrieve the same number of rows (due to fewer transactions); memory build increases with smaller limit per get_range() due to more transactions being done to get the same number of rows.</li>\n<li>Even if the keys are not present in FDB, the same pattern is observed - indicating that the actual data rows are not being held in memory.</li>\n<li>This memory build up is much lower than what we would have if I block freeing up of transaction resources (and associated native Futures) all together - I simulated this by blocking all threads that would <code>get</code> the value from C library and do a <code>Future_dispose</code> (i.e. blocking all threads in <code>executor</code> in below code snippet):</li>\n</ul>\n<pre><code class=\"lang-auto\">com.apple.foundationdb.NativeFuture.java:\n\nprotected void registerMarshalCallback(Executor executor) {\n\tif(cPtr != 0) {\n\t\tFuture_registerCallback(cPtr, () -&gt; executor.execute(this::marshalWhenDone));\n\t}\n} \n</code></pre>\n<p>This issue is quite severe for us as we are running into a problem where some of our processes are being killed by OS due to exceeding memory reservations when doing a lot of read transactions over small durations.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-03T14:36:11.290Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 33,
        "readers_count": 32,
        "score": 11.6,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5442,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-11-03T16:10:45.201Z",
        "cooked": "<p>That seems consistent with what I\u2019ve observed of this as well. I think the memory is being held in task queues, but so far the backtraces I\u2019ve gotten have pointed somewhere a bit different than I expected. The place I had initially thought was that the timers were living in the queue until they elapsed (which I think is still true), but the allocation backtraces are curiously pointing to an actor related to the destruction of the transaction. I haven\u2019t gotten to the bottom of it yet, so I\u2019ll keep looking.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-03T16:10:45.201Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 32,
        "readers_count": 31,
        "score": 26.4,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5443,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-11-03T17:24:01.029Z",
        "cooked": "<p>Thanks for looking into this issue!</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-03T17:24:01.029Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 31,
        "readers_count": 30,
        "score": 11.2,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5502,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-11-08T21:52:39.093Z",
        "cooked": "<p>I looked into this some more, and it seems there\u2019s something about the workload pattern here that resulted in the memory allocation tracking results being a bit confusing. However, I\u2019m fairly sure now that the memory I see accumulating in this test is what I initially suspected, which is that the timer tasks being setup for the timeout are holding memory (128 bytes worth in the 64-byte fast allocated pools, plus other memory that\u2019s not going to be tracked in the pools) for the entire duration of their timeout regardless of whether the transaction has been destroyed.</p>\n<p>I created an issue to raise this concern with the group: <a href=\"https://github.com/apple/foundationdb/issues/2335\">https://github.com/apple/foundationdb/issues/2335</a></p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-08T21:52:39.093Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 29,
        "readers_count": 28,
        "score": 50.8,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/2335",
            "internal": false,
            "reflection": false,
            "title": "Transaction timeouts use memory after transaction is destroyed \u00b7 Issue #2335 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 16
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5504,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-11-09T04:04:11.942Z",
        "cooked": "<p>Thank you for spending time on this. In the meantime, we have made a few changes to use shorter timeout on transactions, and have layer-level timeout/retry management for supporting larger timeouts.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2019-11-09T10:56:45.368Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 28,
        "readers_count": 27,
        "score": 5.6,
        "yours": false,
        "topic_id": 1710,
        "topic_slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options/1710/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      5431,
      5432,
      5441,
      5442,
      5443,
      5502,
      5504
    ]
  },
  "timeline_lookup": [
    [
      1,
      2182
    ],
    [
      2,
      2181
    ],
    [
      3,
      2179
    ],
    [
      6,
      2174
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Memory leak in C client-lib - when a timeout() is set on transaction options?",
  "id": 1710,
  "title": "Memory leak in C client-lib - when a timeout() is set on transaction options?",
  "posts_count": 7,
  "created_at": "2019-11-01T07:02:02.599Z",
  "views": 865,
  "reply_count": 3,
  "like_count": 1,
  "last_posted_at": "2019-11-09T04:04:11.942Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "memory-leak-in-c-client-lib-when-a-timeout-is-set-on-transaction-options",
  "category_id": 7,
  "word_count": 903,
  "deleted_at": null,
  "user_id": 166,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/b55b0e80a4a533be00e26d30756cb9b860ad76b1.png",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1710",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 7,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 32,
      "height": 32,
      "url": "https://global.discourse-cdn.com/foundationdb/original/1X/b55b0e80a4a533be00e26d30756cb9b860ad76b1.png"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Memory leak in C API?",
      "id": 554,
      "title": "Memory leak in C API?",
      "slug": "memory-leak-in-c-api",
      "posts_count": 5,
      "reply_count": 1,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-07-09T10:54:23.376Z",
      "last_posted_at": "2018-07-10T12:55:14.679Z",
      "bumped": true,
      "bumped_at": "2018-07-10T12:55:14.679Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1120,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 319,
            "username": "kirilltitov",
            "name": "Kirill Titov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/kirilltitov/{size}/328_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Memory leak in client profiling code",
      "id": 2108,
      "title": "Memory leak in client profiling code",
      "slug": "memory-leak-in-client-profiling-code",
      "posts_count": 5,
      "reply_count": 3,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2020-05-07T20:05:59.143Z",
      "last_posted_at": "2020-05-08T23:21:40.526Z",
      "bumped": true,
      "bumped_at": "2020-05-08T23:21:40.526Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 726,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Fdb C client library memory allocations",
      "id": 1199,
      "title": "Fdb C client library memory allocations",
      "slug": "fdb-c-client-library-memory-allocations",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2019-03-06T03:07:33.409Z",
      "last_posted_at": "2019-03-14T00:14:17.371Z",
      "bumped": true,
      "bumped_at": "2019-03-14T00:14:17.371Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1392,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "On Potential Memory Leaking due to FDB Java Library getRange on a Transaction",
      "id": 1603,
      "title": "On Potential Memory Leaking due to FDB Java Library getRange on a Transaction",
      "slug": "on-potential-memory-leaking-due-to-fdb-java-library-getrange-on-a-transaction",
      "posts_count": 5,
      "reply_count": 3,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2019-08-30T22:59:33.728Z",
      "last_posted_at": "2019-08-31T18:40:10.044Z",
      "bumped": true,
      "bumped_at": "2019-08-31T18:40:10.044Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 653,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 531,
            "username": "jltz",
            "name": "Jun Li",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/c0e974/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 16,
            "username": "ashishnm",
            "name": "Ashish Motivala",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b5e925/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "id": 516,
      "title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "slug": "what-is-the-life-time-of-key-value-and-other-arguments-passed-to-fdb-transaction",
      "posts_count": 11,
      "reply_count": 4,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2018-06-18T18:28:57.904Z",
      "last_posted_at": "2018-07-17T16:11:21.242Z",
      "bumped": true,
      "bumped_at": "2018-07-17T16:11:21.242Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2608,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 308,
            "username": "ananthakumaran",
            "name": "Anantha Kumaran",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ananthakumaran/{size}/526_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "last_poster": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/issues/2335",
        "title": "Transaction timeouts use memory after transaction is destroyed \u00b7 Issue #2335 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 16,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://www.dropbox.com/sh/om42iki72kvo9c5/AABQvcjuuwjHhyRFfmbXiFZ5a?dl=0",
        "title": "Dropbox - fdb_traces - Simplify your life",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "www.dropbox.com",
        "root_domain": "dropbox.com"
      }
    ]
  },
  "bookmarks": []
}