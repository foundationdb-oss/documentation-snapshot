{
  "post_stream": {
    "posts": [
      {
        "id": 6410,
        "name": "Hieu Nguyen",
        "username": "ntrhieu89",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "created_at": "2020-03-03T22:43:21.702Z",
        "cooked": "<p>Hi,</p>\n<p>I have two-region, 3-dc setup.</p>\n<p>Today I tried to do a migration of DC3 (moving nodes from one datacenter to another).<br>\nI already configured usable_regions to 1 (to be DC1) and then drop all the nodes (kubenetes pods) in old DC3. Unfortunately, that\u2019s when I realized that I lost the majority of the coordination servers. Doing a <code>fdbcli status</code> on a node in DC1 gives me:</p>\n<pre><code class=\"lang-auto\">Using cluster file `/var/lib/foundationdb/fdb.cluster'.\n\nThe database is unavailable; type `status' for more information.\n\nWelcome to the fdbcli. For help, type `help'.\nfdb&gt; status\n\nUsing cluster file `/var/lib/foundationdb/fdb.cluster'.\n\nCould not communicate with a quorum of coordination servers:\n  10.104.192.30:4000:tls  (unreachable)\n  10.104.196.250:4000:tls  (unreachable)\n  10.104.198.234:4000:tls  (reachable)\n  10.175.156.235:4500:tls  (unreachable)\n  10.175.165.152:4500:tls  (unreachable)\n  10.175.176.20:4500:tls  (unreachable)\n  10.199.100.36:4500:tls  (reachable)\n  10.199.133.42:4500:tls  (reachable)\n  10.199.157.94:4500:tls  (reachable)\n</code></pre>\n<p>Regarding the fact that the data is still there (in DC1), is there a way to fix this?<br>\nI tried to add more reachable processes to the fdb cluster file but it does not work.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2020-03-03T22:46:15.345Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1127,
        "reads": 71,
        "readers_count": 70,
        "score": 5639.2,
        "yours": false,
        "topic_id": 2000,
        "topic_slug": "could-not-communicate-with-a-quorum-of-coordination-servers",
        "display_username": "Hieu Nguyen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 550,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/could-not-communicate-with-a-quorum-of-coordination-servers/2000/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 6411,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-03-04T00:40:59.186Z",
        "cooked": "<p>We do not currently have any tooling to be able to recover a cluster from a minority of coordinators.  If you\u2019ve permanently lost their data, then although that data does still exist in storage server files, there\u2019s not an existing tool that you can use to optimistically recover as much of it as possible.</p>\n<p>Though clearly too late, we generally advise having three regions with coordinators in them for multi-region, so that no region has a majority of the coordinators in it.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2020-03-04T01:04:53.761Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 67,
        "readers_count": 66,
        "score": 43.4,
        "yours": false,
        "topic_id": 2000,
        "topic_slug": "could-not-communicate-with-a-quorum-of-coordination-servers",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/could-not-communicate-with-a-quorum-of-coordination-servers/2000/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6423,
        "name": "Hieu Nguyen",
        "username": "ntrhieu89",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "created_at": "2020-03-05T16:51:23.670Z",
        "cooked": "<p>Thanks for confirm, <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a>.<br>\nOur cluster already configured so that no region can have majority of the coordinators.<br>\nUnfortunately, some coordinators of the remaining two regions were also down too, that caused the majority of coordinators to be lost.<br>\nI already dropped, redeploy a new cluster and start loading the data again. It is also a good lesson to learn: Never lose a majority of the coordinators, or the cluster will not be functional (please correct me if it is wrong).</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2020-03-05T16:51:23.670Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 63,
        "readers_count": 62,
        "score": 32.6,
        "yours": false,
        "topic_id": 2000,
        "topic_slug": "could-not-communicate-with-a-quorum-of-coordination-servers",
        "display_username": "Hieu Nguyen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 550,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/could-not-communicate-with-a-quorum-of-coordination-servers/2000/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      6410,
      6411,
      6423
    ]
  },
  "timeline_lookup": [
    [
      1,
      2058
    ],
    [
      3,
      2056
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Could not communicate with a quorum of coordination servers",
  "id": 2000,
  "title": "Could not communicate with a quorum of coordination servers",
  "posts_count": 3,
  "created_at": "2020-03-03T22:43:21.635Z",
  "views": 2251,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2020-03-05T16:51:23.670Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "could-not-communicate-with-a-quorum-of-coordination-servers",
  "category_id": 7,
  "word_count": 411,
  "deleted_at": null,
  "user_id": 550,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2000",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "How to restore cluster after accidentally dropping coordinators",
      "id": 1588,
      "title": "How to restore cluster after accidentally dropping coordinators",
      "slug": "how-to-restore-cluster-after-accidentally-dropping-coordinators",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2019-08-19T17:17:44.072Z",
      "last_posted_at": "2021-02-11T02:19:38.586Z",
      "bumped": true,
      "bumped_at": "2021-02-11T02:19:38.586Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2330,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Working High Avalable Solutions with Two Datacenters",
      "id": 2380,
      "title": "Working High Avalable Solutions with Two Datacenters",
      "slug": "working-high-avalable-solutions-with-two-datacenters",
      "posts_count": 8,
      "reply_count": 5,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2020-10-07T09:28:40.618Z",
      "last_posted_at": "2020-12-01T06:50:01.982Z",
      "bumped": true,
      "bumped_at": "2020-12-01T07:27:11.254Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1171,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Recover &lsquo;unreachable&rsquo;",
      "id": 2512,
      "title": "Recover 'unreachable'",
      "slug": "recover-unreachable",
      "posts_count": 4,
      "reply_count": 0,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2021-01-15T16:13:16.260Z",
      "last_posted_at": "2021-01-15T19:00:45.997Z",
      "bumped": true,
      "bumped_at": "2021-01-15T19:00:45.997Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 883,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 419,
            "username": "doublemax",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8e7dd6/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Deleted All Active Coordinators, How Can I Reset?",
      "id": 1589,
      "title": "Deleted All Active Coordinators, How Can I Reset?",
      "slug": "deleted-all-active-coordinators-how-can-i-reset",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-08-20T19:40:56.078Z",
      "last_posted_at": "2019-08-20T20:23:44.043Z",
      "bumped": true,
      "bumped_at": "2019-08-20T20:23:44.043Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 831,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Unable to change coordinators",
      "id": 1024,
      "title": "Unable to change coordinators",
      "slug": "unable-to-change-coordinators",
      "posts_count": 6,
      "reply_count": 2,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2019-01-15T22:56:37.859Z",
      "last_posted_at": "2019-01-16T22:11:37.507Z",
      "bumped": true,
      "bumped_at": "2019-01-16T22:11:37.507Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 998,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 43,
            "username": "killertypo",
            "name": "Mike McMahon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/killertypo/{size}/35_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 550,
        "username": "ntrhieu89",
        "name": "Hieu Nguyen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 550,
      "username": "ntrhieu89",
      "name": "Hieu Nguyen",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png"
    },
    "last_poster": {
      "id": 550,
      "username": "ntrhieu89",
      "name": "Hieu Nguyen",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png"
    }
  },
  "bookmarks": []
}