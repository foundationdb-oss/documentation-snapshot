{
  "post_stream": {
    "posts": [
      {
        "id": 14093,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-05-29T21:14:23.990Z",
        "cooked": "<p>I am using a <code>three_data_hall</code> cluster composed of 3 halls, 1 per AZ:</p>\n<pre><code class=\"lang-auto\">apiVersion: apps.foundationdb.org/v1beta2\nkind: FoundationDBCluster\nmetadata:\n  name: my-cluster-$az\n  namespace: my-ns\nspec:\n  version: 7.3.27\n  skip: false\n  sidecarContainer:\n    enableLivenessProbe: true\n  replaceInstancesWhenResourcesChange: true\n  routing:\n    publicIPSource: service\n  automationOptions:\n    cacheDatabaseStatusForReconciliation: true\n    deletionMode: Zone\n    podUpdateStrategy: ReplaceTransactionSystem\n    removalMode: Zone\n  coordinatorSelection:\n  - priority: 100\n    processClass: coordinator\n  dataHall: $az\n  databaseConfiguration:\n    logs: 3\n    proxies: 3\n    redundancy_mode: three_data_hall\n    storage: 3\n    storage_engine: ssd-2\n  ignoreUpgradabilityChecks: false\n  maxZonesWithUnavailablePods: 1\n  processCounts:\n    coordinator: 3\n    log: 3\n    stateless: 3\n  processGroupIDPrefix: $az\n</code></pre>\n<p>I followed the setup using operator, with all the steps, and cluster seems working fine; however today I discovered that the cluster files of each of the 3 halls do contain coordinators from other zones.</p>\n<p>This was surprising; I also see plenty of cross-AZ traffic when using (as a client) these cluster files.</p>\n<p>Is this working as intended? I would expect that when using the cluster file of each of the individual halls, I get coordinators of that specific hall and thus proxies/storage nodes only of that single AZ?</p>\n<p>Thanks for any pointer!</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-05-29T21:14:23.990Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 25,
        "reads": 29,
        "readers_count": 28,
        "score": 130.8,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 14097,
        "name": "Rjerk",
        "username": "Rjerk",
        "avatar_template": "/user_avatar/forums.foundationdb.org/rjerk/{size}/1056_2.png",
        "created_at": "2024-05-31T08:01:36.667Z",
        "cooked": "<p>In three_data_hall mode, the transaction system\u2019s coordinators and stateless roles will be distributed in 3 data centers, and the traffic of the processes in the transaction system will cross 3 AZs.</p>\n<p>Maybe you should use the three_datacenter mode so the transaction system roles stay in an AZ to avoid communication across AZs.</p>\n<p>However, writes still need to request the primary AZ to write replicas to two AZs and store replicas in three AZs. As far as I know, clients can specify preferred AZs by configuring network options but write traffic is still sent to the primary AZ.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-05-31T08:01:36.667Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 25,
        "readers_count": 24,
        "score": 40.0,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Rjerk",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 919,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14098,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-05-31T08:35:32.387Z",
        "cooked": "<p>Thanks for your reply!</p>\n<aside class=\"quote no-group\" data-username=\"Rjerk\" data-post=\"2\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/rjerk/48/1056_2.png\" class=\"avatar\"> Rjerk:</div>\n<blockquote>\n<p>However, writes still need to request the primary AZ to write replicas to two AZs and store replicas in three AZs. As far as I know, clients can specify preferred AZs by configuring network options but write traffic is still sent to the primary AZ.</p>\n</blockquote>\n</aside>\n<p>You mean that even in <code>three_datacenter</code> mode I would need to specify preferred AZs, or that it\u2019s possible to specify preferred AZs in <code>three_data_hall</code> mode? I am interested in optimizing only for fast reads so I judge acceptable that writes cross AZ or are unevenly hitting the primary AZ.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-05-31T08:35:32.387Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 22,
        "readers_count": 21,
        "score": 9.4,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14099,
        "name": "Rjerk",
        "username": "Rjerk",
        "avatar_template": "/user_avatar/forums.foundationdb.org/rjerk/{size}/1056_2.png",
        "created_at": "2024-05-31T10:45:30.338Z",
        "cooked": "<p>In <a href=\"https://apple.github.io/foundationdb/read-write-path.html\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">FDB Read and Write Path \u2014 FoundationDB 7.1</a>, it says:</p>\n<blockquote>\n<p>Load balance: Each data exists on k storage servers, where k is the replication factor. To balance the load across the k replicas, client has a load balancing algorithm to balance the number of requests to each replica.</p>\n</blockquote>\n<p>In <a href=\"https://github.com/apple/foundationdb/blob/main/documentation/sphinx/source/api-common.rst.inc#L315\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">foundationdb/documentation/sphinx/source/api-common.rst.inc at main \u00b7 apple/foundationdb \u00b7 GitHub</a>, it says:</p>\n<blockquote>\n<p>Load balancing uses this option for location-awareness, attempting to send database operations first to servers on a specified machine, then a specified datacenter, then returning to its default algorithm.</p>\n</blockquote>\n<p>I\u2019m not sure if this option is only available in 3az mode, or if it only needs to be configured for locality on the cluster.</p>\n<p>And for fast read, enable USE_GRV_CACHE also useful for read latency optimizations.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-05-31T10:45:30.338Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 22,
        "readers_count": 21,
        "score": 44.4,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Rjerk",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/read-write-path.html",
            "internal": false,
            "reflection": false,
            "title": "FDB Read and Write Path \u2014 FoundationDB 7.1",
            "clicks": 1
          },
          {
            "url": "https://github.com/apple/foundationdb/blob/main/documentation/sphinx/source/api-common.rst.inc#L315",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/documentation/sphinx/source/api-common.rst.inc at main \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 1
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 919,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14152,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-06-13T14:29:57.881Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Rjerk\" data-post=\"4\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/rjerk/48/1056_2.png\" class=\"avatar\"> Rjerk:</div>\n<blockquote>\n<p>I\u2019m not sure if this option is only available in 3az mode, or if it only needs to be configured for locality on the cluster.</p>\n</blockquote>\n</aside>\n<p>Sorry, I don\u2019t follow; by <code>3az</code> you mean <code>three_datacenter</code> mode? Right now I am experimenting with a single region with 1 main DC and 2 satellites to cover the 3 AZs I have available, but specifying the DC id via client doesn\u2019t seem to work as I see that clients from all 3 AZs are talking directly to the storage processes on the main DC in region A.</p>\n<p><a class=\"mention\" href=\"/u/johscheuer\">@johscheuer</a> <code>three_datacenter</code> is not currently supported by operator, right? I saw on <a href=\"https://apple.github.io/foundationdb/configuration.html\" rel=\"noopener nofollow ugc\">this configuration page</a> that it mentions:</p>\n<blockquote>\n<p>The only reason to use <code>three_datacenter</code> replication is if low latency reads from all three locations is required.</p>\n</blockquote>\n<p>I am actually trying to achieve that (low read latency from all 3 AZs) but there must be something that I am missing.<br>\nThis is an example configuration I am using (same for all 3 clusters, one per AZ, with the difference of the name/prefix):</p>\n<pre><code class=\"lang-auto\">apiVersion: apps.foundationdb.org/v1beta2\nkind: FoundationDBCluster\nmetadata:\n  name: skunkworks-1a\nspec:\n  dataCenter: 1a\n  databaseConfiguration:\n    redundancy_mode: triple\n    regions:\n    - datacenters:\n      - id: 1a\n        priority: 2\n      - id: 1b\n        priority: 1\n        satellite: 1\n      - id: 1c\n        priority: 1\n        satellite: 1\n    storage: 3\n    usable_regions: 1\n  faultDomain:\n    key: foundationdb.org/none\n  lockOptions:\n    disableLocks: true\n  processGroupIDPrefix: 1a\n  version: 7.3.27\n</code></pre>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-13T14:29:57.881Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 16,
        "readers_count": 15,
        "score": 13.2,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/configuration.html",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 7.1",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14154,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2024-06-13T16:38:24.279Z",
        "cooked": "<blockquote>\n<p><a class=\"mention\" href=\"/u/johscheuer\">@johscheuer</a> <code>three_datacenter</code> is not currently supported by operator, right? I saw on <a href=\"https://apple.github.io/foundationdb/configuration.html\" rel=\"noopener nofollow ugc\">this configuration page</a> that it mentions:</p>\n</blockquote>\n<p>Correct, the operator doesn\u2019t support that yet. We could add support for that if there is a specific need for this configuration setup.</p>\n<blockquote>\n<p>I am actually trying to achieve that (low read latency from all 3 AZs) but there must be something that I am missing.<br>\nThis is an example configuration I am using (same for all 3 clusters, one per AZ, with the difference of the name/prefix):</p>\n</blockquote>\n<p>The setup that you posted will require cross-az traffic as the commit must be done in the primary and the satellite. I\u2019m actually not sure what happens when two dc\u2019s have the same priority. Also all reads will go to the primary (1a in your case) as that will be the only AZ with storage servers. For doing reads and writes the client needs a GRV and that will be fetched in the primary (1a) too as this will be the only AZ running stateless processes. The satellites will only run log processes.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-13T16:38:24.279Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 15,
        "readers_count": 14,
        "score": 23.0,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/configuration.html",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 7.1",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14155,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-06-13T16:45:40.478Z",
        "cooked": "<p>Thanks for your reply!</p>\n<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"6\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>Correct, the operator doesn\u2019t support that yet. We could add support for that if there is a specific need for this configuration setup.</p>\n</blockquote>\n</aside>\n<p>If it\u2019s the only way to achieve low latency reads from all 3 locations, then it would be welcome!</p>\n<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"6\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>The setup that you posted will require cross-az traffic as the commit must be done in the primary and the satellite. I\u2019m actually not sure what happens when two dc\u2019s have the same priority. Also all reads will go to the primary (1a in your case) as that will be the only AZ with storage servers. For doing reads and writes the client needs a GRV and that will be fetched in the primary (1a) too as this will be the only AZ running stateless processes. The satellites will only run log processes.</p>\n</blockquote>\n</aside>\n<p>I am okay with slower writes and commits going always to the primary, and also okay with the GRV being fetched from the primary; but ideally I\u2019d like to see that when client specifies <code>1b</code> as DC id, it gets data from replica copies that exist in storage nodes in that same AZ <code>1b</code>. Is this something achievable with current operator features, or with <code>three_datacenter</code>, or not achievable at all? (if you know) <img src=\"https://emoji.discourse-cdn.com/twitter/thinking.png?v=14\" title=\":thinking:\" class=\"emoji\" alt=\":thinking:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>An example of cross-zone traffic from a client (sitting on zone C) to a storage node (sitting on zone A):<br>\n<div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/2X/7/74d0b7f5f8d03b4c4f094aa5b41b56822277d734.png\" data-download-href=\"/uploads/short-url/gFoyYpINLPXEeVdmz21VOf21Qhe.png?dl=1\" title=\"image\" rel=\"noopener nofollow ugc\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/7/74d0b7f5f8d03b4c4f094aa5b41b56822277d734_2_690x151.png\" alt=\"image\" data-base62-sha1=\"gFoyYpINLPXEeVdmz21VOf21Qhe\" width=\"690\" height=\"151\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/7/74d0b7f5f8d03b4c4f094aa5b41b56822277d734_2_690x151.png, https://global.discourse-cdn.com/foundationdb/optimized/2X/7/74d0b7f5f8d03b4c4f094aa5b41b56822277d734_2_1035x226.png 1.5x, https://global.discourse-cdn.com/foundationdb/original/2X/7/74d0b7f5f8d03b4c4f094aa5b41b56822277d734.png 2x\" data-dominant-color=\"232629\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1045\u00d7230 36.7 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-13T21:55:49.848Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 1,
        "incoming_link_count": 3,
        "reads": 16,
        "readers_count": 15,
        "score": 23.2,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14162,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-06-17T15:37:36.606Z",
        "cooked": "<p>I am going to attempt using a configured region for each AZ and report back my findings.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-17T15:37:36.606Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 2.8,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14165,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2024-06-18T12:53:08.483Z",
        "cooked": "<blockquote>\n<blockquote>\n<p>Correct, the operator doesn\u2019t support that yet. We could add support for that if there is a specific need for this configuration setup.</p>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>If it\u2019s the only way to achieve low latency reads from all 3 locations, then it would be welcome!</p>\n</blockquote>\n<p>In theory it should be straightforward if we implement it similar to the <code>three_data_hall</code> setup, but before adding support for it would be great if you could gather some data for it, so we don\u2019t have to maintain another configuration in the operator that is not used.</p>\n<blockquote>\n<p>I am okay with slower writes and commits going always to the primary, and also okay with the GRV being fetched from the primary; but ideally I\u2019d like to see that when client specifies <code>1b</code> as DC id, it gets data from replica copies that exist in storage nodes in that same AZ <code>1b</code> . Is this something achievable with current operator features, or with <code>three_datacenter</code> , or not achievable at all? (if you know) <img src=\"https://emoji.discourse-cdn.com/twitter/thinking.png?v=12\" title=\":thinking:\" class=\"emoji\" alt=\":thinking:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n</blockquote>\n<p>Are you setting the <a href=\"https://pkg.go.dev/github.com/apple/foundationdb/bindings/go/src/fdb#DatabaseOptions.SetDatacenterId\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">fdb package - github.com/apple/foundationdb/bindings/go/src/fdb - Go Packages</a> in your client (just to make sure you are setting the same datacenter IDs)? In theory that should work with a few caveats: 1. the AZ (or dc) with the satellite will not host any storage processes. 2. There can be cases where your application gets the GRV from the primary and then attempt to read from the remote side, if the storage server on the remote side doesn\u2019t have the data yet, the call will be blocked and delay until either the version is available or a timeout is hit.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-18T12:53:08.483Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 13,
        "readers_count": 12,
        "score": 22.6,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://pkg.go.dev/github.com/apple/foundationdb/bindings/go/src/fdb#DatabaseOptions.SetDatacenterId",
            "internal": false,
            "reflection": false,
            "title": "fdb package - github.com/apple/foundationdb/bindings/go/src/fdb - Go Packages",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14166,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-06-18T15:28:25.989Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"9\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>In theory it should be straightforward if we implement it similar to the <code>three_data_hall</code> setup, but before adding support for it would be great if you could gather some data for it, so we don\u2019t have to maintain another configuration in the operator that is not used.</p>\n</blockquote>\n</aside>\n<p>Sure, please wait for me to test this manually (without operator) - because if AZ-local reads can be achieved with a less sophisticated setup I will not need it; thanks!</p>\n<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"9\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>Are you setting the <a href=\"https://pkg.go.dev/github.com/apple/foundationdb/bindings/go/src/fdb#DatabaseOptions.SetDatacenterId\" rel=\"noopener nofollow ugc\">fdb package - github.com/apple/foundationdb/bindings/go/src/fdb - Go Packages</a> in your client (just to make sure you are setting the same datacenter IDs)? In theory that should work with a few caveats: 1. the AZ (or dc) with the satellite will not host any storage processes. </p>\n</blockquote>\n</aside>\n<p>Yes, I am setting the correct DC id on client (although it\u2019s not hexadecimal like documentation says, but as far as I could tell from FoundationDB source code it doesn\u2019t have to be hexadecimal) but since there are no storage processes allocated on the satellite DCs/AZs (the pods are there but basically idle), it seems correct that clients are reading the data from the storage nodes on the only DC/AZ which has such storage nodes.</p>\n<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"9\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>2. There can be cases where your application gets the GRV from the primary and then attempt to read from the remote side, if the storage server on the remote side doesn\u2019t have the data yet, the call will be blocked and delay until either the version is available or a timeout is hit.</p>\n</blockquote>\n</aside>\n<p>Understood; so far I only tried 1 primary DC with 2 satellite DCs, to cover 3 AZs; what I will try next are:</p>\n<ol>\n<li>1 DC for each AZ, for 3 peer DCs in total (no satellites); had some issues bringing up the third DC, but from documentation it seems supported with v7+</li>\n<li><code>three_datacenter</code> mode</li>\n</ol>\n<p>So far I could not think of other ways to take advantage of the client and replica copies being hosted on the same AZ; theoretically, if I could make FoundationDB cluster match its \u201czones\u201d to AZs, it should be possible to get AZ-local reads just by relying on the algorithm which monitors latencies and automatically assigns the closest replica, even with a simpler setup without multi-cluster/multi-DC/multi-region, but I have suspended experimenting with that for now, might try again later.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-18T15:30:43.679Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 14,
        "readers_count": 13,
        "score": 12.8,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14167,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2024-06-18T16:00:29.030Z",
        "cooked": "<p>I haven\u2019t tried this and maybe this doesn\u2019t work, but you could try to set the <code>dataCenter: 1a</code> and <code>dataHall: 1a</code> (and the same for 1b, 1c) with three_data_hall. This will bring up the cluster with thee_data_hall replication mode, so in each DC there should be one replica. The transaction system would still behave as Rjerk has written, but with the assumption that you mostly care about the \u201clocal\u201d reads, this might work. You still have to set the data centre ID in your client application.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-18T16:00:29.030Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 15,
        "readers_count": 14,
        "score": 23.0,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14173,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-06-19T16:38:03.275Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"11\" data-topic=\"4493\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>you could try to set the <code>dataCenter: 1a</code> and <code>dataHall: 1a</code> (and the same for 1b, 1c) with three_data_hall. This will bring up the cluster with thee_data_hall replication mode, so in each DC there should be one replica. The transaction system would still behave as Rjerk has written, but with the assumption that you mostly care about the \u201clocal\u201d reads, this might work.</p>\n</blockquote>\n</aside>\n<p>The <code>three_data_hall</code> setup with specified data center ids does actually work, thanks for the help! I can see that all of the client\u2019s traffic is limited to its own zone, without even a roundtrip to zone A for the GRV.<br>\nI can try contributing some documentation PR for this, if you think it\u2019s worth it.</p>\n<p>Other observations: all FoundationDB cluster processes from the 3 data halls are communicating with the CC on zone A, and while zones A and C have similar performance (~2ms) I observe slightly higher latency on zone B, for unknown reasons.</p>\n<p>Would you have any tip on how to chase down this extra latency there? I\u2019d like to see how far I can push down the minimum latency.</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-06-19T16:38:03.275Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 17,
        "readers_count": 16,
        "score": 8.4,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14231,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2024-07-04T07:14:15.132Z",
        "cooked": "<p>I\u2019ll open a new thread because I have a question specifically about GRV proxies in <code>three_data_hall</code>.</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2024-07-04T07:14:15.132Z",
        "reply_count": 0,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 15,
        "readers_count": 14,
        "score": 3.0,
        "yours": false,
        "topic_id": 4493,
        "topic_slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/does-foundationdb-support-running-1-grv-proxy-per-zone/4555",
            "internal": true,
            "reflection": true,
            "title": "Does FoundationDB support running 1 GRV proxy per zone?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/incorrect-clusterfile-coordinators-when-using-three-data-hall/4493/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      14093,
      14097,
      14098,
      14099,
      14152,
      14154,
      14155,
      14162,
      14165,
      14166,
      14167,
      14173,
      14231
    ]
  },
  "timeline_lookup": [
    [
      1,
      510
    ],
    [
      2,
      509
    ],
    [
      4,
      508
    ],
    [
      5,
      495
    ],
    [
      8,
      491
    ],
    [
      9,
      490
    ],
    [
      12,
      489
    ],
    [
      13,
      475
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "operator"
  ],
  "tags_descriptions": {},
  "fancy_title": "Incorrect clusterfile coordinators when using three_data_hall?",
  "id": 4493,
  "title": "Incorrect clusterfile coordinators when using three_data_hall?",
  "posts_count": 13,
  "created_at": "2024-05-29T21:14:23.941Z",
  "views": 259,
  "reply_count": 10,
  "like_count": 5,
  "last_posted_at": "2024-07-04T07:14:15.132Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "incorrect-clusterfile-coordinators-when-using-three-data-hall",
  "category_id": 17,
  "word_count": 2249,
  "deleted_at": null,
  "user_id": 1363,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4493",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 13,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 4,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "6.0.18 Reporting incorrect Fault Tolerance via fdbcli with triple redundancy mode?",
      "id": 1282,
      "title": "6.0.18 Reporting incorrect Fault Tolerance via fdbcli with triple redundancy mode?",
      "slug": "6-0-18-reporting-incorrect-fault-tolerance-via-fdbcli-with-triple-redundancy-mode",
      "posts_count": 15,
      "reply_count": 8,
      "highest_post_number": 16,
      "image_url": null,
      "created_at": "2019-04-04T19:04:42.341Z",
      "last_posted_at": "2019-04-06T00:41:42.940Z",
      "bumped": true,
      "bumped_at": "2019-04-06T00:41:42.940Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1976,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 490,
            "username": "rjenkins",
            "name": "Ray Jenkins",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rjenkins/{size}/487_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Cross Datacenter/Region?",
      "id": 186,
      "title": "Cross Datacenter/Region?",
      "slug": "cross-datacenter-region",
      "posts_count": 10,
      "reply_count": 3,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2018-04-21T18:09:15.229Z",
      "last_posted_at": "2018-06-14T19:55:13.933Z",
      "bumped": true,
      "bumped_at": "2018-06-14T19:55:13.933Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3406,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 130,
            "username": "aphistic",
            "name": "Erik Davidson",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aphistic/{size}/90_2.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 183,
            "username": "tylerchr",
            "name": "Tyler",
            "avatar_template": "/user_avatar/forums.foundationdb.org/tylerchr/{size}/143_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Optimal configuration for more than 3 DCs",
      "id": 1519,
      "title": "Optimal configuration for more than 3 DCs",
      "slug": "optimal-configuration-for-more-than-3-dcs",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2019-07-15T04:50:08.246Z",
      "last_posted_at": "2019-07-15T09:32:14.332Z",
      "bumped": true,
      "bumped_at": "2019-07-15T09:32:14.332Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1332,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 542,
            "username": "jonahwest",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/90db22/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Redundancy mode: three_data_hall",
      "id": 945,
      "title": "Redundancy mode: three_data_hall",
      "slug": "redundancy-mode-three-data-hall",
      "posts_count": 11,
      "reply_count": 8,
      "highest_post_number": 12,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/32abbed3df6c08f58bb6c32c8f6e82d1a38cc81c.png",
      "created_at": "2018-12-10T07:05:32.512Z",
      "last_posted_at": "2022-11-09T12:16:31.623Z",
      "bumped": true,
      "bumped_at": "2022-11-09T12:16:31.623Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2241,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 449,
            "username": "ochanism",
            "name": "Ochan",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/o/aca169/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 1164,
            "username": "Ravindra",
            "name": "Ravindra Nallamothu",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/35a633/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Configuring FoundationDB to Use More Than One Resolver",
      "id": 1414,
      "title": "Configuring FoundationDB to Use More Than One Resolver",
      "slug": "configuring-foundationdb-to-use-more-than-one-resolver",
      "posts_count": 24,
      "reply_count": 18,
      "highest_post_number": 24,
      "image_url": null,
      "created_at": "2019-05-30T20:58:21.102Z",
      "last_posted_at": "2019-08-21T08:48:24.207Z",
      "bumped": true,
      "bumped_at": "2019-08-21T08:48:24.207Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 2574,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 9,
            "username": "mbhaskar",
            "name": "Bhaskar Muppana",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 641,
            "username": "smithclarkson01",
            "name": "Smith Clarkson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/977dab/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1363,
        "username": "gm42",
        "name": "Giuseppe",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "post_count": 8,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 849,
        "username": "johscheuer",
        "name": "Johannes Scheuermann",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 919,
        "username": "Rjerk",
        "name": "Rjerk",
        "avatar_template": "/user_avatar/forums.foundationdb.org/rjerk/{size}/1056_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 1363,
      "username": "gm42",
      "name": "Giuseppe",
      "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
    },
    "last_poster": {
      "id": 1363,
      "username": "gm42",
      "name": "Giuseppe",
      "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/read-write-path.html",
        "title": "FDB Read and Write Path \u2014 FoundationDB 7.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 919,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/main/documentation/sphinx/source/api-common.rst.inc#L315",
        "title": "foundationdb/documentation/sphinx/source/api-common.rst.inc at main \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 919,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}