{
  "post_stream": {
    "posts": [
      {
        "id": 5962,
        "name": "Daniel Smith",
        "username": "Daniel-B-Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "created_at": "2020-01-14T22:48:44.722Z",
        "cooked": "<p>I\u2019m attempting to benchmark FoundationDB for a write heavy workload*, and I\u2019m struggling to max out the storage engine(s). I\u2019m wondering if there are known limitations to transaction / operation throughput per cluster and / or if there are places I could start looking into to potentially contribute changes to improve that throughput.</p>\n<p>I\u2019ve followed a number of the performance related threads here, so here is a lot of detail of what I\u2019ve come up with thus far.</p>\n<p>I\u2019ve been comparing the memory storage engine on r5d.2xls to the redwood engine on i3.2xls. The performance gap between the two seems pretty small, maybe 10-20% more throughput for the in-memory engine. For both the in-memory and the ssd, the rate limiter doesn\u2019t seem to report the storage engines getting backed up at all. I do see issues with initiating batch priority transactions listed. With the i3s, I\u2019m able to see a range of about 20-30k iops. The AWS documentation indicates those instance types can get up to 180k iops, so there should be a good deal of headroom. The write queue shows a lot more variance going from ~5 to ~2k.</p>\n<p>Drawing inspiration from <a href=\"https://forums.foundationdb.org/t/scripts-to-deploy-benchmark-and-tinker-with-1m-operations-sec-foundationdb-cluster-on-aws/637\">this topic</a>, I\u2019ve explicitly been laying out the processes. Each box has four FDB processes. Storage boxes have four storage processes, and the logs boxes have one log process, one proxy process and two resolver processes. The cluster_controller and master are added as a fifth process to two random logs boxes. After a bunch of different configurations, I ended up with 128 storage boxes (512 processes), 32 logs, 32 proxies and 64 resolvers. I\u2019m writing to the cluster from 32 different processes.</p>\n<p>Data seems reasonably well distributed. I don\u2019t see any outliers on any system metric. Network traffic stays under 80 MiB/s, so I don\u2019t think we\u2019re getting limited there. CPU/load is pretty low for the log servers. For the storage servers, load ranges from 0.3 to 0.6 for the storage servers, and CPU usage is between 20% and 40%.</p>\n<p>The keys are on average ~100 bytes, with a range between about 50 and 230 bytes. The keys are made up of one of two unique 5 byte prefixes, followed by a few thousand 8 byte integers (sequential from an RDB), a few (usually) English words and a random 16 byte suffix. I\u2019ve varied the number of keys written per batch and gotten the best performance around 200.</p>\n<p>* I\u2019m aware that FoundationDB isn\u2019t the best fit for some write heavy workloads, but I have yet to see another open source ordered key-value store work more efficiently. I am also optimistic by the idea of adding a RocksDB backed storage backend assuming we can get the transaction throughput we need.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-14T22:50:37.251Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 284,
        "reads": 95,
        "readers_count": 94,
        "score": 1454.0,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Daniel Smith",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/scripts-to-deploy-benchmark-and-tinker-with-1m-operations-sec-foundationdb-cluster-on-aws/637",
            "internal": true,
            "reflection": false,
            "title": "Scripts to deploy, benchmark, and tinker with 1M operations/sec FoundationDB cluster on AWS",
            "clicks": 12
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 679,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 5963,
        "name": "Ryan Worl",
        "username": "ryanworl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "created_at": "2020-01-14T23:10:04.251Z",
        "cooked": "<p>I would start with turning down the number of logs, proxies, and resolvers by a lot.</p>\n<p>Start with one resolver and try something like 3 logs and 3 proxies. That probably won\u2019t be your final number, but that\u2019s a good place to start. The resolver probably won\u2019t need more than one, but just look at the CPU usage and if it is really high that will let you know.</p>\n<p>The tlogs, proxies, and resolvers should only be scaled up when you observe a specific bottleneck in one of those components.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-14T23:10:04.251Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 86,
        "readers_count": 85,
        "score": 47.2,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Ryan Worl",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 81,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5965,
        "name": "Roman Semenov",
        "username": "poma",
        "avatar_template": "/user_avatar/forums.foundationdb.org/poma/{size}/325_2.png",
        "created_at": "2020-01-15T04:04:14.638Z",
        "cooked": "<p>I would suggest measuring max iops and network throughput those machines can do, just in case</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-15T04:04:14.638Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 83,
        "readers_count": 82,
        "score": 51.6,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Roman Semenov",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 321,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5970,
        "name": "Daniel Smith",
        "username": "Daniel-B-Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "created_at": "2020-01-16T23:29:23.617Z",
        "cooked": "<p>Thanks for your help! I\u2019m not done with the various testing I have planned in response to this, but I wanted to give some updates.</p>\n<p>With i3.2xls and the Redwood driver, I was able to get to the point where storage CPU was clearly limiting the throughput. The rate limiter was not reporting the storage engines being slow, but a number of storage nodes had CPU usage &gt; 90 on fdbtop and normalized load &gt; 1. With i3xls and the older SSD engine, I ended up with similar throughput but no clear bottleneck. The storage instances all had CPU &lt; 85 and load &lt; 1 with only a handful of nodes having load above 0.9. Write iops were still only at about 30k, so I don\u2019t think that was the limit.</p>\n<p>Do you happen to have an estimate of what performance impact you would expect from using ~100 byte keys and no values vs the key/value sizes used in <a href=\"https://apple.github.io/foundationdb/performance.html\" rel=\"noopener nofollow ugc\">the benchmark</a>? I\u2019m seeing about 1.6 M ops/sec vs a projected &gt; 10 M ops/sec from that page.</p>\n<aside class=\"quote no-group\" data-username=\"ryanworl\" data-post=\"2\" data-topic=\"1880\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ryanworl/48/440_2.png\" class=\"avatar\"> ryanworl:</div>\n<blockquote>\n<p>I would start with turning down the number of logs, proxies, and resolvers by a lot.</p>\n<p>Start with one resolver and try something like 3 logs and 3 proxies. That probably won\u2019t be your final number, but that\u2019s a good place to start. The resolver probably won\u2019t need more than one, but just look at the CPU usage and if it is really high that will let you know.</p>\n<p>The tlogs, proxies, and resolvers should only be scaled up when you observe a specific bottleneck in one of those components.</p>\n</blockquote>\n</aside>\n<p>Thanks for this suggestion. Going through this in a more principled manner, I was able to get the same performance out of the i3.2xls with the Redwood engine with ~15 logs, 15 resolvers and 8 proxies and ended up with the same throughput as with the configuration above. At that point, the performance was limited by storage engine CPU.</p>\n<p>Unfortunately, looking for specific bottlenecks in the logs/proxies/resolvers fdbtop output / system metrics was not a very valuable guide. For example, with something like 6 logs, 3 proxies and 1 resolver, everything looked fine (almost all CPU below 85% on fdbtop, network/memory/iops were never a problem for log/stateless servers) except for the fact that the cluster was doing an order of magnitude less throughput than I had previously observed. Some of the time, I would see CPU becoming a bottleneck, but for the most part, I kept adding instances until that stopped improving performance, using CPU as a guide of which instance type to add.</p>\n<aside class=\"quote no-group\" data-username=\"poma\" data-post=\"3\" data-topic=\"1880\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/poma/48/325_2.png\" class=\"avatar\"> poma:</div>\n<blockquote>\n<p>I would suggest measuring max iops and network throughput those machines can do, just in case</p>\n</blockquote>\n</aside>\n<p>I haven\u2019t managed to measure iops just yet. We have tested the network on these boxes before and seen close to 5 Gb/s from 1 thread and 10 Gb/s with 5 thread, which is about what is advertised. I haven\u2019t managed to get above 1.5 Gb/s on any host, so I can\u2019t imagine network is the limiting factor at any point in time.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-16T23:30:31.678Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 2,
        "incoming_link_count": 5,
        "reads": 80,
        "readers_count": 79,
        "score": 61.0,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Daniel Smith",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/performance.html",
            "internal": false,
            "reflection": false,
            "title": "Performance \u2014 FoundationDB 6.2",
            "clicks": 9
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 679,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5971,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-01-17T00:11:16.466Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Daniel-B-Smith\" data-post=\"4\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/daniel-b-smith/48/743_2.png\" class=\"avatar\"> Daniel-B-Smith:</div>\n<blockquote>\n<p>With i3.2xls and the Redwood driver</p>\n</blockquote>\n</aside>\n<p>You should probably repeat your experiment with <code>ssd</code> as well.  Though redwood is the future, and I greatly appreciate you testing it, it currently has no promise of stability and is very much still in-development.  Its CPU usage is, in particular, a thing that will continue to be worked on, so at minimum be aware that you\u2019re benchmarking a moving target.</p>\n<aside class=\"quote no-group\" data-username=\"Daniel-B-Smith\" data-post=\"4\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/daniel-b-smith/48/743_2.png\" class=\"avatar\"> Daniel-B-Smith:</div>\n<blockquote>\n<p>Do you happen to have an estimate of what performance impact you would expect from using ~100 byte keys and no values vs the key/value sizes used in <a href=\"https://apple.github.io/foundationdb/performance.html\">the benchmark </a>? I\u2019m seeing about 1.6 M ops/sec vs a projected &gt; 10 M ops/sec from that page.</p>\n</blockquote>\n</aside>\n<p>That page is exceedingly old, and I think the knowledge of what was even run and how has been lost.  There\u2019s been discussion of just removing the page.  I\u2019d honestly put more trust in the numbers that you\u2019ve seen in other threads, or if Snowflake or Wavefront folk could share their numbers as to how a well-tuned FDB-on-cloud should perform.</p>\n<aside class=\"quote no-group\" data-username=\"Daniel-B-Smith\" data-post=\"4\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/daniel-b-smith/48/743_2.png\" class=\"avatar\"> Daniel-B-Smith:</div>\n<blockquote>\n<p>15 resolvers</p>\n</blockquote>\n</aside>\n<p>Use one resolver.  Always use one resolver.  If you are saturated on resolver CPU, then use two resolvers.  I\u2019ve honestly never seen a cluster/workload yet that requires more than two resolvers.  Enough people have hit this that I\u2019m honestly starting to be tempted to make <code>configure resolvers=3</code> or higher return an error (or at least a stern warning).</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-17T00:11:36.102Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 8,
        "reads": 75,
        "readers_count": 74,
        "score": 75.0,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5976,
        "name": "Daniel Smith",
        "username": "Daniel-B-Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "created_at": "2020-01-17T22:02:48.974Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"5\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>You should probably repeat your experiment with  <code>ssd</code>  as well.</p>\n</blockquote>\n</aside>\n<p>Yep, I\u2019ve been running with both. On the r5ds, the lower iops for Redwood made a difference. On the i3s, I seem to be hitting a bottleneck somewhere upstream of the storage engine.</p>\n<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"5\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>Use one resolver. Always use one resolver. If you are saturated on resolver CPU, then use two resolvers.</p>\n</blockquote>\n</aside>\n<p>This was very helpful. I think the issue I\u2019m running into is that the load balancing across resolvers isn\u2019t working properly for my use case. I ran the test with the in-memory storage engine* and only scaled up the number of resolvers when there was one or more resolvers with CPU &gt; 95% for more than a couple minutes and ended up with 8 resolvers. I believe I saw a throughput increase for most (if not all) or those increases. Many of those involved one resolver being completely pinned (CPU &gt; 99%) while the average resolver CPU was between 70 and 80%. The first ~9 bytes of my keys are made up of one of two prefixes and one of the prefixes receives about 25x more writes than the other. While there is substantially more entropy in the keys beyond those prefixes, could it be that all those writes are getting sent to one resolver and overwhelming it? It wouldn\u2019t be hard to put a hash in the first byte to distribute data more evenly. If that\u2019s likely not the issue, do you have any pointers of where I should be looking to figure out where this imbalance is happening?</p>\n<p>* I saw ~the same throughput with the in-memory engine as the ssd engine, which seems to confirm that the bottleneck is upstream of there.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-17T22:02:48.974Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 1,
        "incoming_link_count": 4,
        "reads": 73,
        "readers_count": 72,
        "score": 39.6,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Daniel Smith",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 679,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5977,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-01-18T01:40:16.499Z",
        "cooked": "<p>The assignments of key ranges to resolvers can be shuffled and re-sharded to try to adapt to incoming workload characteristics.  Given that I\u2019m not aware aware of anyone running with &gt;2 resolvers in production, it would be totally plausible to me that distributing ranges across resolvers isn\u2019t a well tuned thing.</p>\n<p>Checking a large cluster that we have for saturation tests that\u2019s also ~500 processes, it is configured to <code>proxies=30 logs=30 resolvers=2</code>.  So I\u2019m kind of surprised that your workload on a similar sized cluster also at saturation requires 4x the amount of resolver CPU power.  It\u2019d be good to double check your recruitment, and that you\u2019re not accidentally sharing processes between resolvers and some other role?</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-18T01:40:16.499Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 71,
        "readers_count": 70,
        "score": 24.2,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 679,
          "username": "Daniel-B-Smith",
          "name": "Daniel Smith",
          "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5983,
        "name": "Daniel Smith",
        "username": "Daniel-B-Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "created_at": "2020-01-21T19:11:11.128Z",
        "cooked": "<p>I don\u2019t recall ever seeing a second role present along with the resolver role. I looked out for that in my tests this morning, and I did not see the resolver process having a second role.</p>\n<p>I tried the 30 logs, 30 proxies and 2 resolvers setup as a starting point this morning. The initial test had a ton of conflicts and was just falling apart. I reduced the number of clients (each with 4 threads creating transactions) from 64 to 16, and the FDB cluster was able to properly handle the load.</p>\n<p>The initial workload was substantially below what I had seen in my previous tests:</p>\n<pre><code class=\"lang-auto\">Workload:\n  Read rate              - 662 Hz\n  Write rate             - 477558 Hz\n  Transactions started   - 2477 Hz\n  Transactions committed - 2393 Hz\n  Conflict rate          - 2 Hz\n</code></pre>\n<p>Adding a third resolver showed an almost immediate impact:</p>\n<pre><code class=\"lang-auto\">Workload:\n  Read rate              - 1345 Hz\n  Write rate             - 568973 Hz\n  Transactions started   - 2956 Hz\n  Transactions committed - 2854 Hz\n  Conflict rate          - 2 Hz\n</code></pre>\n<p>I kept adding resolvers until I no longer saw a jump in transaction throughput:</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/1b632d71698092085c4b15979c6539c279be21d7.png\" data-download-href=\"/uploads/short-url/3Uhnt6X2vaEmre3qXcHM4l2ZSyH.png?dl=1\" title=\"Screen Shot 2020-01-21 at 1.59.24 PM\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1b632d71698092085c4b15979c6539c279be21d7_2_517x214.png\" alt=\"Screen Shot 2020-01-21 at 1.59.24 PM\" data-base62-sha1=\"3Uhnt6X2vaEmre3qXcHM4l2ZSyH\" width=\"517\" height=\"214\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1b632d71698092085c4b15979c6539c279be21d7_2_517x214.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/1b632d71698092085c4b15979c6539c279be21d7_2_775x321.png 1.5x, https://global.discourse-cdn.com/foundationdb/original/1X/1b632d71698092085c4b15979c6539c279be21d7.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1b632d71698092085c4b15979c6539c279be21d7_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">Screen Shot 2020-01-21 at 1.59.24 PM</span><span class=\"informations\">986\u00d7410 27.1 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>and ended up with 7 resolvers. My final workload was 2x the throughput with two resolvers but still much lower than what I had seen with fewer logs/proxies:</p>\n<pre><code class=\"lang-auto\">Workload:\n  Read rate              - 732 Hz\n  Write rate             - 855012 Hz\n  Transactions started   - 4556 Hz\n  Transactions committed - 4276 Hz\n  Conflict rate          - 0 Hz\n</code></pre>\n<p>I\u2019m wondering if I\u2019ve hit some scaling limitation on the write side. Since I don\u2019t know what else to try, I\u2019m going to try randomizing the prefix to see if that helps at all. Any advice on where I could start investigating on the FDB side would be greatly appreciated.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-21T19:11:11.128Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 71,
        "readers_count": 70,
        "score": 14.2,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Daniel Smith",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/1b632d71698092085c4b15979c6539c279be21d7.png",
            "internal": false,
            "reflection": false,
            "title": "1b632d71698092085c4b15979c6539c279be21d7.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 679,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5990,
        "name": "Daniel Smith",
        "username": "Daniel-B-Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "created_at": "2020-01-22T21:40:28.245Z",
        "cooked": "<p>The random keys did not help at all. My next thought is to profile the resolver for my use case, but I\u2019m more than open to other suggestions / ideas you might have.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-22T21:40:28.245Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 65,
        "readers_count": 64,
        "score": 18.0,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Daniel Smith",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 679,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5992,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-01-22T23:37:51.712Z",
        "cooked": "<p>Well, congrats on running a more resolver-intensive workload than I\u2019ve seen before.  I think basically what you\u2019re doing of hill climbing/newton\u2019s method\u2019ing your way to your optimal number of logs/proxies/resolvers is better than whatever advice I\u2019ll give.  As you\u2019re approaching 1mil writes per second, it is totally possible that you\u2019re hitting a current throughput limitation.  You\u2019re doing ~4k transactions per second, each of doing 200 writes of 100 byte keys and 1000 byte values?  That adds up to something a bit under 1GB/s of writes, which I think is about the upper bound of anything I\u2019ve heard someone report of doing with FDB so far.</p>\n<p>If there\u2019s not an obvious case of one class of role being CPU/network/disk saturated, then the debugging here rapidly escalates in technical complexity.  If I were to start to debug this, I\u2019d go look at the <code>CommitDebug</code> trace events, to piece together what part of the system is being the slowest for you, over time, and then go dig into why.  Ideally, if you look at all the messages with the same <code>debugID</code>, there will be some obvious piece that is consistently taking longer.  It could either turn out that it\u2019s a role (all resolvers are taking ~3s) to respond, or a single process (transaction log 0 is responding 3s after all other logs, consistently).  And then we branch out based on what role seems suspicious.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-22T23:37:51.712Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 65,
        "readers_count": 64,
        "score": 88.0,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 679,
          "username": "Daniel-B-Smith",
          "name": "Daniel Smith",
          "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6006,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-01-23T15:09:25.796Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"alexmiller\" data-post=\"10\" data-topic=\"1880\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alexmiller/48/326_2.png\" class=\"avatar\"> alexmiller:</div>\n<blockquote>\n<p>Ideally, if you look at all the messages with the same <code>debugID</code> ,</p>\n</blockquote>\n</aside>\n<p>One thing to look out for is that the IDs for a single request do change at various points in the commit process due to things like batching. You can piece together the sequence of ID relations using <code>CommitAttachID</code> events, but if you aren\u2019t explicitly enabling transaction tracing on any of your transactions, then the internally traced transactions are 10 seconds apart and you can distinguish different sequences by when they ran.</p>\n<p>In other words, assuming commits are taking somewhat less than 10 seconds, you can look for all of the <code>CommitDebug</code> messages that are close together in time with these two starting and ending <code>Location</code> fields:</p>\n<p><code>Location=\"NativeAPI.commit.Before\"</code><br>\n<code>Location=\"NativeAPI.commit.After\"</code></p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2020-01-23T15:09:25.796Z",
        "reply_count": 0,
        "reply_to_post_number": 10,
        "quote_count": 1,
        "incoming_link_count": 5,
        "reads": 63,
        "readers_count": 62,
        "score": 37.6,
        "yours": false,
        "topic_id": 1880,
        "topic_slug": "transaction-operation-throughput",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/transaction-operation-throughput/1880/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      5962,
      5963,
      5965,
      5970,
      5971,
      5976,
      5977,
      5983,
      5990,
      5992,
      6006
    ]
  },
  "timeline_lookup": [
    [
      1,
      2107
    ],
    [
      4,
      2105
    ],
    [
      6,
      2104
    ],
    [
      8,
      2100
    ],
    [
      9,
      2099
    ],
    [
      11,
      2098
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "performance"
  ],
  "tags_descriptions": {},
  "fancy_title": "Transaction/operation throughput",
  "id": 1880,
  "title": "Transaction/operation throughput",
  "posts_count": 11,
  "created_at": "2020-01-14T22:48:44.649Z",
  "views": 2027,
  "reply_count": 5,
  "like_count": 6,
  "last_posted_at": "2020-01-23T15:09:25.796Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "transaction-operation-throughput",
  "category_id": 7,
  "word_count": 2590,
  "deleted_at": null,
  "user_id": 679,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1880",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 11,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 5,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "How to troubleshoot throughput performance degrade?",
      "id": 1436,
      "title": "How to troubleshoot throughput performance degrade?",
      "slug": "how-to-troubleshoot-throughput-performance-degrade",
      "posts_count": 36,
      "reply_count": 24,
      "highest_post_number": 36,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/9c9854ce87e53265f75154876f180812ee93f8ec.png",
      "created_at": "2019-06-10T10:09:55.810Z",
      "last_posted_at": "2019-06-20T21:36:30.209Z",
      "bumped": true,
      "bumped_at": "2019-06-20T21:36:30.209Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 4377,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 597,
            "username": "rayjcwu",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rayjcwu/{size}/602_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 592,
            "username": "nfeinberg",
            "name": "Nicholas Feinberg",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/ba8739/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "How to increase the read/write throughput for foundationdb 5.2",
      "id": 1968,
      "title": "How to increase the read/write throughput for foundationdb 5.2",
      "slug": "how-to-increase-the-read-write-throughput-for-foundationdb-5-2",
      "posts_count": 21,
      "reply_count": 19,
      "highest_post_number": 23,
      "image_url": null,
      "created_at": "2020-02-20T00:35:23.457Z",
      "last_posted_at": "2020-05-24T08:05:30.224Z",
      "bumped": true,
      "bumped_at": "2020-05-24T08:05:30.224Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3153,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 718,
            "username": "Cliicy",
            "name": "Dragon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Benchmarking FoundationDB on AWS",
      "id": 410,
      "title": "Benchmarking FoundationDB on AWS",
      "slug": "benchmarking-foundationdb-on-aws",
      "posts_count": 19,
      "reply_count": 12,
      "highest_post_number": 19,
      "image_url": null,
      "created_at": "2018-05-14T09:55:57.604Z",
      "last_posted_at": "2018-10-30T16:01:15.283Z",
      "bumped": true,
      "bumped_at": "2018-10-30T16:01:15.283Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 9035,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 118,
            "username": "abdullin",
            "name": "Rinat Abdullin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/abdullin/{size}/83_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 257,
            "username": "cih.y2k",
            "name": "cih.y2k",
            "avatar_template": "/user_avatar/forums.foundationdb.org/cih.y2k/{size}/423_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Why doesn&rsquo;t my cluster performance scale when I double the number of machines?",
      "id": 640,
      "title": "Why doesn't my cluster performance scale when I double the number of machines?",
      "slug": "why-doesnt-my-cluster-performance-scale-when-i-double-the-number-of-machines",
      "posts_count": 21,
      "reply_count": 16,
      "highest_post_number": 21,
      "image_url": null,
      "created_at": "2018-08-15T09:26:47.588Z",
      "last_posted_at": "2018-08-17T07:32:00.164Z",
      "bumped": true,
      "bumped_at": "2018-08-17T07:32:00.164Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3323,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 68,
            "username": "daverosenthal",
            "name": "Dave Rosenthal",
            "avatar_template": "/user_avatar/forums.foundationdb.org/daverosenthal/{size}/51_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 321,
            "username": "poma",
            "name": "Roman Semenov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/poma/{size}/325_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Scripts to deploy, benchmark, and tinker with 1M operations/sec FoundationDB cluster on AWS",
      "id": 637,
      "title": "Scripts to deploy, benchmark, and tinker with 1M operations/sec FoundationDB cluster on AWS",
      "slug": "scripts-to-deploy-benchmark-and-tinker-with-1m-operations-sec-foundationdb-cluster-on-aws",
      "posts_count": 14,
      "reply_count": 5,
      "highest_post_number": 14,
      "image_url": null,
      "created_at": "2018-08-14T14:13:06.849Z",
      "last_posted_at": "2018-11-06T16:58:50.747Z",
      "bumped": true,
      "bumped_at": "2018-11-06T16:58:50.747Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 7,
      "views": 4284,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 321,
            "username": "poma",
            "name": "Roman Semenov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/poma/{size}/325_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 55,
            "username": "bowlofstew",
            "name": "Stewart Henderson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/aca169/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 409,
            "username": "TommyLike",
            "name": "Hu Sheng",
            "avatar_template": "/user_avatar/forums.foundationdb.org/tommylike/{size}/395_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 679,
        "username": "Daniel-B-Smith",
        "name": "Daniel Smith",
        "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 81,
        "username": "ryanworl",
        "name": "Ryan Worl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 321,
        "username": "poma",
        "name": "Roman Semenov",
        "avatar_template": "/user_avatar/forums.foundationdb.org/poma/{size}/325_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 679,
      "username": "Daniel-B-Smith",
      "name": "Daniel Smith",
      "avatar_template": "/user_avatar/forums.foundationdb.org/daniel-b-smith/{size}/743_2.png"
    },
    "last_poster": {
      "id": 12,
      "username": "ajbeamon",
      "name": "A.J. Beamon",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/scripts-to-deploy-benchmark-and-tinker-with-1m-operations-sec-foundationdb-cluster-on-aws/637",
        "title": "Scripts to deploy, benchmark, and tinker with 1M operations/sec FoundationDB cluster on AWS",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 12,
        "user_id": 679,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://apple.github.io/foundationdb/performance.html",
        "title": "Performance \u2014 FoundationDB 6.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 9,
        "user_id": 679,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}