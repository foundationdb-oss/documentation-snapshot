{
  "post_stream": {
    "posts": [
      {
        "id": 7751,
        "name": "Mohammad Roohitavaf",
        "username": "roohitavaf",
        "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
        "created_at": "2020-08-11T04:37:58.489Z",
        "cooked": "<p>Hi,</p>\n<p>I am trying to understand the FoundationDB distributed transaction protocol, but unfortunately, I cannot find any document or paper explaining the details of the protocol.  The only reference seems to be this video by Evan that does not cover many details:</p><div class=\"youtube-onebox lazy-video-container\" data-video-id=\"EMwhsGsxfPU\" data-video-title=\"Technical Overview of FoundationDB - Evan Tschannen, Apple\" data-provider-name=\"youtube\">\n  <a href=\"https://www.youtube.com/watch?v=EMwhsGsxfPU\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n    <img class=\"youtube-thumbnail\" src=\"https://global.discourse-cdn.com/foundationdb/original/1X/5d1141db6be1124bfcf166f19a272bac26168a78.jpeg\" title=\"Technical Overview of FoundationDB - Evan Tschannen, Apple\" width=\"690\" height=\"388\">\n  </a>\n</div>\n\n<p>I have questions, especially about the transaction logs and proxy:</p>\n<ul>\n<li>\n<p>Can the transaction log be sharded? If yes, when we have more than one shard does a proxy run a 2PC to append the write-set of a transaction to them. Otherwise, how atomicity is guaranteed, e.g. when proxy crashes after writing to some transaction log and before writing to the rest of shards?</p>\n</li>\n<li>\n<p>Shouldn\u2019t only committed transactions be appended to the transaction logs? If Yes, then why when we have transaction logs with highest timestamps 400, 410, and 420, he says only 400 could have been returned success to the client? So 410 and 420 are appended to the transaction logs but returned failure to the client?</p>\n</li>\n</ul>\n<p>And other questions like this. I have encountered other people having the same questions. The document provided on the website is very basic and seems to target the general audience.</p>\n<p>Thank you,<br>\nMohammad</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-08-11T04:37:58.489Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 305,
        "reads": 90,
        "readers_count": 89,
        "score": 1558.0,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "Mohammad Roohitavaf",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://www.youtube.com/watch?v=EMwhsGsxfPU",
            "internal": false,
            "reflection": false,
            "title": "Technical Overview of FoundationDB - Evan Tschannen, Apple - YouTube",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 805,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 7756,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-08-11T15:35:21.215Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"roohitavaf\" data-post=\"1\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/roohitavaf/48/1026_2.png\" class=\"avatar\"> roohitavaf:</div>\n<blockquote>\n<p>Can the transaction log be sharded?</p>\n</blockquote>\n</aside>\n<p>There is some internal sharding that happens when you have a sufficient number of logs.</p>\n<aside class=\"quote no-group\" data-username=\"roohitavaf\" data-post=\"1\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/roohitavaf/48/1026_2.png\" class=\"avatar\"> roohitavaf:</div>\n<blockquote>\n<p>If yes, when we have more than one shard does a proxy run a 2PC to append the write-set of a transaction to them. Otherwise, how atomicity is guaranteed, e.g. when proxy crashes after writing to some transaction log and before writing to the rest of shards?</p>\n</blockquote>\n</aside>\n<p>It doesn\u2019t use 2PC. Commits are versioned with monotonically increasing versions and applied to each log in order, and I believe the way recovery works when there was a commit is in flight and only written to a subset of the logs is that we recover to the most recent version present on all (or enough?) logs. The proxy won\u2019t tell a client that a commit is successful until it\u2019s written to all the logs, so any later versions have not been reported durable and can be legally discarded.</p>\n<aside class=\"quote no-group\" data-username=\"roohitavaf\" data-post=\"1\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/roohitavaf/48/1026_2.png\" class=\"avatar\"> roohitavaf:</div>\n<blockquote>\n<p>Shouldn\u2019t only committed transactions be appended to the transaction logs? If Yes, then why when we have transaction logs with highest timestamps 400, 410, and 420, he says only 400 could have been returned success to the client? So 410 and 420 are appended to the transaction logs but returned failure to the client?</p>\n</blockquote>\n</aside>\n<p>Transactions will only be appended to the logs if we intend to commit them, but the commit isn\u2019t complete until we tell the proxy replies to the client. In other words, the commit could still fail after writing to a log if, for example, processes die and we have to do a recovery. As discussed in your previous question, that may mean that you\u2019ve started writing commits with higher versions but not finished, so they could be present on some logs and not others.</p>\n<aside class=\"quote no-group\" data-username=\"roohitavaf\" data-post=\"1\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/roohitavaf/48/1026_2.png\" class=\"avatar\"> roohitavaf:</div>\n<blockquote>\n<p>And other questions like this. I have encountered other people having the same questions. The document provided on the website is very basic and seems to target the general audience.</p>\n</blockquote>\n</aside>\n<p>This is certainly true, and there\u2019s a lot we could do to improve this. There is at least some existing documentation of these details, including a more technical version of my rough description, that can be seen in these pages (neither of which has made it into our website documentation):</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://github.com/apple/foundationdb/wiki/Technical-Overview-of-the-Database\">\n  <header class=\"source\">\n      <img src=\"https://github.githubassets.com/favicons/favicon.svg\" class=\"site-icon\" width=\"32\" height=\"32\">\n\n      <a href=\"https://github.com/apple/foundationdb/wiki/Technical-Overview-of-the-Database\" target=\"_blank\" rel=\"noopener\">GitHub</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/344;\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/a/a09253e2d16c1fa1ba6ffaa6395a34e914602d54_2_690x345.png\" class=\"thumbnail\" data-dominant-color=\"F0EDEE\" width=\"690\" height=\"345\"></div>\n\n<h3><a href=\"https://github.com/apple/foundationdb/wiki/Technical-Overview-of-the-Database\" target=\"_blank\" rel=\"noopener\">Technical Overview of the Database</a></h3>\n\n  <p>FoundationDB - the open source, distributed, transactional key-value store - apple/foundationdb</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n<aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md\" target=\"_blank\" rel=\"noopener\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md\" target=\"_blank\" rel=\"noopener\">apple/foundationdb/blob/main/design/recovery-internals.md</a></h4>\n\n\n      <pre><code class=\"lang-md\"># FDB Recovery Internals\n\nFDB uses recovery to handle various failures, such as hardware and network failures. When the current transaction system no longer works properly due to failures, recovery is automatically triggered to create a new generation of the transaction system.\n\nThis document explains at the high level how the recovery works in a single cluster. The audience of this document includes both FDB developers who want to have a basic understanding of the recovery process and database administrators who need to understand why a cluster fails to recover. This document does not discuss the complexity introduced to the recovery process by the multi-region configuration.\n\n## Background\n\n## `ServerDBInfo` data structure\n\nThis data structure contains transient information which is broadcast to all workers for a database, permitting them to communicate with each other. It contains, for example, the interfaces for cluster controller (CC), master, ratekeeper, and resolver, and holds the log system's configuration. Only part of the data structure, such as `ClientDBInfo` that contains the list of GRV proxies and commit proxies, is available to the client.\n\nWhenever a field of the `ServerDBInfo`is changed, the new value of the field, say new master's interface, will be sent to the CC and CC will propagate the new `ServerDBInfo` to all workers in the cluster.\n\n## When will recovery happen?\nFailure of certain roles in FDB can cause recovery. Those roles are cluster controller, master, GRV proxy, commit proxy, transaction logs (tLog), resolvers, log router, and backup workers.\n\nNetwork partition or failures can make CC unable to reach some roles, treating those roles as dead and causing recovery. If CC cannot connect to a majority of coordinators, it will be treated as dead by coordinators and recovery will happen.\n\nBetter master exists event can trigger recoveries. Better master exists event is the cluster changes such that there is a better location for some already recruited processes (say master role).\n</code></pre>\n\n\n\n  This file has been truncated. <a href=\"https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md\" target=\"_blank\" rel=\"noopener\">show original</a>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-08-11T15:35:21.215Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 17,
        "reads": 91,
        "readers_count": 90,
        "score": 128.2,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/wiki/Technical-Overview-of-the-Database",
            "internal": false,
            "reflection": false,
            "title": "Technical Overview of the Database \u00b7 apple/foundationdb Wiki \u00b7 GitHub",
            "clicks": 28
          },
          {
            "url": "https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md",
            "internal": false,
            "reflection": false,
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7791,
        "name": "Mohammad Roohitavaf",
        "username": "roohitavaf",
        "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
        "created_at": "2020-08-16T04:15:41.223Z",
        "cooked": "<p>Thank you for your response.</p>\n<p>I am trying to understand the details of the recovery process from the document you provided. I have a question regarding the KnownCommittedVersion.</p>\n<p>The example says:<br>\n\u201cConsider an old generation with three TLogs:  <code>A, B, C</code> . Their durable versions are  <code>100, 110, 120</code> , respectively, and their  <code>knownCommittedVersion</code>  are at  <code>80, 90, 95</code> , respectively.\u201d</p>\n<p>Is it for a single-shard transaction log, i.e. we have only one shard with three replicas A, B, C? If yes, then when the minimum of durable versions is 100, that means all replicas do have the versions &lt;=100. So why we need knownCommittedVersion? Why we have to copy from 96 to 100 to the new transaction logs?</p>\n<p>The old logs have 0-100, and new logs have &gt; 100. Storage servers first finish up the old logs, and then start consuming from new logs.</p>\n<p>If this example is not single shard, could you please tell me how many shards we have and each have how many replicas?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-08-16T04:15:41.223Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 68,
        "readers_count": 67,
        "score": 48.6,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "Mohammad Roohitavaf",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 805,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7792,
        "name": "Mohammad Roohitavaf",
        "username": "roohitavaf",
        "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
        "created_at": "2020-08-16T22:27:34.338Z",
        "cooked": "<p>I have also a more fundamental question: When a transaction log crashes, is it possible that storage servers that used to read from it, now start consuming from a different old transaction log?</p>\n<p>For example, in the example above, suppose transaction log A permanently fails. Suppose there was a storage server S that was reading from A, and it was way behind such that the last offset it read was 20. The new transaction logs start from 96, i.e. they don\u2019t have any offset less than 96, and A is permanently died. So from which transaction log serer S will get offsets 21-96? I guess from old B or C. Is that true?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-08-16T22:27:34.338Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 66,
        "readers_count": 65,
        "score": 33.2,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "Mohammad Roohitavaf",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 805,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7794,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-08-18T18:53:16.820Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"2\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>There is at least some existing documentation of these details, including a more technical version of my rough description, that can be seen in these pages (neither of which has made it into our website documentation):</p>\n</blockquote>\n</aside>\n<p>It did get added to the source for the website, so when 6.3 is pushed, I think it should then go live.  One will need to take a <a href=\"https://github.com/apple/foundationdb/blob/master/documentation/sphinx/source/architecture.rst\">look at the source</a> for now to see the more detailed architecture information.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-08-18T18:53:16.820Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 3,
        "reads": 66,
        "readers_count": 65,
        "score": 28.2,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/master/documentation/sphinx/source/architecture.rst",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/architecture.rst at master \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 29
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 8762,
        "name": "",
        "username": "random-uuid",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/90db22/{size}.png",
        "created_at": "2020-11-10T22:58:37.229Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"2\" data-topic=\"2287\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>Transactions will only be appended to the logs if we intend to commit them</p>\n</blockquote>\n</aside>\n<p>This part was a little confusing to me when I was trying to understand the transaction subsystem.</p>\n<p>While not every transaction gets appended to the logs, every transaction batch does get appended. When it\u2019s the turn of a proxy to submit the next batch, that proxy effectively has a cluster-wide lock; nothing else can commit before it.</p>\n<p>Same thing happens with resolver batches.</p>\n<p>This has implications on scalability of the cluster. If we make the commit batches larger to accommodate for more proxies, the batch submission rate can be kept constant but the variance of batch tardiness will increase, causing availability dips.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-11-10T22:58:37.229Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 52,
        "readers_count": 51,
        "score": 15.4,
        "yours": false,
        "topic_id": 2287,
        "topic_slug": "why-there-is-no-document-explaining-foundationdb-internals",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 850,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/why-there-is-no-document-explaining-foundationdb-internals/2287/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      7751,
      7756,
      7791,
      7792,
      7794,
      8762
    ]
  },
  "timeline_lookup": [
    [
      1,
      1898
    ],
    [
      2,
      1897
    ],
    [
      3,
      1893
    ],
    [
      4,
      1892
    ],
    [
      5,
      1890
    ],
    [
      6,
      1806
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Why there is no document explaining FoundationDB internals?",
  "id": 2287,
  "title": "Why there is no document explaining FoundationDB internals?",
  "posts_count": 6,
  "created_at": "2020-08-11T04:37:58.388Z",
  "views": 1669,
  "reply_count": 1,
  "like_count": 2,
  "last_posted_at": "2020-11-10T22:58:37.229Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "why-there-is-no-document-explaining-foundationdb-internals",
  "category_id": 8,
  "word_count": 1157,
  "deleted_at": null,
  "user_id": 805,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/5d1141db6be1124bfcf166f19a272bac26168a78_2_1024x576.jpeg",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2287",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 7,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 1280,
      "height": 720,
      "url": "https://global.discourse-cdn.com/foundationdb/original/1X/5d1141db6be1124bfcf166f19a272bac26168a78.jpeg"
    },
    {
      "max_width": 1024,
      "max_height": 1024,
      "width": 1024,
      "height": 576,
      "url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/5d1141db6be1124bfcf166f19a272bac26168a78_2_1024x576.jpeg"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Technical overview of the database",
      "id": 135,
      "title": "Technical overview of the database",
      "slug": "technical-overview-of-the-database",
      "posts_count": 27,
      "reply_count": 15,
      "highest_post_number": 27,
      "image_url": null,
      "created_at": "2018-04-20T15:30:31.788Z",
      "last_posted_at": "2019-01-11T23:25:47.462Z",
      "bumped": true,
      "bumped_at": "2019-01-11T23:25:47.462Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 64,
      "views": 12958,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 96,
            "username": "idiot",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 443,
            "username": "junius",
            "name": "junius",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f08c70/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Understanding inter communication",
      "id": 745,
      "title": "Understanding inter communication",
      "slug": "understanding-inter-communication",
      "posts_count": 12,
      "reply_count": 7,
      "highest_post_number": 12,
      "image_url": null,
      "created_at": "2018-10-05T00:51:33.531Z",
      "last_posted_at": "2018-10-11T17:16:52.613Z",
      "bumped": true,
      "bumped_at": "2018-10-11T17:16:52.613Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 10,
      "views": 3588,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 384,
            "username": "Chandru4u",
            "name": "Chandrashekar",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Transaction Log files Info and three_data_center data replication model",
      "id": 2202,
      "title": "Transaction Log files Info and three_data_center data replication model",
      "slug": "transaction-log-files-info-and-three-data-center-data-replication-model",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-06-23T18:13:23.023Z",
      "last_posted_at": "2020-07-02T15:42:02.469Z",
      "bumped": true,
      "bumped_at": "2020-07-02T15:42:02.469Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1099,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 781,
            "username": "jarvis",
            "name": "jar ",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/e36b37/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Is fdb&rsquo;s recovery may drop committed transaction?",
      "id": 2750,
      "title": "Is fdb's recovery may drop committed transaction?",
      "slug": "is-fdbs-recovery-may-drop-committed-transaction",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2021-06-13T15:14:11.611Z",
      "last_posted_at": "2021-06-30T04:33:52.036Z",
      "bumped": true,
      "bumped_at": "2021-06-30T04:33:52.036Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 679,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 948,
            "username": "ChinaXing",
            "name": "chinaxing",
            "avatar_template": "/user_avatar/forums.foundationdb.org/chinaxing/{size}/1102_2.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Transaction implement related doubt",
      "id": 757,
      "title": "Transaction implement related doubt",
      "slug": "transaction-implement-related-doubt",
      "posts_count": 5,
      "reply_count": 3,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-10-09T11:25:07.598Z",
      "last_posted_at": "2018-10-20T15:44:06.612Z",
      "bumped": true,
      "bumped_at": "2018-10-20T15:53:29.815Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1095,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 386,
            "username": "zycHacker",
            "name": "zycHacker",
            "avatar_template": "/user_avatar/forums.foundationdb.org/zychacker/{size}/385_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 805,
        "username": "roohitavaf",
        "name": "Mohammad Roohitavaf",
        "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 850,
        "username": "random-uuid",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/90db22/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 805,
      "username": "roohitavaf",
      "name": "Mohammad Roohitavaf",
      "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png"
    },
    "last_poster": {
      "id": 850,
      "username": "random-uuid",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/90db22/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/blob/master/documentation/sphinx/source/architecture.rst",
        "title": "foundationdb/architecture.rst at master \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 29,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/wiki/Technical-Overview-of-the-Database",
        "title": "Technical Overview of the Database \u00b7 apple/foundationdb Wiki \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 28,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/main/design/recovery-internals.md",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}