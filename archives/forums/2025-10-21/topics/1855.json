{
  "post_stream": {
    "posts": [
      {
        "id": 5888,
        "name": "matthew zeier",
        "username": "mrz",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png",
        "created_at": "2019-12-21T21:43:05.581Z",
        "cooked": "<p>(this may or may not be related to the other posts but it\u2019s also slightly different so new post)</p>\n<p>Occasionally a process will OOM and appear to die. The process is no longer in the cluster and <code>fdbmonitor</code> also doesn\u2019t restart the process probably because the process is still running as Linux sees it.</p>\n<p>Obviously, I\u2019d like an OOM\u2019d process to die such that <code>fdbmonitor</code> can restart it. Short of that we have a utility that\u2019s comparing active processes vs. what\u2019s in <code>foundationdb.conf</code> but that\u2019s sort of a hack.</p>\n<p>Happens to both memory &amp; ssd engines.</p>\n<p>Thoughts?</p>\n<pre><code class=\"lang-auto\">ubuntu@symphony-2b-db3-i-0b4a1fb4377dd609f:~$ grep 4606 /var/log/syslog*\n/var/log/syslog.1:Dec 21 21:15:31 localhost fdbmonitor[8697]: LogGroup=\"default\" Process=\"fdbserver.4606\": ERROR: Out of memory\n</code></pre>\n<pre><code class=\"lang-auto\">ubuntu@symphony-2b-db3-i-0b4a1fb4377dd609f:~$ fdbcli --exec 'status details' -C /etc/foundationdb/memory.cluster | grep 10.24.5.75\n  10.24.5.75:4600        ( 27% cpu; 17% machine; 0.352 Gbps;  2% disk IO;20.5 GB / 15.0 GB RAM  )\n  10.24.5.75:4601        ( 46% cpu; 17% machine; 0.352 Gbps;  4% disk IO;12.7 GB / 15.0 GB RAM  )\n  10.24.5.75:4602        ( 54% cpu; 17% machine; 0.352 Gbps;  9% disk IO;13.1 GB / 15.0 GB RAM  )\n  10.24.5.75:4603        ( 25% cpu; 17% machine; 0.352 Gbps;  1% disk IO;20.2 GB / 15.0 GB RAM  )\n  10.24.5.75:4604        ( 22% cpu; 17% machine; 0.352 Gbps;  2% disk IO;20.8 GB / 15.0 GB RAM  )\n  10.24.5.75:4605        ( 22% cpu; 17% machine; 0.352 Gbps;  4% disk IO;15.1 GB / 15.0 GB RAM  )\n  10.24.5.75:4607        ( 24% cpu; 17% machine; 0.352 Gbps;  2% disk IO;20.1 GB / 15.0 GB RAM  )\n  10.24.5.75:4650        (  0% cpu; 17% machine; 0.352 Gbps;  2% disk IO; 0.3 GB / 15.0 GB RAM  )\n  10.24.5.75:4651        ( 28% cpu; 17% machine; 0.352 Gbps;  4% disk IO; 1.0 GB / 15.0 GB RAM  )\n  10.24.5.75:4652        ( 27% cpu; 17% machine; 0.352 Gbps;  9% disk IO; 0.8 GB / 15.0 GB RAM  )\n  10.24.5.75:4653        ( 24% cpu; 17% machine; 0.352 Gbps;  2% disk IO; 0.7 GB / 15.0 GB RAM  )\n</code></pre>\n<pre><code class=\"lang-auto\">foundat+  92880   8697 42 Oct06 ?        32-21:13:00 /usr/sbin/fdbserver --cluster_file /etc/foundationdb/memory.cluster --datadir /mnt/fdb/4606 --knob_max_shard_bytes 100000000 --listen_address public --logdir /mnt/logs/fdb --memory 22GiB --public_address auto:4606 --storage_memory 14GiB\n</code></pre>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2019-12-21T21:43:05.581Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 92,
        "reads": 35,
        "readers_count": 34,
        "score": 462.0,
        "yours": false,
        "topic_id": 1855,
        "topic_slug": "processes-oom-fdbmonitor-doesnt-restart",
        "display_username": "matthew zeier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 26,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/processes-oom-fdbmonitor-doesnt-restart/1855/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 5889,
        "name": "matthew zeier",
        "username": "mrz",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png",
        "created_at": "2019-12-22T23:57:30.066Z",
        "cooked": "<p>Caught one today and was able to grab some <code>strace</code> output. Process 4653 fell out of the cluster. It also stopped logging back in November (related to <a href=\"https://forums.foundationdb.org/t/processes-stop-logging-but-appear-to-be-doing-work/1854\">this</a>). Nothing of note in <code>syslog</code>.</p>\n<p>Process is defined as follows:</p>\n<pre><code class=\"lang-auto\"># Process port 4653\n[fdbserver.4653]\ncommand = /usr/bin/numactl -m 1 -N 1 /usr/sbin/fdbserver\ncluster_file = /etc/foundationdb/memory3.cluster\nclass = transaction\nstorage_memory = 3GiB\n</code></pre>\n<p>Process exists in the process table:</p>\n<pre><code class=\"lang-auto\">ubuntu@redacted-2a-db8-i-01a19620cccdd9f16:~$ ps -eaf | grep 4653\nfoundat+   2136   2054 35 Aug13 ?        46-03:18:08 /usr/sbin/fdbserver --class transaction --cluster_file /etc/foundationdb/memory3.cluster --datadir /mnt/fdb/4653 --knob_max_shard_bytes 100000000 --listen_address public --logdir /mnt/logs/fdb --public_address auto:4653 --storage_memory 3GiB\n</code></pre>\n<p>Process does not exist in the cluster:</p>\n<pre><code class=\"lang-auto\">ubuntu@redacted-2a-db8-i-01a19620cccdd9f16:/mnt/logs/fdb$ fdbcli -C /etc/foundationdb/memory3.cluster --exec 'status details' | grep 10.31.0.87\n  10.31.0.87:4603        ( 33% cpu; 24% machine; 0.591 Gbps;  2% disk IO;13.2 GB / 41.0 GB RAM  )\n  10.31.0.87:4607        ( 23% cpu; 24% machine; 0.591 Gbps;  2% disk IO;13.2 GB / 41.0 GB RAM  )\n  10.31.0.87:4611        ( 22% cpu; 24% machine; 0.591 Gbps;  2% disk IO;13.0 GB / 41.0 GB RAM  )\n  10.31.0.87:4615        ( 21% cpu; 24% machine; 0.591 Gbps;  1% disk IO;13.2 GB / 41.0 GB RAM  )\n  10.31.0.87:4657        ( 28% cpu; 24% machine; 0.591 Gbps;  1% disk IO; 1.4 GB / 41.0 GB RAM  )\n</code></pre>\n<p><code>strace</code> of seemingly dead process:</p>\n<pre><code class=\"lang-auto\">ubuntu@redacted-2a-db8-i-01a19620cccdd9f16:/mnt/logs/fdb$ sudo strace -p 2136\nstrace: Process 2136 attached\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)\n--- SIGPROF {si_signo=SIGPROF, si_code=SI_TKILL, si_pid=2136, si_uid=112} ---\nrt_sigreturn({mask=[]})                 = -1 EINTR (Interrupted system call)\nfutex(0x7ffde91d9188, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 0, NULL, 0xffffffff^Cstrace: Process 2136 detached\n &lt;detached ...&gt;\n</code></pre>\n<p>Killing the process returns it to normal:</p>\n<pre><code class=\"lang-auto\">ubuntu@redacted-2a-db8-i-01a19620cccdd9f16:~$ /opt/wavefront/repo/tools/killFdbProcesses.sh 4653\n\nConsidering processes: 2136\n&lt;---------2136----------\nDONE.\n\nubuntu@redacted-2a-db8-i-01a19620cccdd9f16:~$ grep 4653 /var/log/syslog\nDec 22 23:56:05 localhost fdbmonitor[2054]: LogGroup=\"default\" Process=\"fdbserver.4653\": Process 2136 terminated by signal 15, restarting in 0 seconds\nDec 22 23:56:05 localhost fdbmonitor[2054]: LogGroup=\"default\" Process=\"fdbserver.4653\": Launching /usr/bin/numactl (129018) for fdbserver.4653\nDec 22 23:56:05 localhost fdbmonitor[2054]: LogGroup=\"default\" Process=\"fdbserver.4653\": FDBD joined cluster.\n\nubuntu@redacted-2a-db8-i-01a19620cccdd9f16:~$ fdbcli -C /etc/foundationdb/memory3.cluster --exec 'status details' | grep 10.31.0.87\n  10.31.0.87:4603        ( 24% cpu; 24% machine; 0.675 Gbps;  3% disk IO;13.2 GB / 35.5 GB RAM  )\n  10.31.0.87:4607        ( 22% cpu; 24% machine; 0.675 Gbps;  2% disk IO;13.2 GB / 35.5 GB RAM  )\n  10.31.0.87:4611        ( 22% cpu; 24% machine; 0.675 Gbps;  3% disk IO;13.0 GB / 35.5 GB RAM  )\n  10.31.0.87:4615        ( 22% cpu; 24% machine; 0.675 Gbps;  2% disk IO;13.2 GB / 35.5 GB RAM  )\n  10.31.0.87:4653        (  0% cpu; 24% machine; 0.675 Gbps;  3% disk IO; 0.2 GB / 35.5 GB RAM  )\n  10.31.0.87:4657        ( 29% cpu; 24% machine; 0.675 Gbps;  2% disk IO; 1.4 GB / 35.5 GB RAM  )\n</code></pre>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2019-12-22T23:57:30.066Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 34,
        "readers_count": 33,
        "score": 11.8,
        "yours": false,
        "topic_id": 1855,
        "topic_slug": "processes-oom-fdbmonitor-doesnt-restart",
        "display_username": "matthew zeier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/processes-stop-logging-but-appear-to-be-doing-work/1854",
            "internal": true,
            "reflection": false,
            "title": "Processes stop logging but appear to be doing work?",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 26,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/processes-oom-fdbmonitor-doesnt-restart/1855/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5890,
        "name": "matthew zeier",
        "username": "mrz",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png",
        "created_at": "2019-12-23T00:48:48.718Z",
        "cooked": "<p>FWIW, we also see about \u201csharp\u201d increase in the process\u2019s memory foot print. This is a 2MB increase but then it just stops working.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5.png\" data-download-href=\"/uploads/short-url/dZlFHTi3H32NxYT4X8IWJhokBdX.png?dl=1\" title=\"2a-db8-mem\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5_2_690x431.png\" alt=\"2a-db8-mem\" data-base62-sha1=\"dZlFHTi3H32NxYT4X8IWJhokBdX\" width=\"690\" height=\"431\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5_2_690x431.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5_2_1035x646.png 1.5x, https://global.discourse-cdn.com/foundationdb/original/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">2a-db8-mem</span><span class=\"informations\">1321\u00d7827 176 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2019-12-23T03:08:07.692Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 31,
        "readers_count": 30,
        "score": 11.2,
        "yours": false,
        "topic_id": 1855,
        "topic_slug": "processes-oom-fdbmonitor-doesnt-restart",
        "display_username": "matthew zeier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5.png",
            "internal": false,
            "reflection": false,
            "title": "620b9ce97e8db97be5394c3b0f6ca70fdb49f3f5.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 26,
          "username": "mrz",
          "name": "matthew zeier",
          "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 26,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/processes-oom-fdbmonitor-doesnt-restart/1855/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5891,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-12-23T16:31:20.926Z",
        "cooked": "<p>I think what has happened here is that your trace logging thread has failed, which can result in memory climbing as trace events are buffered up. Then when the process runs out of memory, it attempts to shut down and blocks on a call to flush the trace file. This of course can never complete because the trace thread is dead.</p>\n<p>I think there\u2019s probably a few things we should do differently here to improve the situation:</p>\n<ol>\n<li>Don\u2019t block a shutdown because of the inability to flush the trace log.</li>\n<li>If we are going to allow a process to continue running after its trace thread has died, we should not run out of memory. Or, if we want the process to die in this case, we shouldn\u2019t rely on running out of memory to do it.</li>\n<li>Provide better insight into why the trace thread has failed and more visibility into the fact that it has happened (e.g. by logging to stderr and/or reporting it through the status mechanism).</li>\n</ol>\n<p>As to how to figure out what\u2019s happening with your trace thread in this particular case, I\u2019ll have that discussion on your other post.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2019-12-23T16:31:20.926Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 12,
        "reads": 29,
        "readers_count": 28,
        "score": 65.8,
        "yours": false,
        "topic_id": 1855,
        "topic_slug": "processes-oom-fdbmonitor-doesnt-restart",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/processes-oom-fdbmonitor-doesnt-restart/1855/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 5913,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-01-02T16:48:42.243Z",
        "cooked": "<p>I created an issue for the things I mentioned in my comment: <a href=\"https://github.com/apple/foundationdb/issues/2506\">https://github.com/apple/foundationdb/issues/2506</a>.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 5,
        "updated_at": "2020-01-02T16:48:42.243Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 20,
        "readers_count": 19,
        "score": 4.0,
        "yours": false,
        "topic_id": 1855,
        "topic_slug": "processes-oom-fdbmonitor-doesnt-restart",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/2506",
            "internal": false,
            "reflection": false,
            "title": "Improved trace thread error management \u00b7 Issue #2506 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 14
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/processes-oom-fdbmonitor-doesnt-restart/1855/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      5888,
      5889,
      5890,
      5891,
      5913
    ]
  },
  "timeline_lookup": [
    [
      1,
      2131
    ],
    [
      2,
      2130
    ],
    [
      4,
      2129
    ],
    [
      5,
      2119
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Processes OOM, fdbmonitor doesn&rsquo;t restart",
  "id": 1855,
  "title": "Processes OOM, fdbmonitor doesn't restart",
  "posts_count": 5,
  "created_at": "2019-12-21T21:43:05.482Z",
  "views": 2784,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2020-01-02T16:48:42.243Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "processes-oom-fdbmonitor-doesnt-restart",
  "category_id": 7,
  "word_count": 1425,
  "deleted_at": null,
  "user_id": 26,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1855",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 5,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Processes stop logging but appear to be doing work?",
      "id": 1854,
      "title": "Processes stop logging but appear to be doing work?",
      "slug": "processes-stop-logging-but-appear-to-be-doing-work",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/c7a685b7fb79ca69a79b7733b5eb68e30e3dbb63_2_1024x640.png",
      "created_at": "2019-12-21T20:21:08.212Z",
      "last_posted_at": "2019-12-24T02:45:12.372Z",
      "bumped": true,
      "bumped_at": "2019-12-24T02:45:12.372Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 807,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 26,
            "username": "mrz",
            "name": "matthew zeier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "FDB out of memory",
      "id": 3460,
      "title": "FDB out of memory",
      "slug": "fdb-out-of-memory",
      "posts_count": 6,
      "reply_count": 2,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2022-07-20T03:12:58.094Z",
      "last_posted_at": "2022-07-22T12:33:26.077Z",
      "bumped": true,
      "bumped_at": "2022-07-22T12:54:40.104Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 962,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1126,
            "username": "CodingSuen",
            "name": "CodingSuen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/codingsuen/{size}/1367_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 164,
            "username": "Imperatorx",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/d2c977/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Foundationdb 6.2 - fdbserver going out of memory",
      "id": 2080,
      "title": "Foundationdb 6.2 - fdbserver going out of memory",
      "slug": "foundationdb-6-2-fdbserver-going-out-of-memory",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2020-04-20T14:55:39.274Z",
      "last_posted_at": "2020-04-23T04:34:49.858Z",
      "bumped": true,
      "bumped_at": "2020-04-23T04:34:49.858Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1037,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 714,
            "username": "tuk",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b5ac83/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Segmentation fault error and broken cluster",
      "id": 483,
      "title": "Segmentation fault error and broken cluster",
      "slug": "segmentation-fault-error-and-broken-cluster",
      "posts_count": 17,
      "reply_count": 12,
      "highest_post_number": 17,
      "image_url": null,
      "created_at": "2018-05-31T15:34:28.123Z",
      "last_posted_at": "2018-06-11T17:31:13.656Z",
      "bumped": true,
      "bumped_at": "2018-06-11T17:31:13.656Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 4331,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 211,
            "username": "brk0v",
            "name": "Viacheslav Biriukov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brk0v/{size}/173_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Continuous out-of-memory crashes in small cluster with modest read-only workload",
      "id": 864,
      "title": "Continuous out-of-memory crashes in small cluster with modest read-only workload",
      "slug": "continuous-out-of-memory-crashes-in-small-cluster-with-modest-read-only-workload",
      "posts_count": 10,
      "reply_count": 6,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2018-11-12T18:15:45.539Z",
      "last_posted_at": "2018-11-13T22:03:20.420Z",
      "bumped": true,
      "bumped_at": "2018-11-13T22:03:20.420Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1256,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 424,
            "username": "jwb",
            "name": "Jeff Baker",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jwb/{size}/413_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 26,
        "username": "mrz",
        "name": "matthew zeier",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 26,
      "username": "mrz",
      "name": "matthew zeier",
      "avatar_template": "/user_avatar/forums.foundationdb.org/mrz/{size}/26_2.png"
    },
    "last_poster": {
      "id": 12,
      "username": "ajbeamon",
      "name": "A.J. Beamon",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/issues/2506",
        "title": "Improved trace thread error management \u00b7 Issue #2506 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 14,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/processes-stop-logging-but-appear-to-be-doing-work/1854",
        "title": "Processes stop logging but appear to be doing work?",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 26,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}