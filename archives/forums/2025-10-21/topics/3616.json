{
  "post_stream": {
    "posts": [
      {
        "id": 11895,
        "name": "Dan Meyers",
        "username": "danm",
        "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png",
        "created_at": "2022-10-21T12:03:46.017Z",
        "cooked": "<p>We\u2019ve got a single container running on K8s that is reading messages from Kafka and pushing then into FoundationDB running on EC2 instances (not via the K8s operator, as that currently results in limitations we\u2019re not OK with).</p>\n<p>Our cluster is not <em>huge</em>, but we\u2019re running in <code>three_data_hall</code> mode with 9 coordinators, 6 \u2018stateless\u2019 class nodes, 9 available log class nodes (4 in use, 5 standby), and 6 storage processes across 3 nodes. Each storage and log class node has 8GB RAM, and gp3 disks (one disk per process on the storage nodes) configured for a max of 6000 iops and 150MB/sec throughput.</p>\n<p>With all of that, our single container is able to completely kill the FDB cluster. It reads a batch of messages from Kafka, then fans out into parallel threads to write them to FDB. This works fine for a short amount of time (15 minutes or so), but we see the durability lag, data lag, log queue size etc all gradually increase. The log queue size in particular seems to max out at 1.5GB. It\u2019ll run like that for a short while, then the cluster just becomes unavailable. The app gets no response, <code>fdbcli</code> on a server reports that \u201cthe configuration could not be read\u201d, etc. The only way to bring it back seems to be to reboot the log and storage nodes. When they come back up the cluster goes into recovery/repartitioning, and eventually ends up back in a healthy state. It doesn\u2019t <em>seem</em> to have lost any of the writes that the app actually saw it accept.</p>\n<p>The thing is, I thought this was the purpose of ratekeeper? I thought when it detected queues/lag growing like this it was supposed to rate limit incoming requests to prevent the cluster being overloaded. Why is that not happening?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-21T12:03:46.017Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 177,
        "reads": 46,
        "readers_count": 45,
        "score": 909.2,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Dan Meyers",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1142,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 11903,
        "name": "Sam Pullara",
        "username": "spullara",
        "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
        "created_at": "2022-10-25T18:13:03.649Z",
        "cooked": "<p>Are you doing blind writes (i.e. your transactions only have sets) without reading anything? If you don\u2019t read, it won\u2019t even use ratekeeper.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-25T18:13:03.649Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 44,
        "readers_count": 43,
        "score": 8.8,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Sam Pullara",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 156,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11904,
        "name": "Dan Meyers",
        "username": "danm",
        "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png",
        "created_at": "2022-10-25T20:25:38.023Z",
        "cooked": "<p>I didn\u2019t realise ratekeeper only applied to gets. Why is that? It rate limits by slowing down the transaction commit doesn\u2019t it, so surely that\u2019s just as valid with sets as with gets?</p>\n<p>In answer to the question though, we are doing gets yes. We\u2019re checking for the existence of the key before we try to write it. This is really just a belt-and-braces thing, as all the messages are keyed on UUID so should be unique except in the cases where we\u2019ve purposefully duplicated them from one topic to another, and in that case they\u2019re identical so it doesn\u2019t matter if we write the same message multiple times. And that\u2019s even before taking into account FDB\u2019s own transaction conflict detection.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-25T20:25:38.023Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 43,
        "readers_count": 42,
        "score": 18.6,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Dan Meyers",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1142,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11905,
        "name": "",
        "username": "andrew.noyes",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "created_at": "2022-10-25T20:54:35.164Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"danm\" data-post=\"3\" data-topic=\"3616\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/danm/48/1393_2.png\" class=\"avatar\"> danm:</div>\n<blockquote>\n<p>I didn\u2019t realise ratekeeper only applied to gets.</p>\n</blockquote>\n</aside>\n<p>Ratekeeper is applied to GetReadVersionRequest\u2019s, which happen once per transaction (even if it\u2019s a blind write). The only way to avoid ratekeeper is to call set_read_version on your transaction. To me it sounds like ratekeeper isn\u2019t quite doing what it\u2019s intended to do here</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-25T20:54:35.164Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 3,
        "reads": 43,
        "readers_count": 42,
        "score": 28.6,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 14,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11906,
        "name": "Sam Pullara",
        "username": "spullara",
        "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
        "created_at": "2022-10-25T21:32:17.115Z",
        "cooked": "<p>I stand corrected though I\u2019m quite sure we had to insert gets at Wavefront in order to stop our blind writes from knocking over FDB. Maybe there is something else at play here. (Edit: now that I think about it we may have been setting set_read_version)</p>\n<p>Do you know what the bottleneck is? Are you hitting the maximum IIOPs on your disks?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-25T22:32:38.713Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 12,
        "reads": 42,
        "readers_count": 41,
        "score": 73.4,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Sam Pullara",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 14,
          "username": "andrew.noyes",
          "name": "",
          "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 156,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11907,
        "name": "Dan Meyers",
        "username": "danm",
        "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png",
        "created_at": "2022-10-25T23:05:24.438Z",
        "cooked": "<p>We\u2019re not setting <code>set_read_version</code>. I\u2019ve done some more digging and testing, and I think I\u2019m getting somewhere:</p>\n<p>We\u2019re deploying our cluster across multiple EC2 instances in AWS, with EBS volumes as the data store. Apparently, anything below an 8xlarge(!) across, the <code>c</code>, <code>m</code>, and <code>t</code> (which doesn\u2019t go that high, so it\u2019s just all of them) series (and possibly others, but those are the ones I looked at) have a 30 minute \u2018burst limit\u2019 on interaction with their volumes. They can only actually achieve the max data rates the volume supports (if it\u2019s scaled high) and the instance type/size claims for a max of 30 mins in a 24 hour period, for iops and bytes separately, after which they\u2019re rate limited to a much lower baseline.</p>\n<p>So problem one was that we were exceeding that baseline, draining our EBS I/O \u2018balance\u2019, and then getting heavily rate limited. We weren\u2019t exceeding the max I/O on the disks while we were in the burst period, but once rate limited we <em>were</em>. When that happened, we saw the log instances were flatlining at 1.5GB log queue length (but not dying), and then eventually the storage instances were disappearing from the cluster. At no point did I see any message indicating ratekeeper had kicked in.</p>\n<p>Problem two was that I had allocated storage processes to instances at a capacity of 2 processes per 8GB node. So, slightly under the 4GB per process that is recommended, once you account for some for the OS etc. I believe there was some issue occurring with memory exhaustion on the instances, not just with the FDB processes, as when the storage instances dropped out of the cluster I was unable to log into them via any standard AWS methods, and I had to terminate them and allow them to be restarted by the ASGs we\u2019ve created. Once I did that, and the new instances mounted the existing volumes, the cluster recovered (assuming I had stopped our application that was sending all the data).</p>\n<p>So I\u2019ve just done another test. Scaled the storage instances from 8GB to 16GB, and turned on our import application again. Waited a bit. I\u2019m now seeing our EBS volumes being rate limited, but the storage processes haven\u2019t dropped out the cluster. The log queue length has dropped down to ~1GB and stabilised there, and the durability lag is ~5mins. Obviously none of that is <em>ideal</em>, but the important thing is the cluster hasn\u2019t completely fallen over, so when the load stops it should recover without manual intervention. I\u2019m also seeing a message in <code>fdbcli</code>:</p>\n<pre><code class=\"lang-auto\">Performance limited by process: Storage server performance (storage queue).\n  Most limiting process: 10.1.246.97:4500\n</code></pre>\n<p>which I think means <code>ratekeeper</code> is now doing its thing correctly?</p>\n<p>So if my assumptions are correct, I just need to adjust our cluster topology a bit. Rather than trying to fit 2 storage processes on a single 8GB instance, I should be OK fitting 3 on a 16GB instance, and then deploying fewer instances. That\u2019ll also mean I probably want to reduce the volume size that each process gets, to keep the same amount of overall storage. I can do that, no worries.</p>\n<p>This is a very abnormal application that we\u2019re using for testing anyway. We wouldn\u2019t normally expect the cluster to be loaded so highly and for so long, but if it <em>does</em> happen, due to a DoS or similar, we want to be sure it won\u2019t completely collapse <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-26T15:58:02.796Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 42,
        "readers_count": 41,
        "score": 58.4,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Dan Meyers",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1142,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11939,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2022-10-27T22:18:55.325Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"spullara\" data-post=\"5\" data-topic=\"3616\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/spullara/48/125_2.png\" class=\"avatar\"> spullara:</div>\n<blockquote>\n<p>I\u2019m quite sure we had to insert gets at Wavefront in order to stop our blind writes from knocking over FDB.</p>\n</blockquote>\n</aside>\n<p>There\u2019s still a meaningful difference between a get and a GRV-only, because inserting a get means that the read version has to be readable on a storage server before the client will submit the write.  It essentially makes clients slow down writes as storage gets behind in versions, even if ratekeeper isn\u2019t doing that job as well as it needs to be.</p>\n<p>IIRC the workloads for FDB\u2019s write throughput benchmarking had a read in each write transaction because it was a more realistic representation of effective write throughput for the cluster.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2022-10-27T22:18:55.325Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 31,
        "readers_count": 30,
        "score": 6.2,
        "yours": false,
        "topic_id": 3616,
        "topic_slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-does-ratekeeper-actually-work-and-can-i-tune-it/3616/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      11895,
      11903,
      11904,
      11905,
      11906,
      11907,
      11939
    ]
  },
  "timeline_lookup": [
    [
      1,
      1096
    ],
    [
      2,
      1092
    ],
    [
      7,
      1090
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How does Ratekeeper actually _work_, and can I tune it?",
  "id": 3616,
  "title": "How does Ratekeeper actually _work_, and can I tune it?",
  "posts_count": 7,
  "created_at": "2022-10-21T12:03:45.959Z",
  "views": 612,
  "reply_count": 3,
  "like_count": 2,
  "last_posted_at": "2022-10-27T22:18:55.325Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-does-ratekeeper-actually-work-and-can-i-tune-it",
  "category_id": 17,
  "word_count": 1320,
  "deleted_at": null,
  "user_id": 1142,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3616",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 7,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Backpressure against data pipelines",
      "id": 2003,
      "title": "Backpressure against data pipelines",
      "slug": "backpressure-against-data-pipelines",
      "posts_count": 9,
      "reply_count": 3,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2020-03-04T21:02:28.384Z",
      "last_posted_at": "2020-03-09T15:19:54.676Z",
      "bumped": true,
      "bumped_at": "2020-03-09T15:19:54.676Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 1548,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 735,
            "username": "dmitrig01",
            "name": "Dmitri G",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dmitrig01/{size}/791_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 622,
            "username": "rcbranch",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/82dd89/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Ratekeeper limits dropping substantially with bulk writes",
      "id": 4336,
      "title": "Ratekeeper limits dropping substantially with bulk writes",
      "slug": "ratekeeper-limits-dropping-substantially-with-bulk-writes",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/2X/e/e9b1b49bd6e94be9e1088a68fad5e65d72c11d56.png",
      "created_at": "2024-01-25T19:29:12.139Z",
      "last_posted_at": "2024-03-12T08:04:23.230Z",
      "bumped": true,
      "bumped_at": "2024-03-12T08:04:23.230Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 290,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1376,
            "username": "patob",
            "name": "Patricio Bonsembiante",
            "avatar_template": "/user_avatar/forums.foundationdb.org/patob/{size}/1728_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "How to troubleshoot throughput performance degrade?",
      "id": 1436,
      "title": "How to troubleshoot throughput performance degrade?",
      "slug": "how-to-troubleshoot-throughput-performance-degrade",
      "posts_count": 36,
      "reply_count": 24,
      "highest_post_number": 36,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/9c9854ce87e53265f75154876f180812ee93f8ec.png",
      "created_at": "2019-06-10T10:09:55.810Z",
      "last_posted_at": "2019-06-20T21:36:30.209Z",
      "bumped": true,
      "bumped_at": "2019-06-20T21:36:30.209Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 4377,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 597,
            "username": "rayjcwu",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rayjcwu/{size}/602_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 592,
            "username": "nfeinberg",
            "name": "Nicholas Feinberg",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/ba8739/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Knobs/strategies to get around storage server write queue size error?",
      "id": 996,
      "title": "Knobs/strategies to get around storage server write queue size error?",
      "slug": "knobs-strategies-to-get-around-storage-server-write-queue-size-error",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-01-04T05:49:33.775Z",
      "last_posted_at": "2019-01-05T07:32:45.225Z",
      "bumped": true,
      "bumped_at": "2019-01-05T07:32:45.225Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 952,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationdDB Cluster Performance Issues",
      "id": 2105,
      "title": "FoundationdDB Cluster Performance Issues",
      "slug": "foundationddb-cluster-performance-issues",
      "posts_count": 12,
      "reply_count": 6,
      "highest_post_number": 12,
      "image_url": null,
      "created_at": "2020-05-06T16:01:40.124Z",
      "last_posted_at": "2020-10-21T15:20:11.071Z",
      "bumped": true,
      "bumped_at": "2020-10-21T15:20:11.071Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance",
        "operator"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1317,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 744,
            "username": "v-pap",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/v-pap/{size}/936_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 765,
            "username": "rbtcollins",
            "name": "Robert Collins",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rbtcollins/{size}/941_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 3,
            "username": "john_brownlee",
            "name": "John Brownlee",
            "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1142,
        "username": "danm",
        "name": "Dan Meyers",
        "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 156,
        "username": "spullara",
        "name": "Sam Pullara",
        "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 14,
        "username": "andrew.noyes",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 1142,
      "username": "danm",
      "name": "Dan Meyers",
      "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png"
    },
    "last_poster": {
      "id": 13,
      "username": "alexmiller",
      "name": "Alex Miller",
      "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
    }
  },
  "bookmarks": []
}