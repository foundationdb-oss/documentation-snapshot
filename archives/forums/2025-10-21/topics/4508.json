{
  "post_stream": {
    "posts": [
      {
        "id": 14136,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2024-06-11T19:24:23.774Z",
        "cooked": "<p>I\u2019m trying to find out why fdbserver exits immediately with \u201cFatal Error: File could not be written\u201d. It doesn\u2019t tell me where it tried to write, it gets started by fdbserver so stracing it isn\u2019t obvious, and perusal of the fine source code didn\u2019t get me very far.</p>\n<p>I checked and the following locations are definitely readable and writable by the foundationdb user:</p>\n<ul>\n<li>fdb.cluster and the directory it\u2019s in</li>\n<li>datadir</li>\n<li>logdir</li>\n</ul>\n<p>According to the documentation, these should be the only places where fdbserver tries to write.</p>\n<p>Any hints?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2024-06-11T19:24:23.774Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 20,
        "reads": 22,
        "readers_count": 21,
        "score": 104.4,
        "yours": false,
        "topic_id": 4508,
        "topic_slug": "where-might-fdbserver-want-to-write",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/where-might-fdbserver-want-to-write/4508/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 14158,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2024-06-14T12:27:05.552Z",
        "cooked": "<p>Replying to myself, because I think this might be useful for others in the future, and it took me a while to find the problem.</p>\n<p>\u201cFatal Error: File could not be written\u201d was caused by a directory two levels up from datadir not having the \u2018x\u2019 permission for \u2018others\u2019. This is why fdbserver wasn\u2019t able to write: it could not access its data directory.</p>\n<p>I do believe that the log message could be improved by telling users <em>what</em> could not be written, but the fault here is entirely mine.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2024-06-14T12:27:05.552Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 17,
        "readers_count": 16,
        "score": 33.4,
        "yours": false,
        "topic_id": 4508,
        "topic_slug": "where-might-fdbserver-want-to-write",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/where-might-fdbserver-want-to-write/4508/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 14178,
        "name": "Tam",
        "username": "tam",
        "avatar_template": "/user_avatar/forums.foundationdb.org/tam/{size}/1806_2.png",
        "created_at": "2024-06-22T01:38:37.476Z",
        "cooked": "<p>Hey there,<br>\nWhen troubleshooting the error \u201cFatal Error: File could not be written\u201d in fdbserver, there are a few additional places and steps you might want to check beyond the basic documentation. Here are some hints and possible steps to follow:</p>\n<ol>\n<li>Check Configuration Paths: Ensure datadir, logdir, and fdb.cluster paths in foundationdb.conf are correct.</li>\n<li>Verify Permissions: Confirm the foundationdb user has read/write permissions for these directories and files.</li>\n<li>Ensure Disk Space: Make sure there\u2019s enough disk space available.</li>\n<li>Check Quotas: Verify no filesystem quotas are restricting writing.</li>\n<li>SELinux/AppArmor: Ensure these security measures aren\u2019t blocking writes.</li>\n<li>Environment Variables: Make sure no environment variables override the paths.</li>\n<li>Use strace: Trace file operations to find where the failure occurs.</li>\n<li>Review Logs: Check FoundationDB logs for additional errors.</li>\n<li>Check Filesystem Health: Use filesystem tools to diagnose issues.</li>\n<li>Run as Root: Temporarily run fdbserver as root to identify permission issues.</li>\n</ol>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2024-06-22T01:38:37.476Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 3.2,
        "yours": false,
        "topic_id": 4508,
        "topic_slug": "where-might-fdbserver-want-to-write",
        "display_username": "Tam",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1434,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/where-might-fdbserver-want-to-write/4508/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      14136,
      14158,
      14178
    ]
  },
  "timeline_lookup": [
    [
      1,
      497
    ],
    [
      2,
      494
    ],
    [
      3,
      487
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Where might fdbserver want to write?",
  "id": 4508,
  "title": "Where might fdbserver want to write?",
  "posts_count": 3,
  "created_at": "2024-06-11T19:24:23.707Z",
  "views": 162,
  "reply_count": 0,
  "like_count": 2,
  "last_posted_at": "2024-06-22T01:38:37.476Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "where-might-fdbserver-want-to-write",
  "category_id": 7,
  "word_count": 345,
  "deleted_at": null,
  "user_id": 307,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4508",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "[RESOLVED?] Fdbbackup &lsquo;Platform error&rsquo; on &lsquo;file_backup_write_range&rsquo;",
      "id": 412,
      "title": "[RESOLVED?] Fdbbackup 'Platform error' on 'file_backup_write_range'",
      "slug": "resolved-fdbbackup-platform-error-on-file-backup-write-range",
      "posts_count": 9,
      "reply_count": 6,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2018-05-14T13:43:20.133Z",
      "last_posted_at": "2018-05-17T00:24:36.294Z",
      "bumped": true,
      "bumped_at": "2018-05-17T00:24:36.294Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2465,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 187,
            "username": "hiroshi",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Any known issues with choosing a custom datadir in the config file?",
      "id": 1606,
      "title": "Any known issues with choosing a custom datadir in the config file?",
      "slug": "any-known-issues-with-choosing-a-custom-datadir-in-the-config-file",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-09-03T21:05:50.928Z",
      "last_posted_at": "2019-09-03T21:39:18.693Z",
      "bumped": true,
      "bumped_at": "2019-09-03T21:39:18.693Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 749,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 557,
            "username": "zstokes",
            "name": "Zach Stokes",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/z/b3f665/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Installing on Windows on a different disk keeps the data and log file on C:",
      "id": 497,
      "title": "Installing on Windows on a different disk keeps the data and log file on C:",
      "slug": "installing-on-windows-on-a-different-disk-keeps-the-data-and-log-file-on-c",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2018-06-07T15:31:49.662Z",
      "last_posted_at": "2018-06-07T15:31:49.790Z",
      "bumped": true,
      "bumped_at": "2018-06-07T15:31:49.790Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 784,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Error: The database is unavailable",
      "id": 1928,
      "title": "Error: The database is unavailable",
      "slug": "error-the-database-is-unavailable",
      "posts_count": 16,
      "reply_count": 12,
      "highest_post_number": 16,
      "image_url": null,
      "created_at": "2020-02-05T14:11:38.372Z",
      "last_posted_at": "2021-09-30T16:10:23.493Z",
      "bumped": true,
      "bumped_at": "2021-09-30T16:10:23.493Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 4282,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 718,
            "username": "Cliicy",
            "name": "Dragon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/47e85d/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 990,
            "username": "baiwfg2",
            "name": "Lewis Chan",
            "avatar_template": "/user_avatar/forums.foundationdb.org/baiwfg2/{size}/1173_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Data directory write privilege on different storage",
      "id": 2733,
      "title": "Data directory write privilege on different storage",
      "slug": "data-directory-write-privilege-on-different-storage",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2021-06-07T13:14:18.512Z",
      "last_posted_at": "2021-06-07T13:14:18.576Z",
      "bumped": true,
      "bumped_at": "2021-06-07T13:14:18.576Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 387,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 890,
            "username": "tangerine",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/tangerine/{size}/1084_2.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 307,
        "username": "jwr",
        "name": "Jan Rychter",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1434,
        "username": "tam",
        "name": "Tam",
        "avatar_template": "/user_avatar/forums.foundationdb.org/tam/{size}/1806_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      }
    ],
    "created_by": {
      "id": 307,
      "username": "jwr",
      "name": "Jan Rychter",
      "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png"
    },
    "last_poster": {
      "id": 1434,
      "username": "tam",
      "name": "Tam",
      "avatar_template": "/user_avatar/forums.foundationdb.org/tam/{size}/1806_2.png"
    }
  },
  "bookmarks": []
}