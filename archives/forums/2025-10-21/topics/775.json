{
  "post_stream": {
    "posts": [
      {
        "id": 2347,
        "name": "Ricky Saltzer",
        "username": "ricky.saltzer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
        "created_at": "2018-10-16T14:58:19.714Z",
        "cooked": "<p>Hey there -</p>\n<p>I\u2019ve currently got a continuous streaming pipeline writing to our FDB cluster, and after about 12 hours or so, I started to see some issues pop up.</p>\n<p>Our workload is a pretty consistent 3000-6000Hz write rate, and 300-500Hz read rate. The vast majority of the operations I\u2019m performing are <strong>Atomic Mutations</strong> (<code>MIN, MAX, ADD, APPEND_IF_FITS</code>). With one that performs a read, merge, and write since the data is a custom <code>Array[Byte]</code> sequence</p>\n<p>I\u2019m confident that our cluster topology is suboptimal, as we\u2019re still learning the ins and outs before rolling out a production.</p>\n<p>The problem I\u2019m seeing as of this morning is a <strong>very</strong> high roughness value (<code>1453.33</code>) which according to the Machine Stats documentation, is an indicator of latency, and storage queue problems.</p>\n<p>Each time I run a \u201cstatus\u201d it takes a while to come back, with some servers not included. I believe this is due to the fact we naively put coordinator processes on storage servers <img src=\"https://emoji.discourse-cdn.com/twitter/blush.png?v=6\" title=\":blush:\" class=\"emoji\" alt=\":blush:\">. That being said, each time I look at the status, there will be two or three (out of 16) storage servers that have their disk IO pegged at 99%. It looks like the same storage servers each time. However, their Gbps rate is the same as the other nodes which have 1-5% disk IO.</p>\n<p>Is this an indication that my workload is hotspotting?</p>\n<p>Our key is made up as follows (Tuple)</p>\n<pre><code>(string_literal(aggregations), string_literal(metrics), md5(metric_name), reverse(timestamp), string(metric_name), int(agg_type))\n</code></pre>\n<p>I was hoping that the third element <code>md5(metric_name)</code> would afford us some even distribution. The only thing I can think of is that we have specific metrics that are very hot compared to others.</p>\n<p>Any advice you guys might have would be super valuable to us.</p>\n<p>Thanks in advance,<br>\nRicky<br>\nEpic Games</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2018-10-16T15:00:27.727Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 88,
        "reads": 48,
        "readers_count": 47,
        "score": 449.6,
        "yours": false,
        "topic_id": 775,
        "topic_slug": "trouble-understanding-roughness-hotspotting",
        "display_username": "Ricky Saltzer",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 369,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/trouble-understanding-roughness-hotspotting/775/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 2432,
        "name": "Ricky Saltzer",
        "username": "ricky.saltzer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
        "created_at": "2018-10-24T18:11:58.657Z",
        "cooked": "<p>To follow up on this, as it turns out, we were experiencing extremely poor performance using Amazon EBS volumes. We have since switched to using instances with hardware attached NVME drives and have seen a significant performance / stability improvement.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2018-10-24T18:11:58.657Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 41,
        "readers_count": 40,
        "score": 8.2,
        "yours": false,
        "topic_id": 775,
        "topic_slug": "trouble-understanding-roughness-hotspotting",
        "display_username": "Ricky Saltzer",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 369,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/trouble-understanding-roughness-hotspotting/775/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      2347,
      2432
    ]
  },
  "timeline_lookup": [
    [
      1,
      2562
    ],
    [
      2,
      2554
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Trouble Understanding Roughness / Hotspotting",
  "id": 775,
  "title": "Trouble Understanding Roughness / Hotspotting",
  "posts_count": 2,
  "created_at": "2018-10-16T14:58:19.634Z",
  "views": 593,
  "reply_count": 0,
  "like_count": 0,
  "last_posted_at": "2018-10-24T18:11:58.657Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "trouble-understanding-roughness-hotspotting",
  "category_id": 7,
  "word_count": 346,
  "deleted_at": null,
  "user_id": 369,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_775",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 2,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 1,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "How to troubleshoot throughput performance degrade?",
      "id": 1436,
      "title": "How to troubleshoot throughput performance degrade?",
      "slug": "how-to-troubleshoot-throughput-performance-degrade",
      "posts_count": 36,
      "reply_count": 24,
      "highest_post_number": 36,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/9c9854ce87e53265f75154876f180812ee93f8ec.png",
      "created_at": "2019-06-10T10:09:55.810Z",
      "last_posted_at": "2019-06-20T21:36:30.209Z",
      "bumped": true,
      "bumped_at": "2019-06-20T21:36:30.209Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 4377,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 597,
            "username": "rayjcwu",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rayjcwu/{size}/602_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 592,
            "username": "nfeinberg",
            "name": "Nicholas Feinberg",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/ba8739/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Scaling issues with FDB for write throughput",
      "id": 2327,
      "title": "Scaling issues with FDB for write throughput",
      "slug": "scaling-issues-with-fdb-for-write-throughput",
      "posts_count": 7,
      "reply_count": 3,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2020-09-03T04:48:25.889Z",
      "last_posted_at": "2020-09-14T23:02:57.196Z",
      "bumped": true,
      "bumped_at": "2020-09-14T23:02:57.196Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1866,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 757,
            "username": "dsubramaniam",
            "name": "DeepikaaSubramaniam",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/f17d59/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 769,
            "username": "ajames",
            "name": "Alwin",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Debugging abnormally high IO load",
      "id": 1707,
      "title": "Debugging abnormally high IO load",
      "slug": "debugging-abnormally-high-io-load",
      "posts_count": 6,
      "reply_count": 3,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2019-10-30T03:45:59.349Z",
      "last_posted_at": "2019-10-31T01:13:04.667Z",
      "bumped": true,
      "bumped_at": "2019-10-31T01:13:04.667Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1431,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 260,
            "username": "jared2501",
            "name": "Jared2501",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Production optimizations",
      "id": 601,
      "title": "Production optimizations",
      "slug": "production-optimizations",
      "posts_count": 21,
      "reply_count": 14,
      "highest_post_number": 21,
      "image_url": null,
      "created_at": "2018-07-30T21:18:56.894Z",
      "last_posted_at": "2018-08-15T04:47:23.743Z",
      "bumped": true,
      "bumped_at": "2018-08-15T04:47:23.743Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 6473,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Storage Server CPU bottleneck - Growing data lag",
      "id": 2234,
      "title": "Storage Server CPU bottleneck - Growing data lag",
      "slug": "storage-server-cpu-bottleneck-growing-data-lag",
      "posts_count": 23,
      "reply_count": 18,
      "highest_post_number": 23,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/e472648513de0e881bd62213804d5e43f9510ace_2_1023x568.png",
      "created_at": "2020-07-08T13:46:58.378Z",
      "last_posted_at": "2021-12-13T09:55:15.976Z",
      "bumped": true,
      "bumped_at": "2021-12-13T10:47:15.543Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3083,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 744,
            "username": "v-pap",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/v-pap/{size}/936_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 369,
        "username": "ricky.saltzer",
        "name": "Ricky Saltzer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 369,
      "username": "ricky.saltzer",
      "name": "Ricky Saltzer",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png"
    },
    "last_poster": {
      "id": 369,
      "username": "ricky.saltzer",
      "name": "Ricky Saltzer",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png"
    }
  },
  "bookmarks": []
}