{
  "post_stream": {
    "posts": [
      {
        "id": 6896,
        "name": "Hieu Nguyen",
        "username": "ntrhieu89",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "created_at": "2020-05-05T00:11:44.515Z",
        "cooked": "<p>We have three data centers that are physically separated from each other (denoted by <code>L</code>, <code>S</code>, and <code>R</code>). The round-trip network latency between the two datacenters, such as L -&gt; S, or R -&gt; S, is about 10 ms.</p>\n<p>We set up two FDB deployments (with FDB 6.2.15), with each deployment following 3 DCs - 2 regions deployment scheme defined in the FoundationDB architecture (link: <a href=\"https://apple.github.io/foundationdb/configuration.html#asymmetric-configurations\" rel=\"nofollow noopener\">https://apple.github.io/foundationdb/configuration.html#asymmetric-configurations</a>). In this deployment, DC1 is the primary DC, DC3 is the standby DC, and DC2 holds the transaction logs from DC1.</p>\n<ul>\n<li>Deployment 1:  Region 1 contains <code>DC1</code> and <code>DC2</code>. <code>DC1</code> is in datacenter <code>L</code> and <code>DC2</code> is in datacenter <code>S</code>. Region 2 contains <code>DC3</code> hosted in datacenter <code>R</code>. <strong>In this setup, <code>DC1</code> and <code>DC2</code> are at different datacenters that are geographically separated.</strong>\n</li>\n<li>Deployment 2: Region 1 contains <code>DC1</code> in datacenter <code>L</code> and DC2 is also in datacenter <code>L</code>, but in different availability zones.  The latency between two availability zones in the same datacenter is around 0.5 ms.  Region 2 contains <code>DC3</code> hosted in datacenter <code>S</code>. In this setup, <code>DC1</code> and <code>DC2</code> are located very close within the same datacenter and thus the latency (about 0.5 ms) is much smaller compared to the cross-datacenter latency of 10 ms.</li>\n</ul>\n<p>With each deployment, we set up two clients at <code>DC1</code> and <code>DC3</code>, each client executing transactions to the deployed FDB cluster.</p>\n<p>We experienced the latency (in milliseconds) reported by the clients (at both DCs) for <strong>read-only transactions</strong> as follows:</p>\n<p><strong>Deployment 1:</strong></p>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>Configure</th>\n<th></th>\n<th>DC1</th>\n<th></th>\n<th></th>\n<th>DC3</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>50th</td>\n<td>95th</td>\n<td>99th</td>\n<td>50th</td>\n<td>95th</td>\n<td>99th</td>\n</tr>\n<tr>\n<td><strong>Configuration 1: Primary DC is DC1 (the original configuration)</strong></td>\n<td>19</td>\n<td>25</td>\n<td>25</td>\n<td>4</td>\n<td>5</td>\n<td>9</td>\n</tr>\n<tr>\n<td><strong>Configuration 2: Primary DC is DC3 (after we perform DC switching to have DC3 to become the primary DC)</strong></td>\n<td>4</td>\n<td>8</td>\n<td>10</td>\n<td>5</td>\n<td>10</td>\n<td>10</td>\n</tr>\n</tbody>\n</table>\n</div><p><strong>Deployment 2:</strong></p>\n<div class=\"md-table\">\n<table>\n<thead>\n<tr>\n<th>Configure</th>\n<th></th>\n<th>DC1</th>\n<th></th>\n<th></th>\n<th>DC3</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td></td>\n<td>50th</td>\n<td>95th</td>\n<td>99th</td>\n<td>50th</td>\n<td>95th</td>\n<td>99th</td>\n</tr>\n<tr>\n<td><strong>Configuration 1: Primary DC is DC1 (the original configuration)</strong></td>\n<td>5</td>\n<td>10</td>\n<td>10</td>\n<td>6</td>\n<td>10</td>\n<td>10</td>\n</tr>\n<tr>\n<td><strong>Configuration 2: Primary DC is DC3 (after we perform DC switching to have DC3 to become the primary DC)</strong></td>\n<td>4</td>\n<td>7</td>\n<td>14</td>\n<td>8</td>\n<td>10</td>\n<td>30</td>\n</tr>\n</tbody>\n</table>\n</div><p>We observed that the latency of {Configuration 1, Deployment 1} experienced by the client located at the primary DC is much higher than the latency measured by the client at the primary DC in {Configuration 1, Deployment 2}. That is, (19,25,25 vs. 5,10,10 for 50th, 95th, and 99th latencies).</p>\n<p>Is this latency difference of 15 ms because DC2 is not in the same datacenter  as DC1 in Deployment 1? But our understanding is that DC2 only stores transaction logs, and thus should only impact writes latency. But what we observed is that it also impacts reads latency also. <strong>Is it true that this is a normal behavior?</strong></p>\n<p>We do have some read-only optimization implemented, as reported at FoundationDB Summit last year (the link: <a href=\"https://static.sched.com/hosted_files/foundationdbsummit2019/52/NuGraph.Built.Upon.JanusGraph.FoundationDB.Version11.pptx\" rel=\"nofollow noopener\">https://static.sched.com/hosted_files/foundationdbsummit2019/52/NuGraph.Built.Upon.JanusGraph.FoundationDB.Version11.pptx</a>). As a result, at the standby DC in all of the four configurations above,  the latency in our experiments is alway low because we cached the Global Read Versions (GRV) at the FDB client library and use them for initializing transactions (so the latency reported at standby DC is as we expected). <strong>However, we do not cache the transaction versions at the primary DC at this time.</strong></p>\n<p>For further details, this is the configuration when DC1 is the primary DC:</p>\n<pre><code class=\"lang-auto\">{\n  \"regions\": [\n    {\n      \"datacenters\": [\n        {\n          \"id\": \"dc1\",\n          \"priority\": 2\n        },\n        {\n          \"id\": \"dc2\",\n          \"priority\": 0,\n          \"satellite\": 1\n        }\n      ],\n      \"satellite_redundancy_mode\": \"one_satellite_double\",\n      \"satellite_logs\": 10\n    },\n    {\n      \"datacenters\": [\n        {\n          \"id\": \"dc3\",\n          \"priority\": 1\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>and when DC3 is the primary DC:</p>\n<pre><code class=\"lang-auto\">{\n  \"regions\": [\n    {\n      \"datacenters\": [\n        {\n          \"id\": \"dc1\",\n          \"priority\": 1\n        },\n        {\n          \"id\": \"dc2\",\n          \"priority\": 0,\n          \"satellite\": 1\n        }\n      ],\n      \"satellite_redundancy_mode\": \"one_satellite_double\",\n      \"satellite_logs\": 10\n    },\n    {\n      \"datacenters\": [\n        {\n          \"id\": \"dc3\",\n          \"priority\": 2\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>In summary, the questions that we like to ask:</p>\n<ol>\n<li>Does DC2, which hosts transaction log servers, play the role on the read-path?</li>\n<li>Are there some configurations in FDB 6.2 that we need to be aware that lead to possible high latency that we observed?</li>\n<li>In general, what is a good way to troubleshoot latency issues in FDB, to know where the transaction spent the most time on? It would be good if you can point us to some reference documentation.</li>\n</ol>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-05T00:13:25.544Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 153,
        "reads": 57,
        "readers_count": 56,
        "score": 781.2,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Hieu Nguyen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://static.sched.com/hosted_files/foundationdbsummit2019/52/NuGraph.Built.Upon.JanusGraph.FoundationDB.Version11.pptx",
            "internal": false,
            "reflection": false,
            "clicks": 5
          },
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#asymmetric-configurations",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 6.2",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 550,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 6897,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-05-05T02:33:27.041Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ntrhieu89\" data-post=\"1\" data-topic=\"2101\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ntrhieu89/48/587_2.png\" class=\"avatar\"> ntrhieu89:</div>\n<blockquote>\n<ul>\n<li>Does DC2, which hosts transaction log servers, play the role on the read-path?</li>\n</ul>\n</blockquote>\n</aside>\n<p>Yes.  GetReadVersion must verify that satellite transaction logs have not been locked, so they\u2019re still on the path for starting a (read-only) transaction.  (This is to guard against the database having already recovered into the secondary, which would have required locking transaction logs in the satellite.)</p>\n<aside class=\"quote no-group\" data-username=\"ntrhieu89\" data-post=\"1\" data-topic=\"2101\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ntrhieu89/48/587_2.png\" class=\"avatar\"> ntrhieu89:</div>\n<blockquote>\n<p>Are there some configurations in FDB 6.2 that we need to be aware that lead to possible high latency that we observed?</p>\n</blockquote>\n</aside>\n<p>The further you put your satellite logs from your primary in a multi-region config, the higher the latency of a GetReadVersion call will be.  Depending on how much you trust your clocks or how much (rare) stale data would affect your application, you could evaluate setting <code>CAUSAL_READ_RISKY</code> to drop the \u201chave my transaction logs been locked\u201d check.</p>\n<aside class=\"quote no-group\" data-username=\"ntrhieu89\" data-post=\"1\" data-topic=\"2101\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ntrhieu89/48/587_2.png\" class=\"avatar\"> ntrhieu89:</div>\n<blockquote>\n<ol>\n<li>In general, what is a good way to troubleshoot latency issues in FDB, to know where the transaction spent the most time on? It would be good if you can point us to some reference documentation.</li>\n</ol>\n</blockquote>\n</aside>\n<p>There are <a href=\"https://github.com/apple/foundationdb/pull/2853\">debug transactions</a>, which cause <code>CommitDebug</code> trace events to be logged in the various server components when that transaction is being handled.  I wrote a <a href=\"https://github.com/apple/foundationdb/pull/2765\">hacky chrome://tracing based visualization</a> for those logs as well.  There\u2019s a transaction every 10s that already has this set, so for most casual analysis, you probably don\u2019t need to change your client code.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-05T02:33:27.041Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 12,
        "reads": 48,
        "readers_count": 47,
        "score": 84.4,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/2765",
            "internal": false,
            "reflection": false,
            "title": "commit_debug can visualize CommitDebug TraceEvents via chrome://tracing by alexmiller-apple \u00b7 Pull Request #2765 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 10
          },
          {
            "url": "https://github.com/apple/foundationdb/pull/2853",
            "internal": false,
            "reflection": false,
            "title": "Add ability to mark transactions to add debug logging by Daniel-B-Smith \u00b7 Pull Request #2853 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6899,
        "name": "Hieu Nguyen",
        "username": "ntrhieu89",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "created_at": "2020-05-05T05:23:19.989Z",
        "cooked": "<p>Thank you very much <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a> for the clarification.<br>\nWe then should cache the global read version at DC1 to reduce read latency in favor of performance over consistency.</p>\n<p>I will also try out the tool as well to understand more about FDB transactions. Thanks for the tool!</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-05T05:23:19.989Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 51,
        "readers_count": 50,
        "score": 25.0,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Hieu Nguyen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 550,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6900,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-05-05T06:17:49.858Z",
        "cooked": "<p>If you\u2019re already okay with stale data even in the primary, I\u2019d strongly suggest trying <code>CAUSAL_READ_RISKY</code> first.  You can even default it to on for all transactions on the server via <code>--always_causal_read_risky=1</code>.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-05-05T06:17:49.858Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 14,
        "reads": 49,
        "readers_count": 48,
        "score": 79.6,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 550,
          "username": "ntrhieu89",
          "name": "Hieu Nguyen",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 8813,
        "name": "Clement Pang",
        "username": "panghy",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "created_at": "2020-11-28T21:09:34.271Z",
        "cooked": "<p>Reviving an older thread, after reading through <a href=\"https://github.com/apple/foundationdb/pull/4099\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Documentation: How FDB read and write path works in FDB 6.2 by xumengpanda \u00b7 Pull Request #4099 \u00b7 apple/foundationdb \u00b7 GitHub</a>, it said:</p>\n<blockquote>\n<p><strong>Step 3 (Confirm proxy\u2019s liveness)</strong> : To prevent proxies that are no longer a part of the system (such as due to network partition) from serving requests, each proxy contacts the queuing system for each timestamp request to confirm it is still valid proxies. This is based on the FDB property that at most one active queuing system is available at any given time.</p>\n<ul>\n<li>Why do we need this step? This is to achieve consensus (i.e., external consistency). Compared to serializable isolation, Strict Serializable Isolation (SSI) requires external consistency. It means the timestamp received by clients cannot decrease. If we do not have step and network partition happens, a set of old proxies that are disconnected from the rest of systems can still serve timestamp requests to clients. These timestamps can be smaller than the new generation of proxies, which breaks the external consistency in SSI.</li>\n<li>O(n * m) communication cost: To confirm a proxy\u2019s liveness, the proxy has to contact all members in the queuing system to ensure the queuing system is still active. This causes <em>m</em> network communication, where <em>m</em> is the number of processes in the queuing system. A system with n proxies will have O(n * m) network communications at the step 3. In our deployment, n is typically equal to m;</li>\n<li>Do FDB production clusters have this overhead? No. Our production clusters disable the external consistency by configuring the knob ALWAYS_CAUSAL_READ_RISKY.</li>\n</ul>\n</blockquote>\n<p><strong>Specifically, production clusters are recommended to have ALWAYS_CAUSAL_READ_RISKY</strong>. While we set this ourselves directly (on every transaction that we use), does it make sense to set this knob instead (meaning does the cluster itself perform better when all internal FDB requests have this on?)</p>\n<p>Saving O(n*m) calls seems significant enough that perhaps CAUSAL_READ_RISKY should be on-by-default anyway?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-12-03T13:11:12.249Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 12,
        "reads": 45,
        "readers_count": 44,
        "score": 73.8,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Clement Pang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/4099",
            "internal": false,
            "reflection": false,
            "clicks": 6
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 38,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 8879,
        "name": "Meng Xu",
        "username": "mengxu",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
        "created_at": "2020-12-14T00:45:05.413Z",
        "cooked": "<p>Good question.</p>\n<p>DD moves data using transactions, which do not set the causal read risky. But it manually sets its version. See <a href=\"https://github.com/apple/foundationdb/blob/cea7336baed0c55fca6e2d93909fc7b4e413e25b/fdbserver/storageserver.actor.cpp#L1844-L1857\">https://github.com/apple/foundationdb/blob/cea7336baed0c55fca6e2d93909fc7b4e413e25b/fdbserver/storageserver.actor.cpp#L1844-L1857</a></p>\n<p>Changing the cluster\u2019s knob may help reduce the overhead for other system-initiated transactions. But I don\u2019t think we ever evaluated how much it will provide.</p>\n<p>Changing the knob\u2019s default value means we will have to say by default, we don\u2019t support external consistency unless operators change the knob value. If an app relies on the property, we may accidentally break the app when its cluster upgrades.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 6,
        "updated_at": "2020-12-14T00:45:05.413Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 31,
        "readers_count": 30,
        "score": 21.0,
        "yours": false,
        "topic_id": 2101,
        "topic_slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
        "display_username": "Meng Xu",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/cea7336baed0c55fca6e2d93909fc7b4e413e25b/fdbserver/storageserver.actor.cpp#L1844-L1857",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/storageserver.actor.cpp at cea7336baed0c55fca6e2d93909fc7b4e413e25b \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 7
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 38,
          "username": "panghy",
          "name": "Clement Pang",
          "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 337,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/high-latency-of-read-only-transactions-at-the-primary-dc/2101/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      6896,
      6897,
      6899,
      6900,
      8813,
      8879
    ]
  },
  "timeline_lookup": [
    [
      1,
      1996
    ],
    [
      5,
      1788
    ],
    [
      6,
      1773
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "High latency of read-only transactions at the primary DC?",
  "id": 2101,
  "title": "High latency of read-only transactions at the primary DC?",
  "posts_count": 6,
  "created_at": "2020-05-05T00:11:44.449Z",
  "views": 1115,
  "reply_count": 2,
  "like_count": 1,
  "last_posted_at": "2020-12-14T00:45:05.413Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "high-latency-of-read-only-transactions-at-the-primary-dc",
  "category_id": 7,
  "word_count": 1492,
  "deleted_at": null,
  "user_id": 550,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2101",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 6,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Set primary data center does not work as expected",
      "id": 1455,
      "title": "Set primary data center does not work as expected",
      "slug": "set-primary-data-center-does-not-work-as-expected",
      "posts_count": 14,
      "reply_count": 12,
      "highest_post_number": 14,
      "image_url": null,
      "created_at": "2019-06-14T08:35:30.479Z",
      "last_posted_at": "2019-06-18T22:42:38.743Z",
      "bumped": true,
      "bumped_at": "2019-06-18T22:42:38.743Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 786,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 550,
            "username": "ntrhieu89",
            "name": "Hieu Nguyen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB read performance",
      "id": 729,
      "title": "FoundationDB read performance",
      "slug": "foundationdb-read-performance",
      "posts_count": 5,
      "reply_count": 1,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-09-25T07:10:56.281Z",
      "last_posted_at": "2018-09-26T12:47:46.621Z",
      "bumped": true,
      "bumped_at": "2018-09-26T12:47:46.621Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 1526,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 382,
            "username": "rahul",
            "name": "Rahul",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f14d63/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Relax consistency guarantees",
      "id": 1560,
      "title": "Relax consistency guarantees",
      "slug": "relax-consistency-guarantees",
      "posts_count": 18,
      "reply_count": 14,
      "highest_post_number": 19,
      "image_url": null,
      "created_at": "2019-08-05T00:31:11.823Z",
      "last_posted_at": "2019-10-30T15:35:37.702Z",
      "bumped": true,
      "bumped_at": "2019-10-30T15:35:37.702Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2278,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 542,
            "username": "jonahwest",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/90db22/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Multi DC cluster latency requirments",
      "id": 735,
      "title": "Multi DC cluster latency requirments",
      "slug": "multi-dc-cluster-latency-requirments",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2018-09-27T12:07:15.092Z",
      "last_posted_at": "2018-09-27T12:07:15.164Z",
      "bumped": true,
      "bumped_at": "2018-09-27T12:07:15.164Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 508,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 366,
            "username": "tobad357",
            "name": "Tobad357",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/49beb7/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "How to scale foundation db reads",
      "id": 1108,
      "title": "How to scale foundation db reads",
      "slug": "how-to-scale-foundation-db-reads",
      "posts_count": 21,
      "reply_count": 13,
      "highest_post_number": 21,
      "image_url": null,
      "created_at": "2019-02-02T12:39:23.370Z",
      "last_posted_at": "2019-03-18T16:32:32.430Z",
      "bumped": true,
      "bumped_at": "2019-03-18T16:32:32.430Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 7,
      "views": 6504,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 504,
            "username": "preslavle",
            "name": "Preslav Le",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/p/9de0a6/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 550,
        "username": "ntrhieu89",
        "name": "Hieu Nguyen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 38,
        "username": "panghy",
        "name": "Clement Pang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 337,
        "username": "mengxu",
        "name": "Meng Xu",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 550,
      "username": "ntrhieu89",
      "name": "Hieu Nguyen",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ntrhieu89/{size}/587_2.png"
    },
    "last_poster": {
      "id": 337,
      "username": "mengxu",
      "name": "Meng Xu",
      "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/pull/2765",
        "title": "commit_debug can visualize CommitDebug TraceEvents via chrome://tracing by alexmiller-apple \u00b7 Pull Request #2765 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 10,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/cea7336baed0c55fca6e2d93909fc7b4e413e25b/fdbserver/storageserver.actor.cpp#L1844-L1857",
        "title": "foundationdb/storageserver.actor.cpp at cea7336baed0c55fca6e2d93909fc7b4e413e25b \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 7,
        "user_id": 337,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/4099",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 6,
        "user_id": 38,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://static.sched.com/hosted_files/foundationdbsummit2019/52/NuGraph.Built.Upon.JanusGraph.FoundationDB.Version11.pptx",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 5,
        "user_id": 550,
        "domain": "static.sched.com",
        "root_domain": "sched.com"
      },
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#asymmetric-configurations",
        "title": "Configuration \u2014 FoundationDB 6.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 550,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/2853",
        "title": "Add ability to mark transactions to add debug logging by Daniel-B-Smith \u00b7 Pull Request #2853 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}