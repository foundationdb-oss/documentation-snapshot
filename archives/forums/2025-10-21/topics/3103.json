{
  "post_stream": {
    "posts": [
      {
        "id": 10534,
        "name": "",
        "username": "random_user",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png",
        "created_at": "2022-01-06T21:41:21.469Z",
        "cooked": "<p>Hey everyone,</p>\n<p>We\u2019ve forked the foundationDB repo and are working on building a custom FDB image.</p>\n<p>We know that there are simulation/correctness tests that are run every time there is a merge, but since we are on working/building from a forked repo, is there an available open-sourced testing framework/infrastructure that we can add into our pipeline? We see that we can run each individual test manually like so:</p>\n<pre><code class=\"lang-auto\">./bin/fdbserver -r simulation -b on -s 1-f tests/fast/AtomicOps.txt\n</code></pre>\n<p>It was mentioned that the open-source project performs extensive performance testing. Is there already a framework in place to run all these tests(simulation/correctness/performance) that we can use? We would need a duplicate of the extensive testing (at the same level), to ensure that our changes wouldn\u2019t degrade the scale that we require.</p>\n<p>Thank you.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-06T21:41:21.469Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 86,
        "reads": 34,
        "readers_count": 33,
        "score": 446.8,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1050,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 10535,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2022-01-06T23:13:42.924Z",
        "cooked": "<p>The software we are using is mostly open source, but building this infrastructure will be non-trivial.</p>\n<p>To run correctness (including valgrind and bindingtester tests) we use Joshua which you can find <a href=\"https://github.com/FoundationDB/fdb-joshua\">here</a>. We (Snowflake) use Kubernetes to automatically scale this cluster up and down. Do nightlies we run:</p>\n<ul>\n<li>100k correctness tests</li>\n<li>100k bindingtester runs</li>\n<li>10k valgrind runs</li>\n</ul>\n<p>The Docker images we use are also publicly available. We also use some application specific tests, those are not publicly available.</p>\n<p>For performance we use mostly Mako which is part of the FDB source (there\u2019s a C implementation and a workload \u2013 using the workload might be a bit easier). Mako is very useful for micro-benchmarking. Additionally we also have a complex synthetic internal workload we use for performance testing, but this again is not available to the community (it also wouldn\u2019t be very useful).</p>\n<p>There\u2019s other options you can use:</p>\n<ol>\n<li>There\u2019s a TPC-C implementation which ships with FDB</li>\n<li>There\u2019s a YCSB implementation that Apple is using. I don\u2019t know where this implementation is, but I believe it is also open source (though YCSB is IMHO not a good benchmark for FDB \u2013 but this statement could also depend on the workload you\u2019re using).</li>\n</ol>\n<p>Obviously the easiest solution for you would be to contribute back to open source and we will run the tests for you.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-06T23:13:42.924Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 31,
        "readers_count": 30,
        "score": 41.2,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/FoundationDB/fdb-joshua",
            "internal": false,
            "reflection": false,
            "title": "GitHub - FoundationDB/fdb-joshua: FoundationDB Correctness service",
            "clicks": 7
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10585,
        "name": "Lewis Chan",
        "username": "baiwfg2",
        "avatar_template": "/user_avatar/forums.foundationdb.org/baiwfg2/{size}/1173_2.png",
        "created_at": "2022-01-18T05:23:25.466Z",
        "cooked": "<p>sounds really non-trivial to setup and run on our side.</p>\n<p>Then do you need contributors provide performance data in order to make you believe their PR look good ?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-18T05:23:25.466Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 28,
        "readers_count": 27,
        "score": 15.6,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "Lewis Chan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 990,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10588,
        "name": "",
        "username": "random_user",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png",
        "created_at": "2022-01-18T19:39:01.350Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/markus.pilman\">@markus.pilman</a></p>\n<p>Hey, I\u2019ve been having trouble trying to set up Joshua to run the correctness test. This is how how our file structure is set up:</p>\n<pre><code class=\"lang-auto\">ubuntu@machine1:~/custom-fdb-6.3$ ls -1\nbuild/ (which is our build directory)\nfdb-joshua/ (repo for fdb-joshua)\nfoundationdb/ (repo for our forked foundaitonfb, with custom code)\n</code></pre>\n<p>create the tar, after I have already built my branch, from my forked repo, with custom code:</p>\n<pre><code class=\"lang-auto\">ubuntu@machine1:~/custom-fdb-6.3$ tar -czvf joshua_tar.tar.gz ../build/fdb.cluster\n</code></pre>\n<p>then run:</p>\n<pre><code class=\"lang-auto\">python3 -m joshua.joshua start --tarball joshua_tar.tar.gz\n</code></pre>\n<p>but getting these issues with one of fdb dependencies, which I can\u2019t seem to resolve:</p>\n<pre><code class=\"lang-auto\">ubuntu@eso-jenkins-2b-slave-db145-i-0612e3011ac135780:~/fedramp-fdb-6.3-audit-logging/fdb-joshua$ python3 -m joshua.joshua start --tarball joshua_tar.tar.gz\nTraceback (most recent call last):\n  File \"/usr/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\n    \"__main__\", mod_spec)\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/home/ubuntu/fedramp-fdb-6.3-audit-logging/fdb-joshua/joshua/joshua.py\", line 32, in &lt;module&gt;\n    from . import joshua_model\n  File \"/home/ubuntu/fedramp-fdb-6.3-audit-logging/fdb-joshua/joshua/joshua_model.py\", line 43, in &lt;module&gt;\n    import fdb.tuple\nModuleNotFoundError: No module named 'fdb.tuple'\n</code></pre>\n<p>Am I doing this wrong\u2026?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-18T19:39:24.593Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 26,
        "readers_count": 25,
        "score": 10.2,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 15,
          "username": "markus.pilman",
          "name": "Markus Pilman",
          "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1050,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10589,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2022-01-18T23:21:40.771Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"baiwfg2\" data-post=\"3\" data-topic=\"3103\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/baiwfg2/48/1173_2.png\" class=\"avatar\"> baiwfg2:</div>\n<blockquote>\n<p>Then do you need contributors provide performance data in order to make you believe their PR look good ?</p>\n</blockquote>\n</aside>\n<p>This is a complex question\u2026 The general answer is that this is currently at the discretion of the reviewer. I would say the rule of thumb is like this:</p>\n<ol>\n<li>If the reviewer believes that a change won\u2019t have a performance impact, the change can just be merged. If we catch a regression down the road we might revert the change and ask the contributor to address the problem.</li>\n<li>If we believe there\u2019s a positive performance impact we might do the same \u2013 although having proof (or at least some minor benchmark) is obviously preferred</li>\n<li>For complex changes it will depend. If we\u2019re interested in the change, we might just do the performance analysis ourselves (if you plan to contribute a large feature, it would be good to communicate with people before starting the implementation anyways). Otherwise we will probably at least give guidance.</li>\n</ol>\n<p>Generally though, we have some internal infrastructure that can run performance tests pretty much automatically and for 99.99% of all PRs this is sufficient. So I don\u2019t think an external contributor has to worry about performance results. If you\u2019re planning, for example, to rewrite the commit pipeline, we probably will need to collaborate on that or you would need to proof that your approach is better (however you define better\u2026).</p>\n<p>Hope this makes sense?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-18T23:21:40.771Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 6,
        "reads": 24,
        "readers_count": 23,
        "score": 49.8,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10590,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2022-01-18T23:23:13.946Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"random_user\" data-post=\"4\" data-topic=\"3103\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/48.png\" class=\"avatar\"> random_user:</div>\n<blockquote>\n<p>Hey, I\u2019ve been having trouble trying to set up Joshua to run the correctness test. This is how how our file structure is set up:</p>\n</blockquote>\n</aside>\n<p>This looks like you don\u2019t have the fdb python bindings installed. I never did set up joshua myself, I think other people (for example <a class=\"mention\" href=\"/u/kao.makino\">@kao.makino</a> ) could help you more than I\u2026</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-18T23:23:13.946Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 7,
        "reads": 27,
        "readers_count": 26,
        "score": 40.4,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10591,
        "name": "Kao Makino",
        "username": "kao.makino",
        "avatar_template": "/user_avatar/forums.foundationdb.org/kao.makino/{size}/476_2.png",
        "created_at": "2022-01-18T23:44:34.760Z",
        "cooked": "<p>Here\u2019s a quick (somewhat old) instruction to setup Joshua locally.</p>\n<ol>\n<li>libfdb_c.so in <code>LD_LIBRARY_PATH</code>\n</li>\n</ol>\n<pre><code class=\"lang-auto\"># Download the official library\nwget https://www.foundationdb.org/downloads/6.2.15/linux/libfdb_c_6.2.15.so\nmv libfdb_c_6.2.15.so libfdb_c.so\nchmod +x libfdb_c.so\nexport LD_LIBRARY_PATH=$(pwd):$LD_LIBRARY_PATH\n</code></pre>\n<ol start=\"2\">\n<li>Python3 environment</li>\n</ol>\n<pre><code class=\"lang-auto\">python3 -m venv python3 --system-site-packages\nsource python3/bin/activate\n</code></pre>\n<ol start=\"3\">\n<li>Python Binding</li>\n</ol>\n<pre><code class=\"lang-auto\">wget https://www.foundationdb.org/downloads/6.2.15/bindings/python/foundationdb-6.2.15.tar.gz\ntar xzvf foundationdb-6.2.15.tar.gz\ncd foundationdb-6.2.15/\npython setup.py install\ncd ..\n</code></pre>\n<ol start=\"4\">\n<li>Joshua</li>\n</ol>\n<pre><code class=\"lang-auto\">git clone https://github.com/FoundationDB/fdb-joshua.git\ncd fdb-joshua\npython setup.py install\n</code></pre>\n<p>But I\u2019d recommend you to use the Joshua agent docker image even for the client, so you don\u2019t need to do any of the above.</p><aside class=\"onebox githubblob\" data-onebox-src=\"https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile\" target=\"_blank\" rel=\"noopener nofollow ugc\">snowflakedb/fdb-joshua/blob/main/Dockerfile</a></h4>\n\n\n    <pre><code class=\"lang-\">FROM centos:7\n# this is joshua-agent\n\nWORKDIR /tmp\n\nRUN yum repolist &amp;&amp; \\\n    yum install -y \\\n        centos-release-scl-rh \\\n        epel-release \\\n        scl-utils \\\n        yum-utils &amp;&amp; \\\n    yum -y install \\\n        bzip2 \\\n        devtoolset-8 \\\n        devtoolset-8-libasan-devel \\\n        devtoolset-8-liblsan-devel \\\n        devtoolset-8-libtsan-devel \\\n        devtoolset-8-libubsan-devel \\\n        gettext \\\n        golang \\\n</code></pre>\n\n\n  This file has been truncated. <a href=\"https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile\" target=\"_blank\" rel=\"noopener nofollow ugc\">show original</a>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-18T23:44:34.760Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 9,
        "reads": 27,
        "readers_count": 26,
        "score": 115.4,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "Kao Makino",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile",
            "internal": false,
            "reflection": false,
            "title": "fdb-joshua/Dockerfile at main \u00b7 snowflakedb/fdb-joshua \u00b7 GitHub",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 478,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10634,
        "name": "",
        "username": "random_user",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png",
        "created_at": "2022-01-26T04:04:43.222Z",
        "cooked": "<p>Hey <a class=\"mention\" href=\"/u/kao.makino\">@kao.makino</a> so I\u2019m going with the approach you recommended with docker, but getting some issues\u2026<br>\nI\u2019ve built their docker image via:</p>\n<pre><code class=\"lang-auto\">./build.sh\n</code></pre>\n<p>docker images are there from the ./build.sh file:</p>\n<pre><code class=\"lang-auto\">(python3) ubuntu@random-computer:~/fdb-6.3/build$ docker images\nREPOSITORY                  TAG                         IMAGE ID       CREATED          SIZE\nfoundationdb/agent-scaler   20220125191625-e1ef13f681   961240cf5491   35 minutes ago   336MB\nfoundationdb/agent-scaler   latest                      961240cf5491   35 minutes ago   336MB\nfoundationdb/joshua-agent   20220125191625-e1ef13f681   cf59afc5b719   36 minutes ago   3.37GB\nfoundationdb/joshua-agent   latest                      cf59afc5b719   36 minutes ago   3.37GB\ncentos                      7                           eeb6ee3f44bd   4 months ago     204MB\ncentos                      latest                      5d0da3dc9764   4 months ago     231MB\n</code></pre>\n<p>To start agents, I run:</p>\n<pre><code class=\"lang-auto\">sudo docker run --rm -v /home/ubuntu/fdb-6.3/build/fdb.cluster:/opt/joshua -it foundationdb/joshua-agent:latest\n</code></pre>\n<p>but I get this error:</p>\n<pre><code class=\"lang-auto\">docker: Error response from daemon: OCI runtime create failed: container_linux.go:380: starting container process caused: process_linux.go:545: container init caused: rootfs_linux.go:76: mounting \"/home/ubuntu/fdb-6.3/build/fdb.cluster\" to rootfs at \"/opt/joshua\" caused: mount through procfd: not a directory: unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type.\n</code></pre>\n<p>I\u2019ve tried unmounting the volume from the image, but still getting the issue. Any pointers are appreciated. Thanks!</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-26T04:06:50.889Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 21,
        "readers_count": 20,
        "score": 19.2,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 478,
          "username": "kao.makino",
          "name": "Kao Makino",
          "avatar_template": "/user_avatar/forums.foundationdb.org/kao.makino/{size}/476_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1050,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10643,
        "name": "",
        "username": "random_user",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png",
        "created_at": "2022-01-27T22:31:49.682Z",
        "cooked": "<p>inside the <code>build.sh</code> file, there is a env var, <code> FDB_VERSION</code> so we need to run the build like so:</p>\n<pre><code class=\"lang-auto\">./build.sh FDB_VERSION=6.3.21\n</code></pre>\n<p>then I was able to get the run my image:</p>\n<pre><code class=\"lang-auto\">docker run --rm --env FDB_CLUSTER_FILE=/opt/joshua/fdb.cluster -v /home/ubuntu/fdb-6.3/build/:/opt/joshua -it foundationdb/joshua-agent:latest\n</code></pre>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-01-27T22:31:49.682Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 21,
        "readers_count": 20,
        "score": 44.2,
        "yours": false,
        "topic_id": 3103,
        "topic_slug": "open-sourced-testing-framework-available-forked-repo",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1050,
          "username": "random_user",
          "name": "",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1050,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/open-sourced-testing-framework-available-forked-repo/3103/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      10534,
      10535,
      10585,
      10588,
      10589,
      10590,
      10591,
      10634,
      10643
    ]
  },
  "timeline_lookup": [
    [
      1,
      1384
    ],
    [
      3,
      1373
    ],
    [
      4,
      1372
    ],
    [
      8,
      1365
    ],
    [
      9,
      1363
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "performance"
  ],
  "tags_descriptions": {},
  "fancy_title": "Open sourced testing framework available? (forked repo)",
  "id": 3103,
  "title": "Open sourced testing framework available? (forked repo)",
  "posts_count": 9,
  "created_at": "2022-01-06T21:41:21.406Z",
  "views": 754,
  "reply_count": 6,
  "like_count": 8,
  "last_posted_at": "2022-01-27T22:31:49.682Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "open-sourced-testing-framework-available-forked-repo",
  "category_id": 5,
  "word_count": 1404,
  "deleted_at": null,
  "user_id": 1050,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3103",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 9,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Simulation testing of FoundationDb",
      "id": 2654,
      "title": "Simulation testing of FoundationDb",
      "slug": "simulation-testing-of-foundationdb",
      "posts_count": 7,
      "reply_count": 4,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2021-04-14T16:05:30.941Z",
      "last_posted_at": "2021-07-14T15:07:05.107Z",
      "bumped": true,
      "bumped_at": "2021-07-14T15:07:05.107Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 1371,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Fdb-joshua: Unable to get any tests running",
      "id": 3162,
      "title": "Fdb-joshua: Unable to get any tests running",
      "slug": "fdb-joshua-unable-to-get-any-tests-running",
      "posts_count": 11,
      "reply_count": 9,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2022-02-09T22:50:49.949Z",
      "last_posted_at": "2022-02-28T07:13:48.125Z",
      "bumped": true,
      "bumped_at": "2022-02-28T07:13:48.125Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 519,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1068,
            "username": "saurabh.chatterjee",
            "name": "Saurabh Chatterjee",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/67e7ee/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Show the FDB Forums: prototyping simulation runs on Kubernetes",
      "id": 1357,
      "title": "Show the FDB Forums: prototyping simulation runs on Kubernetes",
      "slug": "show-the-fdb-forums-prototyping-simulation-runs-on-kubernetes",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-05-13T15:01:31.101Z",
      "last_posted_at": "2019-05-13T20:44:25.692Z",
      "bumped": true,
      "bumped_at": "2019-05-13T20:44:25.692Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1046,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 158,
            "username": "aseipp",
            "name": "Austin Seipp",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aseipp/{size}/124_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Update FreeBSD port",
      "id": 1892,
      "title": "Update FreeBSD port",
      "slug": "update-freebsd-port",
      "posts_count": 15,
      "reply_count": 11,
      "highest_post_number": 15,
      "image_url": null,
      "created_at": "2020-01-22T14:29:00.580Z",
      "last_posted_at": "2020-11-03T21:39:34.580Z",
      "bumped": true,
      "bumped_at": "2020-11-03T21:39:34.580Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 1558,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 476,
            "username": "dch",
            "name": "Dave Cottlehuber",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dch/{size}/473_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Porting FoundationDB to Power (ppc64le)",
      "id": 1115,
      "title": "Porting FoundationDB to Power (ppc64le)",
      "slug": "porting-foundationdb-to-power-ppc64le",
      "posts_count": 23,
      "reply_count": 9,
      "highest_post_number": 23,
      "image_url": null,
      "created_at": "2019-02-05T10:43:39.843Z",
      "last_posted_at": "2019-09-20T22:27:07.374Z",
      "bumped": true,
      "bumped_at": "2019-09-20T22:27:07.374Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 2372,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 505,
            "username": "seth-priya",
            "name": "Priya Seth",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/db5fbb/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 158,
            "username": "aseipp",
            "name": "Austin Seipp",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aseipp/{size}/124_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1050,
        "username": "random_user",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 15,
        "username": "markus.pilman",
        "name": "Markus Pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 478,
        "username": "kao.makino",
        "name": "Kao Makino",
        "avatar_template": "/user_avatar/forums.foundationdb.org/kao.makino/{size}/476_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 990,
        "username": "baiwfg2",
        "name": "Lewis Chan",
        "avatar_template": "/user_avatar/forums.foundationdb.org/baiwfg2/{size}/1173_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1050,
      "username": "random_user",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png"
    },
    "last_poster": {
      "id": 1050,
      "username": "random_user",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/91b2a8/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/FoundationDB/fdb-joshua",
        "title": "GitHub - FoundationDB/fdb-joshua: FoundationDB Correctness service",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 7,
        "user_id": 15,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/snowflakedb/fdb-joshua/blob/main/Dockerfile",
        "title": "fdb-joshua/Dockerfile at main \u00b7 snowflakedb/fdb-joshua \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 478,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}