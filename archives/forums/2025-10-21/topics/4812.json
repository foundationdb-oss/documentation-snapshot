{
  "post_stream": {
    "posts": [
      {
        "id": 14773,
        "name": "Han Xu",
        "username": "hxu",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hxu/{size}/1934_2.png",
        "created_at": "2025-03-26T15:47:17.366Z",
        "cooked": "<p>Hey folks, <a href=\"https://apple.github.io/foundationdb/api-general.html\" rel=\"noopener nofollow ugc\">in the docs</a>, there is this bit about API versioning:</p>\n<blockquote>\n<p>In general, a given client will support both its corresponding API version <em>and earlier API versions</em> . A client selects the API version it will use by explicitly specifying the version number upon initialization. The purpose of this design is to allow the server, client libraries, or bindings to be upgraded without having to modify application code. You can therefore upgrade to more recent packages (and so receive their various improvements) without having to change application code.</p>\n</blockquote>\n<p>I took this to mean that I could upgrade clients to newer versions and have them connect to servers running older versions by specifying the older API version. Concretely, I tested this setup:</p>\n<ul>\n<li>Server is running 7.1.67</li>\n<li>Java client is using <code>fdb-java</code> version 7.3.67</li>\n<li><code>libfdb_c.so</code> version is 7.3.67</li>\n<li>We specify API version of <code>710</code></li>\n</ul>\n<p>But our Java application reported the cluster as unreachable. When I changed the <code>fdb-java</code> and <code>libfdb_c.so</code> versions to 7.1.67, then I was able to connect to the cluster.</p>\n<p>Am I interpreting the docs incorrectly? Would it suffice for us to include both 7.1.67 and 7.3.67 versions of <code>libfdb_c.so</code>, configure multi version clients, and keep everything else the same?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2025-03-26T15:47:17.366Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 20,
        "readers_count": 19,
        "score": 44.0,
        "yours": false,
        "topic_id": 4812,
        "topic_slug": "clairification-about-version-compatibility-between-client-and-server",
        "display_username": "Han Xu",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/api-general.html",
            "internal": false,
            "reflection": false,
            "title": "Using FoundationDB Clients \u2014 FoundationDB ON documentation",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1525,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/clairification-about-version-compatibility-between-client-and-server/4812/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 15262,
        "name": "Alexandre Burgoni",
        "username": "AlexandreBrg",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexandrebrg/{size}/1706_2.png",
        "created_at": "2025-08-26T16:53:20.056Z",
        "cooked": "<p>Hi, answer is a bit late, but since we went through the same issue, it might help futures people reading this.</p>\n<p>It doesn\u2019t seem that FoundationDB clients are able to be backward compatible at MINOR (nor major) level. It seems to be only valid for PATCH. I\u2019m not aware of the reason behind it, but from the client perspective, you see that a FDB client version hash (e.g. <code>0x0FDB00B071010000</code> for 7.1, <code>0x0FDB00B073000000</code> for 7.3) is checked against this mask <code>0xFFFFFFFFFFFF0000</code>, only approving protocol versions that are not minor / major. Those hashes can be found in <a href=\"https://github.com/apple/foundationdb/blob/e659994b012567cabfa3746b02f406b295f5e282/flow/ProtocolVersion.h.cmake#L57\" rel=\"noopener nofollow ugc\">ProtocolVersion</a>.h.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2025-08-26T16:53:20.056Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 2.8,
        "yours": false,
        "topic_id": 4812,
        "topic_slug": "clairification-about-version-compatibility-between-client-and-server",
        "display_username": "Alexandre Burgoni",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/e659994b012567cabfa3746b02f406b295f5e282/flow/ProtocolVersion.h.cmake#L57",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/flow/ProtocolVersion.h.cmake at e659994b012567cabfa3746b02f406b295f5e282 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1358,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/clairification-about-version-compatibility-between-client-and-server/4812/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 15264,
        "name": "Clement Pang",
        "username": "panghy",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "created_at": "2025-08-26T19:30:47.104Z",
        "cooked": "<p>I believe the multi version client should work as described in the original post. Without downloading the FDB C lib of the cluster you\u2019d like to connect to and configuring the client as such, it would not work. There was some ideas in the past about downloading the lib from the coordinators or from a blob store but I don\u2019t think that went anywhere\u2026</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2025-08-26T19:30:47.104Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 14,
        "readers_count": 13,
        "score": 2.8,
        "yours": false,
        "topic_id": 4812,
        "topic_slug": "clairification-about-version-compatibility-between-client-and-server",
        "display_username": "Clement Pang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 38,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/clairification-about-version-compatibility-between-client-and-server/4812/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 15266,
        "name": "Han Xu",
        "username": "hxu",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hxu/{size}/1934_2.png",
        "created_at": "2025-08-27T02:10:28.513Z",
        "cooked": "<p>After some experimentation, we were also able to determine what works, and these are the \u201crules\u201d that we\u2019ve gone with:</p>\n<ul>\n<li>You must always have the C library major and minor version that matches the server (e.g. 7.1). I think patch version differences are OK</li>\n<li>Your language binding minor version can be older than the C library version.</li>\n</ul>\n<p>So for example, we tested this configuration and it worked:</p>\n<ul>\n<li>Server version 7.3.62</li>\n<li>C library version 7.3.62</li>\n<li>Python language binding version 7.1.60</li>\n</ul>\n<p>The API version reported by the binding is 710, but we can connect to the cluster and perform operations.</p>\n<p>The multi version client thing did work well for us, and that is how we conducted our upgrade from 7.1 to 7.3.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 4,
        "updated_at": "2025-08-27T02:10:28.513Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 13,
        "readers_count": 12,
        "score": 52.6,
        "yours": false,
        "topic_id": 4812,
        "topic_slug": "clairification-about-version-compatibility-between-client-and-server",
        "display_username": "Han Xu",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 3
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1525,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/clairification-about-version-compatibility-between-client-and-server/4812/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      14773,
      15262,
      15264,
      15266
    ]
  },
  "timeline_lookup": [
    [
      1,
      209
    ],
    [
      2,
      56
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Clairification about version compatibility between client and server",
  "id": 4812,
  "title": "Clairification about version compatibility between client and server",
  "posts_count": 4,
  "created_at": "2025-03-26T15:47:17.308Z",
  "views": 86,
  "reply_count": 0,
  "like_count": 3,
  "last_posted_at": "2025-08-27T02:10:28.513Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "clairification-about-version-compatibility-between-client-and-server",
  "category_id": 7,
  "word_count": 536,
  "deleted_at": null,
  "user_id": 1525,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4812",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 4,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Client library backwards compatibility issues",
      "id": 919,
      "title": "Client library backwards compatibility issues",
      "slug": "client-library-backwards-compatibility-issues",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2018-11-30T16:17:55.490Z",
      "last_posted_at": "2018-11-30T19:21:19.862Z",
      "bumped": true,
      "bumped_at": "2018-11-30T19:21:19.862Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1325,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 369,
            "username": "ricky.saltzer",
            "name": "Ricky Saltzer",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/f17d59/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 158,
            "username": "aseipp",
            "name": "Austin Seipp",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aseipp/{size}/124_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "New API to get the version of a running cluster without needing a matching libfdb_c library",
      "id": 437,
      "title": "New API to get the version of a running cluster without needing a matching libfdb_c library",
      "slug": "new-api-to-get-the-version-of-a-running-cluster-without-needing-a-matching-libfdb-c-library",
      "posts_count": 8,
      "reply_count": 3,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2018-05-19T12:26:50.509Z",
      "last_posted_at": "2018-05-21T19:33:34.145Z",
      "bumped": true,
      "bumped_at": "2018-05-21T19:33:34.145Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 2729,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 260,
            "username": "jared2501",
            "name": "Jared2501",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "How to setup multi-version clients with Java?",
      "id": 1549,
      "title": "How to setup multi-version clients with Java?",
      "slug": "how-to-setup-multi-version-clients-with-java",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2019-07-30T22:41:37.609Z",
      "last_posted_at": "2019-07-31T15:04:51.073Z",
      "bumped": true,
      "bumped_at": "2019-07-31T15:04:51.073Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1813,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 627,
            "username": "Dan",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/eada6e/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "How do bindings get an appropriate copy of `fdb_c`?",
      "id": 311,
      "title": "How do bindings get an appropriate copy of `fdb_c`?",
      "slug": "how-do-bindings-get-an-appropriate-copy-of-fdb-c",
      "posts_count": 9,
      "reply_count": 6,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2018-04-30T08:29:35.925Z",
      "last_posted_at": "2019-03-07T21:28:28.848Z",
      "bumped": true,
      "bumped_at": "2020-10-02T19:38:40.426Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 12,
      "views": 2829,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 120,
            "username": "josephg",
            "name": "Seph Gentle",
            "avatar_template": "/user_avatar/forums.foundationdb.org/josephg/{size}/84_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 3,
            "username": "john_brownlee",
            "name": "John Brownlee",
            "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 491,
            "username": "iilyak",
            "name": "Iilyak",
            "avatar_template": "/user_avatar/forums.foundationdb.org/iilyak/{size}/1073_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Multiversion cluster",
      "id": 1503,
      "title": "Multiversion cluster",
      "slug": "multiversion-cluster",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-07-03T18:05:21.031Z",
      "last_posted_at": "2019-07-03T18:08:50.605Z",
      "bumped": true,
      "bumped_at": "2019-07-03T18:08:50.605Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 398,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 517,
            "username": "janderland",
            "name": "Jon Anderson",
            "avatar_template": "/user_avatar/forums.foundationdb.org/janderland/{size}/517_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1525,
        "username": "hxu",
        "name": "Han Xu",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hxu/{size}/1934_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 38,
        "username": "panghy",
        "name": "Clement Pang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1358,
        "username": "AlexandreBrg",
        "name": "Alexandre Burgoni",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexandrebrg/{size}/1706_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1525,
      "username": "hxu",
      "name": "Han Xu",
      "avatar_template": "/user_avatar/forums.foundationdb.org/hxu/{size}/1934_2.png"
    },
    "last_poster": {
      "id": 1525,
      "username": "hxu",
      "name": "Han Xu",
      "avatar_template": "/user_avatar/forums.foundationdb.org/hxu/{size}/1934_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/api-general.html",
        "title": "Using FoundationDB Clients \u2014 FoundationDB ON documentation",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 1525,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}