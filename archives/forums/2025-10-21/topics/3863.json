{
  "post_stream": {
    "posts": [
      {
        "id": 12596,
        "name": "deng",
        "username": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "created_at": "2023-03-20T07:37:15.464Z",
        "cooked": "<p>We have a cluster of 7 nodes, with a total of 56 fdbserver processes, storing over 50 billion entries. After a clean reboot of an fdbserver process, the memory usage exceeds 17GB. If we set the memory limit in the <code>foundationdb.conf</code> file to below 17GB, the fdbserver processes cannot successfully boot.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4.jpeg\" data-download-href=\"/uploads/short-url/lM5ya5uWOhmv6qgkSLSKI8j2BRq.jpeg?dl=1\" title=\"image\" rel=\"noopener nofollow ugc\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_690x153.jpeg\" alt=\"image\" data-base62-sha1=\"lM5ya5uWOhmv6qgkSLSKI8j2BRq\" width=\"690\" height=\"153\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_690x153.jpeg, https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_1035x229.jpeg 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_1380x306.jpeg 2x\" data-dominant-color=\"244629\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">1920\u00d7427 66 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>We are unsure why so much memory is needed, and if we were to deploy the cluster to store 100 billion data entries, how much memory would be required?</p>\n<p>Any help would be much appreciated.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-20T07:41:46.706Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 204,
        "reads": 44,
        "readers_count": 43,
        "score": 1013.8,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "deng",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4.jpeg",
            "internal": false,
            "reflection": false,
            "title": "989d483c8bba0ea56b2f525f81df6a2b15676aa4.jpeg",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1228,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 12610,
        "name": "Heyang Zhou",
        "username": "losfair",
        "avatar_template": "/user_avatar/forums.foundationdb.org/losfair/{size}/1149_2.png",
        "created_at": "2023-03-21T16:31:23.863Z",
        "cooked": "<p>What storage engine are you using? If it\u2019s <code>memory</code> it will take up a lot memory.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-21T16:31:23.863Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 44,
        "readers_count": 43,
        "score": 53.8,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Heyang Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 982,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12618,
        "name": "deng",
        "username": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "created_at": "2023-03-22T02:23:29.121Z",
        "cooked": "<p>Thanks for your reply. The storage engine is <code>ssd-2</code>, <code>fdbcli --exec \"status;\"</code> gives us:</p>\n<pre><code class=\"lang-auto\">$ fdbcli\nUsing cluster file `fdb.cluster'.\n\nThe database is available.\n\nWelcome to the fdbcli. For help, type `help'.\nfdb&gt; status\n\nUsing cluster file `fdb.cluster'.\n\nConfiguration:\n  Redundancy mode        - triple\n  Storage engine         - ssd-2\n  Coordinators           - 7\n  Usable Regions         - 1\n\nCluster:\n  FoundationDB processes - 56\n  Zones                  - 7\n  Machines               - 7\n  Memory availability    - 32.0 GB per process on machine with least available\n  Retransmissions rate   - 1 Hz\n  Fault Tolerance        - 2 machines\n  Server time            - 03/22/23 10:17:44\n\nData:\n  Replication health     - Healthy\n  Moving data            - 0.000 GB\n  Sum of key-value sizes - 49.688 TB\n  Disk space used        - 197.873 TB\n\nOperating space:\n  Storage server         - 3321.1 GB free on most full server\n  Log server             - 3321.9 GB free on most full server\n\nWorkload:\n  Read rate              - 345451 Hz\n  Write rate             - 0 Hz\n  Transactions started   - 337321 Hz\n  Transactions committed - 0 Hz\n  Conflict rate          - 0 Hz\n\nBackup and DR:\n  Running backups        - 0\n  Running DRs            - 0\n\nClient time: 03/22/23 10:17:44\n</code></pre>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-22T02:23:29.121Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 44,
        "readers_count": 43,
        "score": 13.8,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "deng",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 982,
          "username": "losfair",
          "name": "Heyang Zhou",
          "avatar_template": "/user_avatar/forums.foundationdb.org/losfair/{size}/1149_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1228,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12625,
        "name": "Hari B",
        "username": "harikb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
        "created_at": "2023-03-22T21:49:33.109Z",
        "cooked": "<p>Not sure if this helps, but \u2026</p>\n<p>You have 7 machines, holding 56 processes. I am assuming this is 8 per machine. What is the configuration for [fdbserver] section?<br>\n<a href=\"https://apple.github.io/foundationdb/configuration.html#fdbserver-section\" class=\"onebox\" target=\"_blank\" rel=\"noopener nofollow ugc\">https://apple.github.io/foundationdb/configuration.html#fdbserver-section</a><br>\nParticularly <code>memory=</code>. If it is defaulting to 8 GB, as far as I know, you need 64 GB max per machine.</p>\n<p>In addition, your earlier message sounded as is the memory usage goes back up immediately after reboot (even if there is no activity on it). Your status output indicates a fairly good amount of traffic. Is it really going that high as soon as db is up or after getting enough traffic?</p>\n<p>Clarifying these might help someone answer the question.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-22T21:49:33.109Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 39,
        "readers_count": 38,
        "score": 22.8,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Hari B",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#fdbserver-section",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 7.2",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1228,
          "username": "deng",
          "name": "deng",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 405,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12626,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2023-03-23T06:23:21.669Z",
        "cooked": "<p>I\u2019m not familiar with the tool you are using but \u201cMemory\u201d of 17gb and \u201cMemory Used\u201d of 52% would seem to indicate a 17GB virtual memory footprint and about half of that is actually Resident.  Is that correct?</p>\n<p>Virtual Memory will often be a factor of 2x or 3x larger than Resident memory, but Resident is what matters.  In FDB 7.1, the malloc implementation was changed from glibc to jemalloc, which has a much larger virtual : resident ratio.</p>\n<p>There are two options to <code>fdbserver</code> which limit memory, <code>--memory</code> sets a resident limit and <code>--memory-vsize</code> sets the virtual memory limit.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-23T06:23:21.669Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 39,
        "readers_count": 38,
        "score": 22.8,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12628,
        "name": "deng",
        "username": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "created_at": "2023-03-24T03:21:30.031Z",
        "cooked": "<p>Thanks for your questions!</p>\n<aside class=\"quote no-group\" data-username=\"harikb\" data-post=\"4\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/harikb/48/1033_2.png\" class=\"avatar\"> harikb:</div>\n<blockquote>\n<p>You have 7 machines, holding 56 processes. I am assuming this is 8 per machine.</p>\n</blockquote>\n</aside>\n<p>Yes, we have 8 fdbserver processes on each machine, and each process manages 1 NVMe disk.</p>\n<aside class=\"quote no-group\" data-username=\"harikb\" data-post=\"4\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/harikb/48/1033_2.png\" class=\"avatar\"> harikb:</div>\n<blockquote>\n<p>What is the configuration for [fdbserver] section?</p>\n</blockquote>\n</aside>\n<p>The [fdbserver] section is:</p>\n<pre><code class=\"lang-auto\">## Default parameters for individual fdbserver processes\n[fdbserver]\ncommand = /usr/sbin/fdbserver\npublic-address = auto:$ID\nlisten-address = public\ndatadir = /foundationdb/data/$ID\nlogdir = /var/log/foundationdb\nlogsize = 200MiB\nmaxlogssize = 8MiB\n# machine-id =\n# datacenter-id =\n# class =\nmemory = 32GiB\n# storage-memory = 1GiB\ncache-memory = 8GiB\n# metrics-cluster =\n# metrics-prefix =\n</code></pre>\n<aside class=\"quote no-group\" data-username=\"harikb\" data-post=\"4\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/harikb/48/1033_2.png\" class=\"avatar\"> harikb:</div>\n<blockquote>\n<p>Particularly <code>memory=</code> . If it is defaulting to 8 GB, as far as I know, you need 64 GB max per machine.</p>\n</blockquote>\n</aside>\n<p>Each machine in our cluster is equipped with 512GB memory.</p>\n<aside class=\"quote no-group\" data-username=\"harikb\" data-post=\"4\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/harikb/48/1033_2.png\" class=\"avatar\"> harikb:</div>\n<blockquote>\n<p>In addition, your earlier message sounded as is the memory usage goes back up immediately after reboot (even if there is no activity on it). Your status output indicates a fairly good amount of traffic. Is it really going that high as soon as db is up or after getting enough traffic?</p>\n</blockquote>\n</aside>\n<p>The memory usage increases significantly as soon as the database (db) is up, and during the booting time, the CPU usage of each fdbserver process reaches approximately 100%. Once the cluster is back to a healthy state, there is no traffic from outside clients or internal traffic between fdbserver processes.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-24T03:25:21.463Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 4,
        "reads": 38,
        "readers_count": 37,
        "score": 27.6,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "deng",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1228,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12630,
        "name": "deng",
        "username": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "created_at": "2023-03-24T04:02:34.178Z",
        "cooked": "<p>Thanks for your reply.</p>\n<aside class=\"quote no-group\" data-username=\"SteavedHams\" data-post=\"5\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/steavedhams/48/18_2.png\" class=\"avatar\"> SteavedHams:</div>\n<blockquote>\n<p>I\u2019m not familiar with the tool you are using but \u201cMemory\u201d of 17gb and \u201cMemory Used\u201d of 52% would seem to indicate a 17GB virtual memory footprint and about half of that is actually Resident.  Is that correct?</p>\n</blockquote>\n</aside>\n<p>The tool reports resident memory usage, and <code>/proc</code> also gives that the resident memory usage of fdbserver is above 17GB. In one node, execute the following command, we get resident and virtual memory usage in KiB bytes unit (the first column is resident memory and the second column is virtual memory):</p>\n<pre><code class=\"lang-auto\">$ pidof fdbserver | sed -e 's: : -p :g' | xargs ps -o rss= -o vsz= -p\n16868952 17029776\n16898596 17085836\n16866468 17006220\n16779736 17007628\n16819000 17029008\n16829896 16999052\n16802448 16991244\n16746752 16969484\n</code></pre>\n<p>and, the current fdb details status is:</p>\n<pre><code class=\"lang-auto\">&gt;&gt;&gt; status details\nUsing cluster file `/etc/foundationdb/fdb.cluster'.\n\nConfiguration:\n  Redundancy mode        - triple\n  Storage engine         - ssd-2\n  Coordinators           - 7\n  Usable Regions         - 1\n\nCluster:\n  FoundationDB processes - 56\n  Zones                  - 7\n  Machines               - 7\n  Memory availability    - 32.0 GB per process on machine with least available\n  Retransmissions rate   - 1 Hz\n  Fault Tolerance        - 2 machines\n  Server time            - 03/24/23 11:55:00\n\nData:\n  Replication health     - Healthy\n  Moving data            - 0.000 GB\n  Sum of key-value sizes - 49.702 TB\n  Disk space used        - 196.752 TB\n\nOperating space:\n  Storage server         - 3352.1 GB free on most full server\n  Log server             - 3343.0 GB free on most full server\n\nWorkload:\n  Read rate              - 29 Hz\n  Write rate             - 1 Hz\n  Transactions started   - 5 Hz\n  Transactions committed - 0 Hz\n  Conflict rate          - 0 Hz\n\nBackup and DR:\n  Running backups        - 0\n  Running DRs            - 0\n\nProcess performance details:\n  10.142.7.74:4500       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4501       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4502       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4503       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.6 GB / 32.0 GB RAM  )\n  10.142.7.74:4504       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4505       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4506       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.74:4507       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.7 GB / 32.0 GB RAM  )\n  10.142.7.85:4500       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4501       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.6 GB / 32.0 GB RAM  )\n  10.142.7.85:4502       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4503       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4504       (  1% cpu;  0% machine; 0.002 Gbps;  2% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4505       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4506       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.5 GB / 32.0 GB RAM  )\n  10.142.7.85:4507       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;17.4 GB / 32.0 GB RAM  )\n  10.142.7.86:4500       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.86:4501       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.86:4502       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.3 GB / 32.0 GB RAM  )\n  10.142.7.86:4503       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.86:4504       (  1% cpu;  0% machine; 0.003 Gbps;  2% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.86:4505       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.86:4506       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.86:4507       (  1% cpu;  0% machine; 0.003 Gbps;  1% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.88:4500       (  1% cpu;  0% machine; 0.004 Gbps;  2% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.88:4501       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.88:4502       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.88:4503       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.7 GB / 32.0 GB RAM  )\n  10.142.7.88:4504       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.88:4505       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.2 GB / 32.0 GB RAM  )\n  10.142.7.88:4506       (  1% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.88:4507       (  3% cpu;  0% machine; 0.004 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4500       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4501       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4502       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4503       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4504       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4505       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4506       (  1% cpu;  0% machine; 0.002 Gbps;  2% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.89:4507       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4500       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4501       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4502       (  1% cpu;  0% machine; 0.002 Gbps;  2% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4503       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4504       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4505       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4506       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.90:4507       (  1% cpu;  0% machine; 0.002 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4500       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4501       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4502       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4503       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4504       (  0% cpu;  0% machine; 0.001 Gbps;  0% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4505       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4506       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n  10.142.7.91:4507       (  1% cpu;  0% machine; 0.001 Gbps;  1% disk IO;16.1 GB / 32.0 GB RAM  )\n\nCoordination servers:\n  10.142.7.74:4500  (reachable)\n  10.142.7.85:4500  (reachable)\n  10.142.7.86:4500  (reachable)\n  10.142.7.88:4500  (reachable)\n  10.142.7.89:4500  (reachable)\n  10.142.7.90:4500  (reachable)\n  10.142.7.91:4500  (reachable)\n\nClient time: 03/24/23 11:55:00\n\n</code></pre>\n<aside class=\"quote no-group\" data-username=\"SteavedHams\" data-post=\"5\" data-topic=\"3863\" data-full=\"true\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/steavedhams/48/18_2.png\" class=\"avatar\"> SteavedHams:</div>\n<blockquote>\n<p>There are two options to <code>fdbserver</code> which limit memory, <code>--memory</code> sets a resident limit and <code>--memory-vsize</code> sets the virtual memory limit.</p>\n</blockquote>\n</aside>\n<p>We used <code>--memory</code> option of <code>foundationdb.conf</code> to limit resident memory.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-24T04:26:02.022Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 1,
        "incoming_link_count": 15,
        "reads": 43,
        "readers_count": 42,
        "score": 103.6,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "deng",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1228,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12631,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2023-03-24T06:50:17.380Z",
        "cooked": "<p>Thanks for confirming that the 17 GB is RSS.</p>\n<p>I see the problem.  You have 49 TB of KV data and 56 processes.  After triple replication, this is 49 * 3 / 56 = 2.6 TB of KV data that each process is responsible for.</p>\n<p>There is a data structure that storage servers have called the Byte Sample which stores a deterministic random sample of keys.  This data is persisted on disk in the storage engine and is loaded immediately upon storage server startup.  Unfortunately, its size is not tracked or reported, but grows linearly with KV size and I suspect yours is somewhere around 4GB-6GB based on the memory usage I\u2019ve seen for smaller storage KV sizes.</p>\n<p>The byte sample size is technically configurable to a smaller sample rate, however changing its knob once a cluster is created is undefined behavior.  FDB relies on the byte sample\u2019s determinism to know how much logical data is in each shard and each storage server.  <strong>Weird things will happen if you change this knob on a existing cluster and the cluster may become unavailable</strong>.  I don\u2019t think any data loss would occur but you could easily get into a situation that is hard to get out of.</p>\n<p>If you need to reduce memory usage for you disk sizes you could reduce the cache memory setting.</p>\n<p>If you want to reduce the size of the byte sample, you would have to create a new cluster and migrate your data to it.  You would also have to make sure that <strong>no storage servers on the new cluster ever start up without the knob override</strong>.  The option is <code>knob_byte_sampling_factor</code> and the default is 250.  Multiply this by N to reduce the byte sample size by a factor of N.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-24T06:55:06.448Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 241,
        "reads": 43,
        "readers_count": 42,
        "score": 1288.6,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1228,
          "username": "deng",
          "name": "deng",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 5
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12654,
        "name": "deng",
        "username": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "created_at": "2023-03-30T02:40:11.947Z",
        "cooked": "<p>Thank you for providing that valuable information. We\u2019ll try it in our future benchmarking.</p>\n<p>And, we are curious whether the data structure <code>Byte Sample</code> is a global data structure that each <code>fdbserver</code> process keeps one replica of, or if it is a local data structure that only contains random sample keys from its managed key-value pairs.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-30T02:40:11.947Z",
        "reply_count": 1,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 37,
        "readers_count": 36,
        "score": 32.4,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "deng",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1228,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12656,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2023-03-30T03:16:52.184Z",
        "cooked": "<p><code>Byte Sample</code> is a local data structure that each storage server maintains, used for estimating shard sizes on the storage server.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2023-03-30T03:16:52.184Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 37,
        "readers_count": 36,
        "score": 42.4,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1228,
          "username": "deng",
          "name": "deng",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13994,
        "name": "Pierre Zemb",
        "username": "PierreZ",
        "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
        "created_at": "2024-04-22T17:37:41.319Z",
        "cooked": "<p>I took the liberty of <a href=\"https://pierrezemb.fr/posts/redwood-memory-tuning/\" rel=\"noopener nofollow ugc\">blogging</a> about some Redwood memory tuning, including Byte Sample and page-cache <img src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=12\" title=\":wink:\" class=\"emoji\" alt=\":wink:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 11,
        "updated_at": "2024-04-22T17:37:41.319Z",
        "reply_count": 0,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 25,
        "readers_count": 24,
        "score": 75.0,
        "yours": false,
        "topic_id": 3863,
        "topic_slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
        "display_username": "Pierre Zemb",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://pierrezemb.fr/posts/redwood-memory-tuning/",
            "internal": false,
            "reflection": false,
            "title": "Redwood\u2019s memory tuning in FoundationDB - Pierre Zemb",
            "clicks": 20
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 454,
          "username": "jzhou",
          "name": "Jingyu Zhou",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 534,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high/3863/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      12596,
      12610,
      12618,
      12625,
      12626,
      12628,
      12630,
      12631,
      12654,
      12656,
      13994
    ]
  },
  "timeline_lookup": [
    [
      1,
      947
    ],
    [
      2,
      945
    ],
    [
      4,
      944
    ],
    [
      6,
      943
    ],
    [
      9,
      937
    ],
    [
      11,
      547
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "FoundationDB 7.1.24 - the memory usage after clean startup of fdbserver process is too high",
  "id": 3863,
  "title": "FoundationDB 7.1.24 - the memory usage after clean startup of fdbserver process is too high",
  "posts_count": 11,
  "created_at": "2023-03-20T07:37:15.399Z",
  "views": 839,
  "reply_count": 8,
  "like_count": 9,
  "last_posted_at": "2024-04-22T17:37:41.319Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "foundationdb-7-1-24-the-memory-usage-after-clean-startup-of-fdbserver-process-is-too-high",
  "category_id": 7,
  "word_count": 2765,
  "deleted_at": null,
  "user_id": 1228,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_1024x227.jpeg",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3863",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 11,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 6,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 1920,
      "height": 427,
      "url": "https://global.discourse-cdn.com/foundationdb/original/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4.jpeg"
    },
    {
      "max_width": 1024,
      "max_height": 1024,
      "width": 1024,
      "height": 227,
      "url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/9/989d483c8bba0ea56b2f525f81df6a2b15676aa4_2_1024x227.jpeg"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Foundationdb 6.2 - fdbserver going out of memory",
      "id": 2080,
      "title": "Foundationdb 6.2 - fdbserver going out of memory",
      "slug": "foundationdb-6-2-fdbserver-going-out-of-memory",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2020-04-20T14:55:39.274Z",
      "last_posted_at": "2020-04-23T04:34:49.858Z",
      "bumped": true,
      "bumped_at": "2020-04-23T04:34:49.858Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1037,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 714,
            "username": "tuk",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/b5ac83/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Large spikes in memory usage on storage processes, 6.0.18",
      "id": 2115,
      "title": "Large spikes in memory usage on storage processes, 6.0.18",
      "slug": "large-spikes-in-memory-usage-on-storage-processes-6-0-18",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/4c7f8a022ee38e69df8abe772878aff823a76550_2_1024x320.png",
      "created_at": "2020-05-12T19:17:47.329Z",
      "last_posted_at": "2020-05-12T21:58:14.570Z",
      "bumped": true,
      "bumped_at": "2020-05-12T21:58:14.570Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 582,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 490,
            "username": "rjenkins",
            "name": "Ray Jenkins",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rjenkins/{size}/487_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Segmentation fault error and broken cluster",
      "id": 483,
      "title": "Segmentation fault error and broken cluster",
      "slug": "segmentation-fault-error-and-broken-cluster",
      "posts_count": 17,
      "reply_count": 12,
      "highest_post_number": 17,
      "image_url": null,
      "created_at": "2018-05-31T15:34:28.123Z",
      "last_posted_at": "2018-06-11T17:31:13.656Z",
      "bumped": true,
      "bumped_at": "2018-06-11T17:31:13.656Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 4331,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 211,
            "username": "brk0v",
            "name": "Viacheslav Biriukov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brk0v/{size}/173_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Cluster tuning cookbook",
      "id": 520,
      "title": "Cluster tuning cookbook",
      "slug": "cluster-tuning-cookbook",
      "posts_count": 27,
      "reply_count": 19,
      "highest_post_number": 27,
      "image_url": null,
      "created_at": "2018-06-19T14:35:25.802Z",
      "last_posted_at": "2019-02-01T12:38:24.733Z",
      "bumped": true,
      "bumped_at": "2019-02-01T12:38:24.733Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 12,
      "views": 8885,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 310,
            "username": "shamatar",
            "name": "Alexander",
            "avatar_template": "/user_avatar/forums.foundationdb.org/shamatar/{size}/315_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 41,
            "username": "amirouche",
            "name": "Amirouche",
            "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 502,
            "username": "nikolas.ioannou",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/5daacb/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "&lsquo;ERROR: Out of memory&rsquo; crashed from fdbserver",
      "id": 3556,
      "title": "'ERROR: Out of memory' crashed from fdbserver",
      "slug": "error-out-of-memory-crashed-from-fdbserver",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2022-09-21T17:45:03.267Z",
      "last_posted_at": "2022-09-28T06:50:59.544Z",
      "bumped": true,
      "bumped_at": "2022-09-28T06:50:59.544Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings",
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 519,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1134,
            "username": "ZhangHuiGui",
            "name": "Zhang Hui Gui",
            "avatar_template": "/user_avatar/forums.foundationdb.org/zhanghuigui/{size}/1377_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 1133,
            "username": "redcuckoo",
            "name": "Yurii Momotenko",
            "avatar_template": "/user_avatar/forums.foundationdb.org/redcuckoo/{size}/1660_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1228,
        "username": "deng",
        "name": "deng",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 405,
        "username": "harikb",
        "name": "Hari B",
        "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 454,
        "username": "jzhou",
        "name": "Jingyu Zhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "moderator": true,
        "trust_level": 2
      },
      {
        "id": 534,
        "username": "PierreZ",
        "name": "Pierre Zemb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 982,
        "username": "losfair",
        "name": "Heyang Zhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/losfair/{size}/1149_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 1228,
      "username": "deng",
      "name": "deng",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/9fc29f/{size}.png"
    },
    "last_poster": {
      "id": 534,
      "username": "PierreZ",
      "name": "Pierre Zemb",
      "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png"
    },
    "links": [
      {
        "url": "https://pierrezemb.fr/posts/redwood-memory-tuning/",
        "title": "Redwood\u2019s memory tuning in FoundationDB - Pierre Zemb",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 20,
        "user_id": 534,
        "domain": "pierrezemb.fr",
        "root_domain": "pierrezemb.fr"
      },
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#fdbserver-section",
        "title": "Configuration \u2014 FoundationDB 7.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 405,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}