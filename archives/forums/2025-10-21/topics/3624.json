{
  "post_stream": {
    "posts": [
      {
        "id": 11910,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2022-10-26T15:54:56.394Z",
        "cooked": "<p>Hello, all.</p>\n<p>I\u2019m testing a fdb (version 7.1.21) cluster with redwood storage server. The cluster contains three nodes, each node with one stateless, one transaction and two storage servers.</p>\n<p>The problem is the cluster always moves data between storage servers: periodically each storage server is got all the date out and then it is filling with data again.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9.png\" data-download-href=\"/uploads/short-url/8T83hAPOa0uRdouh6hYDUqVCc8p.png?dl=1\" title=\"screenshot-2022-10-26 18-48-35\" rel=\"noopener nofollow ugc\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_474x500.png\" alt=\"screenshot-2022-10-26 18-48-35\" data-base62-sha1=\"8T83hAPOa0uRdouh6hYDUqVCc8p\" width=\"474\" height=\"500\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_474x500.png, https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_711x750.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_948x1000.png 2x\" data-dominant-color=\"2B2D31\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">screenshot-2022-10-26 18-48-35</span><span class=\"informations\">1323\u00d71394 231 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>Wat is the reason of this behavior?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-10-26T15:54:56.394Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 251,
        "reads": 61,
        "readers_count": 60,
        "score": 1257.2,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9.png",
            "internal": false,
            "reflection": false,
            "title": "3e4cc1a27172740e9f813dacc184e598e46bbbd9.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 11911,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2022-10-26T16:10:33.874Z",
        "cooked": "<p>Do you have the perpetual wiggle enabled? This is a feature that constantly removes a storage server and then re-adds it (basically doing exclude/include in a loop).</p>\n<p>The reason we do this is because rewriting B-trees compacts them nicely. SQLite is also profiting from this (maybe even more than redwood). But this behavior can be turned off.</p>\n<p>I think you can turn it off using the following fdbcli command:</p>\n<pre><code class=\"lang-auto\">configure perpetual_storage_wiggle=0\n</code></pre>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-10-26T16:10:33.874Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 60,
        "readers_count": 59,
        "score": 32.0,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11912,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2022-10-26T16:41:01.361Z",
        "cooked": "<p>Thank you, <a class=\"mention\" href=\"/u/markus.pilman\">@markus.pilman</a> for the fast answer.</p>\n<p>Yes, I have <code>perpetual_storage_wiggle=1</code> because it was suggested when I was changing the storage engine to redwood-1-experimental.</p>\n<p>I\u2019ll try to repeat my tests with <code>perpetual_storage_wiggle=0</code></p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-10-26T16:41:01.361Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 61,
        "readers_count": 60,
        "score": 12.2,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 15,
          "username": "markus.pilman",
          "name": "Markus Pilman",
          "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11913,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2022-10-26T16:45:48.252Z",
        "cooked": "<p>I received a warning:</p>\n<pre><code class=\"lang-auto\">fdb&gt; configure perpetual_storage_wiggle=0\nConfiguration changed, with warnings\nWARN: To make progress toward the desired storage type with storage_migration_type=gradual, the Perpetual Wiggle must be enabled.\nType `configure perpetual_storage_wiggle=1' to enable the perpetual wiggle, or `configure storage_migration_type=gradual' to set the gradual migration type.\n</code></pre>\n<p>What is the correct future steps for me? Earlier this database was configured with the ssd storage engine, but this migration has already been done. Have I change any configuration for continuing with redwood?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-10-26T17:02:01.922Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 58,
        "readers_count": 57,
        "score": 21.6,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11914,
        "name": "Markus Pilman",
        "username": "markus.pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "created_at": "2022-10-26T22:32:25.725Z",
        "cooked": "<p>I think this means that the migration didn\u2019t finish yet. You need to wait until each storage went through this transition once. Basically this storage migration is trying to migrate your data slowly to not overwhelm the cluster.</p>\n<p>If you don\u2019t care (mostly if you don\u2019t need this cluster to be available) you can do an aggressive migration)</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-10-26T22:32:25.725Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 56,
        "readers_count": 55,
        "score": 11.2,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Markus Pilman",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 711,
          "username": "osamarin",
          "name": "Oleg Samarin",
          "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 15,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11998,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2022-11-11T06:25:15.129Z",
        "cooked": "<p>The warning is just saying that you have selected a storage migration mode of \u201cgradual\u201d but that with the PW disabled no progress in migrating to a new storage engine would actually occur if you changed storage engines.</p>\n<p>Unfortunately status currently only reports the configured storage engine mode but it doesn\u2019t tell you how many of each storage engine type you <em>have</em> at the moment.  The JSON status document has this though, under each storage role there is a metadata object that contains the storage engine type for each storage instance.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-11-11T06:25:15.129Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 53,
        "readers_count": 52,
        "score": 40.6,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12010,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2022-11-15T08:23:33.396Z",
        "cooked": "<p>I\u2019m sorry for the late response.</p>\n<p>The problem was the migration had finished (each storage server had a redwood file and did not have sqlite files) several days ago, but FDB did not catch the completion of the migration and thought that the migration was still in progress.</p>\n<p>Unfortunally, I\u2019ve already recreated this stand and created fdb with redwood so I cann\u2019t provide any more additional information. As I remember, I made the following steps</p>\n<ol>\n<li>Configure new ssd double</li>\n<li>Fill the db with data</li>\n<li>\n<code>clearrange '' \\xff</code>. It logically erased the data but the sqlite files were still large.</li>\n<li>\n<code>configure ssd-redwood-1-experimental</code>. It required to enable <code>set perpetual_storage_wiggle=1</code> and started migration that finished immediately because the database was empty. Sqllite files dissappeared.</li>\n<li>Fill the database with data.</li>\n<li>Constant removing storage servers occured.</li>\n<li>After <code>configure perpetual_storage_wiggle=0</code> I received the message <code>WARN: To make progress toward the desired storage type with storage_migration_type=gradual, the Perpetual Wiggle must be enabled.</code>\n</li>\n</ol>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2022-11-15T08:24:26.150Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 51,
        "readers_count": 50,
        "score": 55.2,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12012,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2022-11-15T09:56:35.262Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"osamarin\" data-post=\"7\" data-topic=\"3624\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/osamarin/48/905_2.png\" class=\"avatar\"> osamarin:</div>\n<blockquote>\n<p>FDB did not catch the completion of the migration and thought that the migration was still in progress.</p>\n</blockquote>\n</aside>\n<p>Actually the Perpetual Wiggle is called this because it <em>is</em> perpetual while enabled.  It\u2019s actually useful to rebuild BTrees every once in a while as it is a very efficient way to remove slack space, but unfortunately in FDB 7.1 the process goes too fast.  It constantly removes / re-adds storages processes one at a time which is too fast for most clusters.</p>\n<p>In FDB 7.1 you can fix this by setting a delay between processes using the <code>PERPETUAL_WIGGLE_DELAY</code> knob.  I suggest 2000000 which is in seconds or about 23 days.</p>\n<p>In FDB 7.2 and later, the Perpetual Wiggle has a new concept of \u201cminimum storage server age\u201d which defaults to 3 weeks and is controlled by a knob <code>DD_STORAGE_WIGGLE_MIN_SS_AGE_SEC</code>, also in seconds.  The logic here is that if a Storage Server is using the desired configured Storage Engine type, then it will not be \u201cwiggled\u201d out/in until it is at least this old.</p>\n<p>While the default <code>ssd</code> / SQLite based engine does not need the PW, many workloads will see an increase of CPU and IO overhead per operation over time as the BTree becomes more fragmented, which is mitigated by the PW periodically draining, recreating, and refilling it.</p>\n<p>Strictly speaking, Redwood <em>does</em> need the PW at least for some workloads, though most probably could run without it.  Redwood makes some design tradeoffs to reduce the IO and CPU cost of writes, specifically not merging under-filled sibling pages and not maintaining internal metadata necessary to shrink data files to give internal free space back to the filesystem.  These decisions make sense in the context of a production FDB cluster with dedicated data volumes, as giving space back to the filesystem is unnecessary (it will be reused within Redwood) and FDB Data Distribution will move/balance key ranges around between Storage Servers which will effectively remove BTree slack and keep logical space usage roughly balanced.</p>\n<p>If, however, your workload were to have an update pattern that produces an unusual amount of slack space constantly, or if you were to delete a large amount of data from your cluster and not replace it and you wanted all of your data files to shrink instead of holding free space internally, then the Perpetual Wiggle is a backstop to control slack and shrink data files.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2023-08-22T17:07:57.593Z",
        "reply_count": 0,
        "reply_to_post_number": 7,
        "quote_count": 1,
        "incoming_link_count": 36,
        "reads": 50,
        "readers_count": 49,
        "score": 220.0,
        "yours": false,
        "topic_id": 3624,
        "topic_slug": "redwood-perpetuum-moving-data-between-storage-servers",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/is-it-possible-to-enable-perpetual-storage-wiggle-at-the-shard-level-instead-of-the-process-level/4760/2",
            "internal": true,
            "reflection": true,
            "title": "Is it possible to enable `perpetual_storage_wiggle` at the 'shard' level instead of the 'process' level?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/redwood-perpetuum-moving-data-between-storage-servers/3624/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      11910,
      11911,
      11912,
      11913,
      11914,
      11998,
      12010,
      12012
    ]
  },
  "timeline_lookup": [
    [
      1,
      1091
    ],
    [
      6,
      1076
    ],
    [
      7,
      1072
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Redwood: perpetuum moving data between storage servers",
  "id": 3624,
  "title": "Redwood: perpetuum moving data between storage servers",
  "posts_count": 8,
  "created_at": "2022-10-26T15:54:56.337Z",
  "views": 827,
  "reply_count": 4,
  "like_count": 2,
  "last_posted_at": "2022-11-15T09:56:35.262Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "redwood-perpetuum-moving-data-between-storage-servers",
  "category_id": 7,
  "word_count": 1010,
  "deleted_at": null,
  "user_id": 711,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_971x1024.png",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3624",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 8,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 1323,
      "height": 1394,
      "url": "https://global.discourse-cdn.com/foundationdb/original/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9.png"
    },
    {
      "max_width": 1024,
      "max_height": 1024,
      "width": 971,
      "height": 1024,
      "url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/3/3e4cc1a27172740e9f813dacc184e598e46bbbd9_2_971x1024.png"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Is it possible to enable `perpetual_storage_wiggle` at the &lsquo;shard&rsquo; level instead of the &lsquo;process&rsquo; level?",
      "id": 4760,
      "title": "Is it possible to enable `perpetual_storage_wiggle` at the 'shard' level instead of the 'process' level?",
      "slug": "is-it-possible-to-enable-perpetual-storage-wiggle-at-the-shard-level-instead-of-the-process-level",
      "posts_count": 10,
      "reply_count": 4,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2025-01-10T13:16:54.850Z",
      "last_posted_at": "2025-01-21T01:08:47.776Z",
      "bumped": true,
      "bumped_at": "2025-01-22T00:36:19.520Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 7,
      "views": 149,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1142,
            "username": "danm",
            "name": "Dan Meyers",
            "avatar_template": "/user_avatar/forums.foundationdb.org/danm/{size}/1393_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 164,
            "username": "Imperatorx",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/d2c977/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Migrating from a large cluster to another",
      "id": 721,
      "title": "Migrating from a large cluster to another",
      "slug": "migrating-from-a-large-cluster-to-another",
      "posts_count": 15,
      "reply_count": 9,
      "highest_post_number": 15,
      "image_url": null,
      "created_at": "2018-09-21T15:41:31.742Z",
      "last_posted_at": "2018-11-06T16:15:24.202Z",
      "bumped": true,
      "bumped_at": "2018-11-06T16:15:24.202Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2418,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 16,
            "username": "ashishnm",
            "name": "Ashish Motivala",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b5e925/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 43,
            "username": "killertypo",
            "name": "Mike McMahon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/killertypo/{size}/35_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "FDB cluster rebalance endless loop",
      "id": 3478,
      "title": "FDB cluster rebalance endless loop",
      "slug": "fdb-cluster-rebalance-endless-loop",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/2X/d/d6335950a54d7f61d8705fbeecc611191c0d6ccc.png",
      "created_at": "2022-08-01T03:05:06.481Z",
      "last_posted_at": "2022-08-05T03:04:37.062Z",
      "bumped": true,
      "bumped_at": "2023-01-17T14:43:29.522Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 743,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 1126,
            "username": "CodingSuen",
            "name": "CodingSuen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/codingsuen/{size}/1367_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Bulk insert 2 billion records",
      "id": 1253,
      "title": "Bulk insert 2 billion records",
      "slug": "bulk-insert-2-billion-records",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-03-24T10:38:17.344Z",
      "last_posted_at": "2019-03-25T08:43:22.672Z",
      "bumped": true,
      "bumped_at": "2019-03-25T08:43:22.672Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1306,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 419,
            "username": "doublemax",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8e7dd6/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "R/w performance impact and replicas consistency while moving data",
      "id": 567,
      "title": "R/w performance impact and replicas consistency while moving data",
      "slug": "r-w-performance-impact-and-replicas-consistency-while-moving-data",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2018-07-13T06:23:02.381Z",
      "last_posted_at": "2018-07-13T06:23:02.474Z",
      "bumped": true,
      "bumped_at": "2018-07-13T06:23:02.474Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 499,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 327,
            "username": "zhanghuan",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/z/5fc32e/{size}.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 711,
        "username": "osamarin",
        "name": "Oleg Samarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 15,
        "username": "markus.pilman",
        "name": "Markus Pilman",
        "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 711,
      "username": "osamarin",
      "name": "Oleg Samarin",
      "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png"
    },
    "last_poster": {
      "id": 7,
      "username": "SteavedHams",
      "name": "Steve Atherton",
      "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
    }
  },
  "bookmarks": []
}