{
  "post_stream": {
    "posts": [
      {
        "id": 7352,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2020-06-15T13:08:44.441Z",
        "cooked": "<p>Hello!</p>\n<p>I need to scan a huge keyrange in fdb. Because such volume of data can not be processed within a 5-seconds limit, I divide the source keyrange to smaller pieces with LocalityUtil.getBoundaryKeys and then I process the pieces. The database is not changed during the scan so I do not warry about consistency.</p>\n<p>When I make some code like this (in java)</p>\n<pre><code>final CloseableAsyncIterator&lt;byte[]&gt; boundaryKeysIter = LocalityUtil.getBoundaryKeys(db, keyFrom, keyTo);\nbyte[] laskKey = keyFrom;\n\nwhile (boundaryKeys.hasNext()) {\n  final byte[] nextKey = boundaryKeys.next();\n  // do something long with the range lastKey .. nextKey\n  lastKey = nextKey;\n}\n// do something long with the range lastKey .. keyTo\n</code></pre>\n<p>The problem is boundaryKeysIter.hasNext() hangs after about 1500 iterations.</p>\n<p>If I modify my loop to iterate over AsyncUtil.collectRemaining(boundaryKeysIter).get() intead of direct iterationg of boundaryKeysIter then my loop works without hang, but this solution will not work when the boundaryKeys collection does not fit to memory.</p>\n<p>Seems boundaryKeysIter hangs aftersome period of time. When I do something long during iteration then some transactional timeout occur. But I\u2019d prefer to receive an exception for reinitialising boundaryKeysIter from lastKey and not hang.</p>\n<p>What is the right way of iterating through large range keys?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-06-15T18:25:04.859Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 263,
        "reads": 55,
        "readers_count": 54,
        "score": 1321.0,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 4,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292/17",
            "internal": true,
            "reflection": true,
            "title": "Large Range Scans - avoid 5s limit",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 7353,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2020-06-15T13:14:10.035Z",
        "cooked": "<p>I\u2019m not sure about boundaryKeysIter behavior, but scanning large amount of data is quite common pattern. You will find lot of discussions around it in the forum. For example see this for one of the approaches:</p><aside class=\"quote quote-modified\" data-post=\"10\" data-topic=\"292\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\">\n    <a href=\"https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292/10\">Large Range Scans - avoid 5s limit</a> <a class=\"badge-category__wrapper \" href=\"/c/using-foundationdb/7\"><span data-category-id=\"7\" data-drop-close=\"true\" class=\"badge-category \" title=\"Topics related to use of FoundationDB.\"><span class=\"badge-category__name\">Using FoundationDB</span></span></a>\n  </div>\n  <blockquote>\n    Here is the almost complete code snippet that I currently use for this purpose. It should be straight forward to extend/update it: \n// input byte[] start, byte[] end, boolean reverse\nfinal AtomicReference&lt;byte[]&gt; seen = new AtomicReference&lt;&gt;(null);\n\nfdb.readAsync(tx -&gt; {\n    // DO: Set timeout, num retries on the transaction object (tx)\n    byte[] en = end;\n    byte[] st = start;\n\n    if (reverse) {\n        en = seen.get() != null ? seen.get() : end;\n    } else {\n        // Note: nextKey is merg\u2026\n  </blockquote>\n</aside>\n",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-06-15T13:14:10.035Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 52,
        "readers_count": 51,
        "score": 30.4,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292/10",
            "internal": true,
            "reflection": false,
            "title": "Large Range Scans - avoid 5s limit",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7354,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2020-06-15T15:20:42.141Z",
        "cooked": "<p>Thank you for the fast answer.</p>\n<p>I read the topic <a href=\"https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292\" class=\"inline-onebox\">Large Range Scans - avoid 5s limit</a><br>\nand I saw this snipped. Its problem is processing of each key sequencionally.</p>\n<p>I\u2019d like to iterate subranges (not individual keys) sequencially and to start processing of each subrange in parallel with limitation of the number of ranges are processed simultaneously. So sometimes I have to wait until some ranges finished so it takes some time and makes getBoundaryKeys.hasNext hangs.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-06-15T15:20:42.141Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 54,
        "readers_count": 53,
        "score": 25.8,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292",
            "internal": true,
            "reflection": false,
            "title": "Large Range Scans - avoid 5s limit",
            "clicks": 14
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 166,
          "username": "gaurav",
          "name": "gaurav",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7714,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-05T15:02:44.549Z",
        "cooked": "<p>I\u2019m trying to implement something similar using getBoundaryKeys()\u2026 following is the code snippet</p>\n<pre><code class=\"lang-auto\">        List&lt;StaticBuffer&gt; keys = new ArrayList&lt;&gt;();\n        try (CloseableAsyncIterator&lt;byte[]&gt; it = LocalityUtil.getBoundaryKeys(manager.db, db.range().begin, db.range().end)) {\n        \tit.forEachRemaining(key -&gt; keys.add(getBuffer(db.unpack(key).getBytes(0))));\n        }\n</code></pre>\n<p>I\u2019m encountering an error in above code\u2026 below is the error</p>\n<pre><code class=\"lang-auto\">java.lang.IllegalArgumentException: No terminator found for bytes starting at 1\n        at com.apple.foundationdb.tuple.TupleUtil$DecodeState.findNullTerminator(TupleUtil.java:98)\n        at com.apple.foundationdb.tuple.TupleUtil.decode(TupleUtil.java:438)\n        at com.apple.foundationdb.tuple.TupleUtil.unpack(TupleUtil.java:676)\n        at com.apple.foundationdb.tuple.Tuple.fromBytes(Tuple.java:526)\n        at com.apple.foundationdb.subspace.Subspace.unpack(Subspace.java:231)\n        at com.experoinc.janusgraph.diskstorage.foundationdb.FoundationDBKeyValueStore.lambda$getBoundaryKeys$1(FoundationDBKeyValueStore.java:283)\n        at java.util.Iterator.forEachRemaining(Iterator.java:116)\n        at com.experoinc.janusgraph.diskstorage.foundationdb.FoundationDBKeyValueStore.getBoundaryKeys(FoundationDBKeyValueStore.java:283)\n</code></pre>\n<p>Any idea about this?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-05T15:02:44.549Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 49,
        "readers_count": 48,
        "score": 14.8,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7716,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-08-05T15:36:41.661Z",
        "cooked": "<p>Are you able to log the key that it\u2019s failing to decode, and if so would you be comfortable pasting it here? Also, can you confirm that the key begins with the prefix of your <code>db</code> subspace?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-05T15:36:41.661Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 42,
        "readers_count": 41,
        "score": 13.4,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 799,
          "username": "SarthakGhosh16",
          "name": "Sarthak Ghosh16",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7717,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-05T16:29:40.827Z",
        "cooked": "<p>I\u2019m unable to do that. It is throwing error for the first key it is trying to hit.</p>\n<blockquote>\n<p>Are you able to log the key that it\u2019s failing to decode, and if so would you be comfortable pasting it here? Also, can you confirm that the key begins with the prefix of your  <code>db</code>  subspace?</p>\n</blockquote>\n<p>I\u2019m trying to read a large data from FDB and was trying few things\u2026 I\u2019m new to FDB and keep running into issues\u2026 My main concern is following error</p>\n<pre><code class=\"lang-auto\">Caused by: org.janusgraph.diskstorage.PermanentBackendException: Permanent failure in storage backend\n        at com.experoinc.janusgraph.diskstorage.foundationdb.FoundationDBKeyValueStore.getSlice(FoundationDBKeyValueStore.java:171)\n        at org.janusgraph.diskstorage.keycolumnvalue.keyvalue.OrderedKeyValueStoreAdapter.getKeys(OrderedKeyValueStoreAdapter.java:116)\n        at org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.getKeys(KCVSProxy.java:56)\n        at org.janusgraph.diskstorage.BackendTransaction$4.call(BackendTransaction.java:384)\n        at org.janusgraph.diskstorage.BackendTransaction$4.call(BackendTransaction.java:381)\n        at org.janusgraph.diskstorage.util.BackendOperation.executeDirect(BackendOperation.java:68)\n        at org.janusgraph.diskstorage.util.BackendOperation.execute(BackendOperation.java:54)\n        ... 10 more\nCaused by: java.util.concurrent.CompletionException: com.apple.foundationdb.FDBException: Transaction is too old to perform reads or be committed\n        at java.util.concurrent.CompletableFuture.reportJoin(CompletableFuture.java:375)\n        at java.util.concurrent.CompletableFuture.join(CompletableFuture.java:1934)\n        at com.apple.foundationdb.RangeQuery$AsyncRangeIterator.hasNext(RangeQuery.java:250)\n        at com.experoinc.janusgraph.diskstorage.foundationdb.FoundationDBKeyValueStore.getSlice(FoundationDBKeyValueStore.java:160)\n        ... 16 more\nCaused by: com.apple.foundationdb.FDBException: Transaction is too old to perform reads or be committed\n</code></pre>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-05T16:29:40.827Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 42,
        "readers_count": 41,
        "score": 28.4,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7718,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-08-05T18:00:48.795Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"SarthakGhosh16\" data-post=\"6\" data-topic=\"2183\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/48.png\" class=\"avatar\"> SarthakGhosh16:</div>\n<blockquote>\n<p>I\u2019m unable to do that. It is throwing error for the first key it is trying to hit.</p>\n</blockquote>\n</aside>\n<p>It\u2019s throwing it before you even get into the loop, or it\u2019s throwing it the first time in the loop? In other words, could you have something like this?</p>\n<pre><code>    List&lt;StaticBuffer&gt; keys = new ArrayList&lt;&gt;();\n    try (CloseableAsyncIterator&lt;byte[]&gt; it = LocalityUtil.getBoundaryKeys(manager.db, db.range().begin, db.range().end)) {\n    \t// Log key here\n    \tit.forEachRemaining(key -&gt; keys.add(getBuffer(db.unpack(key).getBytes(0))));\n    }\n</code></pre>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-05T18:00:48.795Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 39,
        "readers_count": 38,
        "score": 12.8,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7724,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-06T07:19:08.595Z",
        "cooked": "<p>I modified the code a little to check a <code>key</code></p>\n<pre><code class=\"lang-auto\">        try (CloseableAsyncIterator&lt;byte[]&gt; it = LocalityUtil.getBoundaryKeys(manager.db, db.range().begin, db.range().end)) {\n        \t// Log key here\n        \tif(it.hasNext()) {\n        \t\tbyte[] bytes = it.next();\n        \t\tString s = Base64.getEncoder().encodeToString(bytes);\n        \t\tSystem.out.println(\"LOG: \"+bytes+\" Length: \"+bytes.length+\" String: \"+s);\n        \t}\n        \tit.forEachRemaining(key -&gt; keys.add(getBuffer(db.unpack(key).getBytes(0))));\n        }\n</code></pre>\n<p>This is being logged for <code>if</code> condition</p>\n<pre><code class=\"lang-auto\">LOG: [B@5b970f7 Length: 14 String: FAEA/wD/AP8A/wD/J2I=\n</code></pre>\n<p>It goes inside <code>forEachRemaining</code> loop and fails at</p>\n<pre><code class=\"lang-auto\">getBuffer(db.unpack(key).getBytes(0))\n</code></pre>\n<p>Below is <code>getBuffer()</code></p>\n<pre><code class=\"lang-auto\">    private static StaticBuffer getBuffer(byte[] entry) {\n        return new StaticArrayBuffer(entry);\n    }\n</code></pre>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-06T07:19:08.595Z",
        "reply_count": 2,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 39,
        "readers_count": 38,
        "score": 27.8,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7725,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-06T12:46:57.179Z",
        "cooked": "<p>I was able to execute <code>getBoundaryKeys()</code>\u2026 had to make some changes since <code>StaticBuffer</code> wasn\u2019t working</p>\n<pre><code class=\"lang-auto\">   public List&lt;byte[]&gt; getBoundaryKeys(byte[] startkey, byte[] endkey) {    \t\n        List&lt;byte[]&gt; list = new ArrayList&lt;&gt;();\n        try (CloseableAsyncIterator&lt;byte[]&gt; it = LocalityUtil.getBoundaryKeys(manager.db, startkey, endkey)) {\n        \tCompletableFuture&lt;List&lt;byte[]&gt;&gt; collection = AsyncUtil.collectRemaining(it);\n\t\t\tlist = collection.join();\n        }\n        return list;\n    }\n</code></pre>\n<p>Calling it like this</p>\n<pre><code class=\"lang-auto\">final byte[] foundKey = db.pack(keyStart.as(ENTRY_FACTORY));\nfinal byte[] endKey = db.pack(keyEnd.as(ENTRY_FACTORY));\nList&lt;byte[]&gt; list = new ArrayList&lt;&gt;();\nlist = getBoundaryKeys(foundKey, endKey);\nint i = 0;\nfor(byte[] key : list) {\n        \tSystem.out.println(i++ + \": \" + ByteArrayUtil.printable(key)+\" \"+list.size());\n       }\n</code></pre>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-06T12:46:57.179Z",
        "reply_count": 1,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 36,
        "readers_count": 35,
        "score": 27.2,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 799,
          "username": "SarthakGhosh16",
          "name": "Sarthak Ghosh16",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7726,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-08-06T16:52:08.882Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"SarthakGhosh16\" data-post=\"8\" data-topic=\"2183\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/48.png\" class=\"avatar\"> SarthakGhosh16:</div>\n<blockquote>\n<p><code>FAEA/wD/AP8A/wD/J2I=</code></p>\n</blockquote>\n</aside>\n<p>When I decode this key, I get <code>\\x14\\x01\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff\\x00\\xff'b</code>. The character at index 1 (<code>\\x01</code>) is the type code to start a byte string, and it needs to be terminated by a <code>\\x00</code> character. All of the <code>\\x00</code> characters in the string are immediately followed by <code>\\xff</code>, though, which is used to escape actual null bytes in the string. In other words, this seems to be encoding tuple that looks like <code>(0, \"\\x00\\x00\\x00\\x00\\x00'b\")</code>, except that the byte string is unterminated.</p>\n<p>That explains the error message <code>No terminator found for bytes starting at 1</code>.</p>\n<p>Your second version that works instead uses <code>ByteArrayUtil.printable(key)</code> to print it rather than unpacking the tuple. I suspect this is the reason that it doesn\u2019t fail.</p>\n<p>Thinking about this more, I believe the reason this doesn\u2019t work when you try to decode the tuples is that boundary keys don\u2019t necessarily have to be keys in the database. For efficiency reasons, the keys chosen as the boundary for shards are often a truncated version of actual keys (e.g. if we want to introduce a split between consecutive keys <code>abc</code> and <code>def</code>, the key <code>d</code> will suffice as a split point), and the result of that truncation could be something that is no longer a valid encoded tuple.</p>\n<p>I\u2019m not sure this fact is documented anywhere, which we should probably change (<a href=\"https://github.com/apple/foundationdb/issues/3608\">see GitHub issue</a>).</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-06T17:12:59.505Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 1,
        "incoming_link_count": 2,
        "reads": 36,
        "readers_count": 35,
        "score": 22.2,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/3608",
            "internal": false,
            "reflection": false,
            "title": "Document that the keys returned by getBoundaryKeys API are not necessarily real keys \u00b7 Issue #3608 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 799,
          "username": "SarthakGhosh16",
          "name": "Sarthak Ghosh16",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7745,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-09T21:23:39.517Z",
        "cooked": "<p>Thanks for the explanation, A.J.</p>\n<p>I\u2019m little confused how to proceed after getting <code>boundaryKeys</code>.<br>\nSo I got a List of boundaryKeys of type <code>byte []</code></p>\n<pre><code class=\"lang-auto\">List&lt;byte[]&gt; boundaryKeys\n</code></pre>\n<p>Now this has a size of <code>470</code> for my use case. How do I proceed and get a List of all <code>KeyValueEntry</code> from this boundaryKeys list?</p>\n<pre><code class=\"lang-auto\">List&lt;KeyValueEntry&gt; result\n</code></pre>\n<p>Also, could you look at the following link too?</p><aside class=\"quote quote-modified\" data-post=\"1\" data-topic=\"2280\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/48.png\" class=\"avatar\">\n    <a href=\"https://forums.foundationdb.org/t/foundationdb-as-backend-for-janusgraph-iterate-through-all-vertices/2280\">FoundationDB as backend for JanusGraph - Iterate through all vertices</a> <a class=\"badge-category__wrapper \" href=\"/c/using-layers/14\"><span data-category-id=\"14\" data-drop-close=\"true\" class=\"badge-category \" title=\"Topics related to use of Layers for FoundationDB.\"><span class=\"badge-category__name\">Using Layers</span></span></a>\n  </div>\n  <blockquote>\n    I\u2019m using JanusGraph 0.4.1 and FDB 6.2.22 as backend to store data. I\u2019m using FDB-JG adaptor code to connect, store and fetch data \n \n \nThe problem comes when data size is more, for eg. 2M vertices, and we watch to iterate through all of them\u2026 \neg: \ntransaction.vertices().forEachRemaining()\n\nIt fails in \npublic RecordIterator&lt;KeyValueEntry&gt; getSlice(KVQuery query, StoreTransaction txh) throws BackendException\n{\n        final FoundationDBTx tx = getTransaction(txh);\n        final StaticBuffer key\u2026\n  </blockquote>\n</aside>\n\n<p>Thanks for the help!!</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-09T21:23:39.517Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 33,
        "readers_count": 32,
        "score": 21.6,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/foundationdb-as-backend-for-janusgraph-iterate-through-all-vertices/2280",
            "internal": true,
            "reflection": false,
            "title": "FoundationDB as backend for JanusGraph - Iterate through all vertices",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7748,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-08-10T15:20:47.449Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"SarthakGhosh16\" data-post=\"11\" data-topic=\"2183\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/s/ba9def/48.png\" class=\"avatar\"> SarthakGhosh16:</div>\n<blockquote>\n<p>Now this has a size of <code>470</code> for my use case. How do I proceed and get a List of all <code>KeyValueEntry</code> from this boundaryKeys list?</p>\n</blockquote>\n</aside>\n<p>Are you asking to convert the boundary keys entries into <code>KeyValueEntry</code> objects? I take it this is the JanusGraph object, which I\u2019m not really familiar with, but the boundary keys are not key-value pairs and this may not be the best representation for them. Instead, the boundary keys list contains just keys, and a type that represents that may be more appropriate (a key is just a byte string, so your type would probably need to be something that wraps a byte string).</p>\n<p>What specifically are you trying to do with the boundary keys once you have them?</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-10T15:20:47.449Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 1,
        "incoming_link_count": 2,
        "reads": 32,
        "readers_count": 31,
        "score": 21.4,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 7770,
        "name": "Sarthak Ghosh16",
        "username": "SarthakGhosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "created_at": "2020-08-12T17:02:10.244Z",
        "cooked": "<p>Through <code>BoundaryKeys</code> list, I iterated through them to get all the <code>KeyValueEntry</code>.<br>\nBasically, I used first key as start key and second key as end key to the get an Iterable range and then iterated through this range to get KeyValueEntry.</p>\n<pre><code class=\"lang-auto\">            Iterable&lt;KeyValue&gt; range = tx.getRangeAsync(startKey, endKey, limit);\n            return Iterators.filter(\n                Iterators.transform(range.iterator(), keyValue -&gt; {\n                \tStaticBuffer key = getBuffer(db.unpack(keyValue.getKey()).getBytes(0));\n                    if (selector == null || selector.include(key)) {\n                        return new KeyValueEntry(key, getBuffer(keyValue.getValue()));\n                    } else {\n                        return null;\n                    }\n                }),\n                keyValue -&gt; keyValue != null);\n</code></pre>\n<p>This process is slow though. Takes up a lot of time if boundary keys are more.</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-08-12T17:02:10.244Z",
        "reply_count": 0,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 32,
        "readers_count": 31,
        "score": 16.4,
        "yours": false,
        "topic_id": 2183,
        "topic_slug": "scanning-a-large-range-with-locality-api-hangs",
        "display_username": "Sarthak Ghosh16",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 799,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/scanning-a-large-range-with-locality-api-hangs/2183/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      7352,
      7353,
      7354,
      7714,
      7716,
      7717,
      7718,
      7724,
      7725,
      7726,
      7745,
      7748,
      7770
    ]
  },
  "timeline_lookup": [
    [
      1,
      1954
    ],
    [
      4,
      1903
    ],
    [
      9,
      1902
    ],
    [
      11,
      1899
    ],
    [
      12,
      1898
    ],
    [
      13,
      1896
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Scanning a large range with Locality API hangs",
  "id": 2183,
  "title": "Scanning a large range with Locality API hangs",
  "posts_count": 13,
  "created_at": "2020-06-15T13:08:44.375Z",
  "views": 1961,
  "reply_count": 10,
  "like_count": 0,
  "last_posted_at": "2020-08-12T17:02:10.244Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "scanning-a-large-range-with-locality-api-hangs",
  "category_id": 7,
  "word_count": 1654,
  "deleted_at": null,
  "user_id": 711,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2183",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 13,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Large Range Scans - avoid 5s limit",
      "id": 292,
      "title": "Large Range Scans - avoid 5s limit",
      "slug": "large-range-scans-avoid-5s-limit",
      "posts_count": 35,
      "reply_count": 26,
      "highest_post_number": 36,
      "image_url": null,
      "created_at": "2018-04-27T16:55:36.641Z",
      "last_posted_at": "2022-09-12T17:09:06.929Z",
      "bumped": true,
      "bumped_at": "2022-09-12T17:09:06.929Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 23,
      "views": 7854,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 695,
            "username": "nischalkumar",
            "name": "nischal kumar",
            "avatar_template": "/user_avatar/forums.foundationdb.org/nischalkumar/{size}/933_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 997,
            "username": "mping",
            "name": "Miguel Ping",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mping/{size}/1180_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB as backend for JanusGraph - Iterate through all vertices",
      "id": 2280,
      "title": "FoundationDB as backend for JanusGraph - Iterate through all vertices",
      "slug": "foundationdb-as-backend-for-janusgraph-iterate-through-all-vertices",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2020-08-06T18:41:32.903Z",
      "last_posted_at": "2020-08-10T03:42:01.690Z",
      "bumped": true,
      "bumped_at": "2020-08-10T10:38:29.945Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2118,
      "category_id": 14,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 799,
            "username": "SarthakGhosh16",
            "name": "Sarthak Ghosh16",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        }
      ]
    },
    {
      "fancy_title": "How Record Layer Provides APIs to Handle Large Range Scan Longer Than 5 seconds",
      "id": 2400,
      "title": "How Record Layer Provides APIs to Handle Large Range Scan Longer Than 5 seconds",
      "slug": "how-record-layer-provides-apis-to-handle-large-range-scan-longer-than-5-seconds",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2020-10-21T09:53:59.939Z",
      "last_posted_at": "2020-12-16T17:43:49.426Z",
      "bumped": true,
      "bumped_at": "2020-12-16T17:43:49.426Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1805,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 531,
            "username": "jltz",
            "name": "Jun Li",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/c0e974/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 775,
            "username": "iamquang95",
            "name": "Quang Le Hong",
            "avatar_template": "/user_avatar/forums.foundationdb.org/iamquang95/{size}/889_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 34,
            "username": "scgray",
            "name": "Scott Gray",
            "avatar_template": "/user_avatar/forums.foundationdb.org/scgray/{size}/30_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Missing API for getting just the count of a key range?",
      "id": 444,
      "title": "Missing API for getting just the count of a key range?",
      "slug": "missing-api-for-getting-just-the-count-of-a-key-range",
      "posts_count": 14,
      "reply_count": 9,
      "highest_post_number": 14,
      "image_url": null,
      "created_at": "2018-05-21T09:23:36.938Z",
      "last_posted_at": "2018-09-10T16:25:03.060Z",
      "bumped": true,
      "bumped_at": "2018-09-10T16:25:03.060Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 3599,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 208,
            "username": "cloudspeech",
            "name": "Cloudspeech",
            "avatar_template": "/user_avatar/forums.foundationdb.org/cloudspeech/{size}/330_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 31,
            "username": "dicklacara",
            "name": "Richard Applebaum",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8797f3/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Why can I only range read 2857 keys?",
      "id": 1517,
      "title": "Why can I only range read 2857 keys?",
      "slug": "why-can-i-only-range-read-2857-keys",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-07-13T06:06:58.493Z",
      "last_posted_at": "2019-07-13T19:32:13.906Z",
      "bumped": true,
      "bumped_at": "2019-07-13T19:32:13.906Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 634,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 542,
            "username": "jonahwest",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/90db22/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 799,
        "username": "SarthakGhosh16",
        "name": "Sarthak Ghosh16",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 711,
        "username": "osamarin",
        "name": "Oleg Samarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      }
    ],
    "created_by": {
      "id": 711,
      "username": "osamarin",
      "name": "Oleg Samarin",
      "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png"
    },
    "last_poster": {
      "id": 799,
      "username": "SarthakGhosh16",
      "name": "Sarthak Ghosh16",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/ba9def/{size}.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/large-range-scans-avoid-5s-limit/292",
        "title": "Large Range Scans - avoid 5s limit",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 14,
        "user_id": 711,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/3608",
        "title": "Document that the keys returned by getBoundaryKeys API are not necessarily real keys \u00b7 Issue #3608 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}