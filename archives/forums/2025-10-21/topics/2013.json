{
  "post_stream": {
    "posts": [
      {
        "id": 6473,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2020-03-19T17:15:28.884Z",
        "cooked": "<hr>\n<h2>Question 1</h2>\n<p>Hi, there have been few posts (<a href=\"https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/4\">here</a>, <a href=\"https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/5\">here</a>,  <a href=\"https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/2\">here</a> and <a href=\"https://forums.foundationdb.org/t/production-deployment/522/4\">here</a>) that warn of severe performance degradation if <code>SS</code> and <code>TLOGs</code> either share (i) process or (ii) disk. Can someone please provide an intuition for the reason for this degradation?</p>\n<p>Some reasons given in above threads are related to SS saturating the CPU when doing heavy work and thereby causing starvation of CPU for tLogs. While others talk about total disk IO saturation being the reason (but afaik SSDs are hard to saturate if there is high enough concurrency).</p>\n<hr>\n<h2>Question 2</h2>\n<p>When trying to determine IO characteristics of Storage servers for read and write operations, there have been posts (<a href=\"https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015\">here</a> and <a href=\"https://forums.foundationdb.org/t/how-to-troubleshoot-throughput-performance-degrade/1436/7\">here</a>) that suggest that <code>SS</code> issues all <code>write IO</code> at a single io-depth - implying that <code>SS</code>'s write capacity will be bound by the underlying storage\u2019s <code>serial</code> write IO throughput (i.e. <code>fio --ioengine=libaio  --direct=1 --iodepth=1</code>).</p>\n<p>However, <a class=\"mention\" href=\"/u/steavedhams\">@SteavedHams</a> and <a class=\"mention\" href=\"/u/markus.pilman\">@markus.pilman</a> have later clarified (<a href=\"https://forums.foundationdb.org/t/storage-queue-limiting-performance-when-initially-loading-data/1135/11\">here</a> and <a href=\"https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/4\">here</a>) that it is not the <code>writes IO</code> that are issued at single io-depth, but rather, the single io-depth limit is for the <code>read IO</code> that fetch disk-blocks prior to writing those back - implying that the limiting factor for SS write capacity will be determined by serial <code>read IO</code> throughput at single io-depth (i.e. <code>fio --ioengine=libaio --direct=1 --iodepth=1</code>).</p>\n<p>It would be very helpful if there is an under-the-hood explanation of how the writes work in SS and how does one reason about the IO characteristics of a Storage Server.</p>\n<p>In practice, my observations seem to match the suggestions that Write IO happen at a much larger io-depth: whenever SS are doing heavy writes, <code>iostat</code> tool shows a much higher queue-depth.</p>\n<hr>\n<p>It would be great if these suggestions could be clarified/consolidated, and any inaccuracies be corrected. It will be very helpful in determining the likelihood of saturation apriori in environments where such decisions have to be taken based on some pre-checks (like fio) before installing and actually running fdb-based component.</p>\n<p>All the questions/observations above are for <code>ssd-2</code> storage engine; but similar guidance will be useful for <code>redwood</code> storage engine when it arrives.</p>\n<p>thanks, gaurav</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-19T21:12:56.024Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 97,
        "reads": 44,
        "readers_count": 43,
        "score": 503.8,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/5",
            "internal": true,
            "reflection": false,
            "title": "WARNING: A single process is both a transaction log and a storage server",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/how-to-troubleshoot-throughput-performance-degrade/1436/7",
            "internal": true,
            "reflection": false,
            "title": "How to troubleshoot throughput performance degrade?",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015",
            "internal": true,
            "reflection": false,
            "title": "SSD engine and IO queue depth",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/production-deployment/522/4",
            "internal": true,
            "reflection": false,
            "title": "Production deployment",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/4",
            "internal": true,
            "reflection": false,
            "title": "WARNING: A single process is both a transaction log and a storage server",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/2",
            "internal": true,
            "reflection": false,
            "title": "SSD engine and IO queue depth",
            "clicks": 1
          },
          {
            "url": "https://forums.foundationdb.org/t/storage-queue-limiting-performance-when-initially-loading-data/1135/11",
            "internal": true,
            "reflection": false,
            "title": "Storage queue limiting performance when initially loading data",
            "clicks": 1
          },
          {
            "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/4",
            "internal": true,
            "reflection": false,
            "title": "SSD engine and IO queue depth",
            "clicks": 1
          },
          {
            "url": "https://forums.foundationdb.org/t/understand-fdb-read-write-with-disk-iops-throughtput-blocksize/3852",
            "internal": true,
            "reflection": true,
            "title": "Understand FDB read/write with disk IOPS/throughtput/Blocksize",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 6477,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-03-19T22:18:51.133Z",
        "cooked": "<p>For <span class=\"hashtag\">#1</span>, two other considerations are</p>\n<ul>\n<li>The logs call fsync() for every commit version, so hundreds of times per second, while storage servers only call it once or twice per second.  I think most drives incur some small hiccup in performance while an fsync is pending.</li>\n<li>An SSD\u2019s write performance per pattern (linear vs random) under a mixed linear+random workload is usually not the same as what each workload can achieve individually.  I\u2019m not entirely sure why this is, but it\u2019s a thing.  In other words, if a drive can do 300MB/s linear and 50MB/s random writes, if you do 25MB/s of random writes you do <em>not</em> still have 150MB/s of linear write budget remaining, it is something less.</li>\n</ul>\n<p>For <span class=\"hashtag\">#2</span>, I certainly agree that storage server I/O characteristics should be better explained and in one place.  Probably the single most detailed source of this information right now is my presentation and side deck from the 2019 summit.  The slides can be found here, the video is not yet linked but should be soon.  <a href=\"https://forums.foundationdb.org/t/foundationdb-summit-2019-redwood-storage-engine-update/1750\" class=\"inline-onebox\">FoundationDB Summit 2019: Redwood Storage Engine Update</a></p>\n<p>Regarding the write queue depth:  FDB uses SQLite on top of a file caching layer that holds all writes in memory until commit time and then issues them to disk all at once.  This is to coalesce multiple writes of the same pages during the commit cycle.  So yes, the write queue depth is large <em>when writes are being done</em> but for much of the time writes are not being done, and the bottleneck is for the single threaded writer to read the uncached pages it requires as it traverses the tree for each mutation and applies its changes.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-19T22:18:51.133Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 38,
        "readers_count": 37,
        "score": 47.6,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/foundationdb-summit-2019-redwood-storage-engine-update/1750",
            "internal": true,
            "reflection": false,
            "title": "FoundationDB Summit 2019: Redwood Storage Engine Update",
            "clicks": 9
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6484,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2020-03-20T14:39:39.364Z",
        "cooked": "<p>Thanks Steve for these explanations! The 2019 fdb talk of yours helped clear a lot of doubts.</p>\n<p>One more question:</p>\n<aside class=\"quote no-group\" data-username=\"SteavedHams\" data-post=\"2\" data-topic=\"2013\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/steavedhams/48/18_2.png\" class=\"avatar\"> SteavedHams:</div>\n<blockquote>\n<p>I think most drives incur some small hiccup in performance while an fsync is pending.</p>\n</blockquote>\n</aside>\n<p>Where would you think <code>fsync()</code> performance hit will most likely have an impact? Is it that the event-loop will be blocked for a small duration when fsync() is being submitted (I am assuming that event loop is shared by tlog and SS in a single process)? Or will it cause other IOs to take more time while being submitted due to an outstanding fsync(), thereby blocking the event-loop. Or do the IOs themselves take more time to complete on SSD if there are any outstanding fsync() calls?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-20T14:39:39.364Z",
        "reply_count": 2,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 33,
        "readers_count": 32,
        "score": 16.6,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6485,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2020-03-20T15:25:57.463Z",
        "cooked": "<p>I think the main concern is with doing simultaneous IOs, and on the storage server you\u2019ll be most interested in the performance of reads. The <code>fsync</code> should be asynchronous and not block the event loop, and assuming everything works smoothly with kernel async IO during this time (which may not be a given), other IOs shouldn\u2019t block the run loop. One exception to this is with truncations, which are synchronous and could block the event loop if an <code>fsync</code> caused them to be slow.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-20T15:25:57.463Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 31,
        "readers_count": 30,
        "score": 31.2,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 166,
          "username": "gaurav",
          "name": "gaurav",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6487,
        "name": "Russell Sears",
        "username": "sears",
        "avatar_template": "/user_avatar/forums.foundationdb.org/sears/{size}/887_2.png",
        "created_at": "2020-03-20T16:49:35.389Z",
        "cooked": "<p>Mixed read/write performance is strongly dependent on the firmware of the underlying drive.  On modern drives (especially ones that use LDPC error correction) reads are usually bottlenecked by the error corrector\u2019s decode path, and that hardware is not used by the write path.</p>\n<p>The number of fsyncs shouldn\u2019t be an issue on enterprise drives, as the fsync\u2019ed data should land in non-volatile RAM that\u2019s flushed to NAND at power loss (or when it fills up).</p>\n<p>Concurrent writes lead to poor read performance because the writes cause the drive firmware to garbage collect and wear level the underlying media.  If the data is laid out poorly, the garbage collector needs to compact blocks by partially reading them, and that competes with host reads.</p>\n<p>The RocksDB team (and other LSM implementations) have had good luck using the NVMe multi-stream extensions to tell the drive that some writes are logically independent of other writes, and that they have different expected lifetimes.  The drive uses this information to place the data to optimize future garbage collection operations.  I suspect that FDB could do something similar, and ensure that the tlogs and ss are being written to different NVMe streams.  For a fair comparison, we should stripe the tlogs across the available drives, and think about how to distribute the storage server data to use all the hardware parallelism.</p>\n<p>Here\u2019s Samsung\u2019s multi-stream presentation from the Flash Memory Summit:  <a href=\"https://www.samsung.com/us/labs/pdfs/2016-08-fms-multi-stream-v4.pdf\" rel=\"nofollow noopener\">https://www.samsung.com/us/labs/pdfs/2016-08-fms-multi-stream-v4.pdf</a></p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-20T16:49:35.389Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 30,
        "readers_count": 29,
        "score": 11.0,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "Russell Sears",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://www.samsung.com/us/labs/pdfs/2016-08-fms-multi-stream-v4.pdf",
            "internal": false,
            "reflection": false,
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 741,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6491,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2020-03-21T04:03:12.493Z",
        "cooked": "<p>Thanks AJ. From what I gathered so far, the key reason for not co-locating logs and SS on same disk or process is to avoid saturating the disk due to excessive IOs. But if the SSD is able to support large concurrency (io depth), which almost every SSD is able to, then would tlog and SS being on same disk matter?</p>\n<p>In most scenarios I have seen that SS is bottlenecked by the single io-depth <code>read</code> performance when doing writes. Other than a possibility that tlog IO operations (write + fsync) are somehow reducing the <code>SS read IOPS</code> occuring concurrently with tlogs, there does not seem to be any other strong reason that I could understand for why these cannot be collocated.</p>\n<p>I may be missing something obvious or repeating questions here - but it is only because I am still trying to get my head around how the IO interactions from tlog affect SS performance.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-21T10:26:54.962Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 28,
        "readers_count": 27,
        "score": 10.6,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6492,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-03-21T08:20:47.511Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"3\" data-topic=\"2013\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>Where would you think <code>fsync()</code> performance hit will most likely have an impact?</p>\n</blockquote>\n</aside>\n<p>Read latencies, though maybe this is no longer an issue at the disk level (EDIT: or maybe it never was?  See below).  Something a few years ago led me to believe that fsync\u2019s were stalling read operations, so I did a non-fdb (but still using flow) test where one process is serially reading uncached blocks and printing read latency and another process writes one random block and calls fsync(), and the fsync calls correlated with a large spike in read latency.</p>\n<p>I tried a few different disks from different manufacturers and got similar results however since I recently learned that iosubmit() can block for milliseconds (for reasons having nothing to do with the disk) I\u2019m now wondering if perhaps that\u2019s really what was going on.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 7,
        "updated_at": "2020-03-21T08:22:08.713Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 14,
        "reads": 28,
        "readers_count": 27,
        "score": 90.6,
        "yours": false,
        "topic_id": 2013,
        "topic_slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss/2013/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      6473,
      6477,
      6484,
      6485,
      6487,
      6491,
      6492
    ]
  },
  "timeline_lookup": [
    [
      1,
      2042
    ],
    [
      3,
      2041
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Reasons for not co-locating tlog and SS? IO characteristics of SS",
  "id": 2013,
  "title": "Reasons for not co-locating tlog and SS? IO characteristics of SS",
  "posts_count": 7,
  "created_at": "2020-03-19T17:15:28.818Z",
  "views": 1473,
  "reply_count": 4,
  "like_count": 4,
  "last_posted_at": "2020-03-21T08:20:47.511Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "reasons-for-not-co-locating-tlog-and-ss-io-characteristics-of-ss",
  "category_id": 7,
  "word_count": 1579,
  "deleted_at": null,
  "user_id": 166,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2013",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 7,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "SSD engine and IO queue depth",
      "id": 1015,
      "title": "SSD engine and IO queue depth",
      "slug": "ssd-engine-and-io-queue-depth",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-01-14T17:19:55.209Z",
      "last_posted_at": "2019-09-10T16:34:57.257Z",
      "bumped": true,
      "bumped_at": "2019-09-10T16:34:57.257Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2619,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Troubleshooting queue build up",
      "id": 1493,
      "title": "Troubleshooting queue build up",
      "slug": "troubleshooting-queue-build-up",
      "posts_count": 12,
      "reply_count": 4,
      "highest_post_number": 12,
      "image_url": null,
      "created_at": "2019-06-26T16:10:34.171Z",
      "last_posted_at": "2019-12-13T13:33:29.583Z",
      "bumped": true,
      "bumped_at": "2019-12-13T13:33:29.583Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1656,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Some Clarification on Storage Engine and Disk/IO",
      "id": 1453,
      "title": "Some Clarification on Storage Engine and Disk/IO",
      "slug": "some-clarification-on-storage-engine-and-disk-io",
      "posts_count": 13,
      "reply_count": 8,
      "highest_post_number": 13,
      "image_url": null,
      "created_at": "2019-06-13T18:18:46.358Z",
      "last_posted_at": "2019-07-23T06:20:18.977Z",
      "bumped": true,
      "bumped_at": "2019-07-23T06:20:18.977Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 2341,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 594,
            "username": "zhuyi29",
            "name": "Zoe",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/z/edb3f5/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "How to troubleshoot throughput performance degrade?",
      "id": 1436,
      "title": "How to troubleshoot throughput performance degrade?",
      "slug": "how-to-troubleshoot-throughput-performance-degrade",
      "posts_count": 36,
      "reply_count": 24,
      "highest_post_number": 36,
      "image_url": "https://global.discourse-cdn.com/foundationdb/original/1X/9c9854ce87e53265f75154876f180812ee93f8ec.png",
      "created_at": "2019-06-10T10:09:55.810Z",
      "last_posted_at": "2019-06-20T21:36:30.209Z",
      "bumped": true,
      "bumped_at": "2019-06-20T21:36:30.209Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 8,
      "views": 4377,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 597,
            "username": "rayjcwu",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rayjcwu/{size}/602_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 592,
            "username": "nfeinberg",
            "name": "Nicholas Feinberg",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/ba8739/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Is there more detailed design documents?",
      "id": 274,
      "title": "Is there more detailed design documents?",
      "slug": "is-there-more-detailed-design-documents",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-04-26T02:18:24.374Z",
      "last_posted_at": "2018-04-30T14:17:28.607Z",
      "bumped": true,
      "bumped_at": "2018-04-30T14:17:28.607Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 1520,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 146,
            "username": "bigdata86",
            "name": "Wangmeng",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/cdc98d/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 61,
            "username": "Ooogwayduh_Rock",
            "name": "Van L",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ooogwayduh_rock/{size}/46_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 741,
        "username": "sears",
        "name": "Russell Sears",
        "avatar_template": "/user_avatar/forums.foundationdb.org/sears/{size}/887_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "last_poster": {
      "id": 7,
      "username": "SteavedHams",
      "name": "Steve Atherton",
      "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/foundationdb-summit-2019-redwood-storage-engine-update/1750",
        "title": "FoundationDB Summit 2019: Redwood Storage Engine Update",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 9,
        "user_id": 7,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/how-to-troubleshoot-throughput-performance-degrade/1436/7",
        "title": "How to troubleshoot throughput performance degrade?",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/production-deployment/522/4",
        "title": "Production deployment",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015",
        "title": "SSD engine and IO queue depth",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/5",
        "title": "WARNING: A single process is both a transaction log and a storage server",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/warning-a-single-process-is-both-a-transaction-log-and-a-storage-server/1580/4",
        "title": "WARNING: A single process is both a transaction log and a storage server",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/storage-queue-limiting-performance-when-initially-loading-data/1135/11",
        "title": "Storage queue limiting performance when initially loading data",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/2",
        "title": "SSD engine and IO queue depth",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/ssd-engine-and-io-queue-depth/1015/4",
        "title": "SSD engine and IO queue depth",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 166,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}