{
  "post_stream": {
    "posts": [
      {
        "id": 4183,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-05-28T13:00:44.657Z",
        "cooked": "<p>Hi, I have an 8-node cluster with 2 febserver process running on each (v6.0.15). The topology of the cluster can be seen from the screenshot below. I frequently see in this cluster that one of the SS develops both a high data_lag (<code>data_lag-&gt;seconds</code>) and high durability_lag(<code>durability_lag-&gt;seconds</code>). I am unable to find out the reason for this. The cluster seems only to be moderately loaded.</p>\n<p>Any pointers on how to debug this further will be very helpful:</p>\n<p><a href=\"http://snippi.com/s/vc9d0je\" rel=\"nofollow noopener\"> Status Json</a></p>\n<p>On the lagging process (10.196.78.162:4500, I see following kinds logs above severity 10):</p>\n<pre><code class=\"lang-auto\">&lt;Event Severity=\"20\" Time=\"1559047903.276518\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520451207836\" DurableVersion=\"1517261749412\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047904.277512\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520451207836\" DurableVersion=\"1517261749412\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.278558\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520451207836\" DurableVersion=\"1517261749412\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.488639\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520454143590\" DurableVersion=\"1517265129285\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.508182\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520455598618\" DurableVersion=\"1517272800465\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.554610\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520458034806\" DurableVersion=\"1517275101043\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.630482\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520461014779\" DurableVersion=\"1517280540285\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047905.676272\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517286780238\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047906.678751\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517287075963\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047907.632185\" Type=\"SlowSSLoopx100\" ID=\"c010af68cb32eb52\" Elapsed=\"0.0600758\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047907.679207\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517287075963\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047908.600749\" Type=\"FetchPast\" ID=\"c010af68cb32eb52\" TotalAttempts=\"112640\" FKID=\"93a98b2b798e44c1\" V=\"1520462329085\" N=\"1520462329085\" E=\"1520462329085\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047908.679482\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517287075963\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047909.681028\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517287075963\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047910.681947\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520462329085\" DurableVersion=\"1517287075963\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.018044\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520464161755\" DurableVersion=\"1517288247848\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.036774\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520466735558\" DurableVersion=\"1517289913248\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.054719\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520468120733\" DurableVersion=\"1517291493154\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.078749\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520470167786\" DurableVersion=\"1517296071337\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.097467\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520473575353\" DurableVersion=\"1517299817340\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.125359\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520475647147\" DurableVersion=\"1517304361907\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.144527\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520477655758\" DurableVersion=\"1517305764326\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047911.182338\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520479263127\" DurableVersion=\"1517306679220\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047912.186457\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520479263127\" DurableVersion=\"1517306679220\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047913.188647\" Type=\"StorageServerUpdateLag\" ID=\"c010af68cb32eb52\" Version=\"1520479263127\" DurableVersion=\"1517306679220\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1559047913.473041\" Type=\"FetchPast\" ID=\"c010af68cb32eb52\" TotalAttempts=\"115712\" FKID=\"78842ee4f8ae4547\" V=\"1520479263127\" N=\"1520479263127\" E=\"1520479263127\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n</code></pre>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9.png\" title=\"Screen Shot 2019-05-28 at 6.24.14 PM.png\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_690x495.png\" alt=\"14%20PM\" width=\"690\" height=\"495\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_690x495.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_1035x742.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_1380x990.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">Screen Shot 2019-05-28 at 6.24.14 PM.png</span><span class=\"informations\">1978\u00d71420 419 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-28T13:20:05.920Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 201,
        "reads": 101,
        "readers_count": 100,
        "score": 1030.2,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "http://snippi.com/s/vc9d0je",
            "internal": false,
            "reflection": false,
            "title": "Snippi",
            "clicks": 10
          },
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9.png",
            "internal": false,
            "reflection": false,
            "title": "8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 4184,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-05-28T15:58:26.762Z",
        "cooked": "<p>Is it the same process that lags every time? Often when I\u2019ve seen something like this, there\u2019s something wrong with the host that\u2019s preventing it from keeping up. I don\u2019t see anything else from your stats that seems like a good lead.</p>\n<p>If you can\u2019t find anything, you could also try to exclude the process and see if the cluster behaves well. Then if you wanted you could try to reinclude it and see if it that process runs into problems again. Or you could try to run some other stress test on the process so as not to pollute your cluster.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-28T15:58:26.762Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 93,
        "readers_count": 92,
        "score": 23.6,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4202,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-05-29T11:28:43.830Z",
        "cooked": "<p>Thanks, <a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a>.<br>\nYes, this is one server that has a tendency to get stuck. I got some more logs above severity 20 from this machine that point to some disk errors. However, I cannot immediately fully understand the information being conveyed in these. Could you please see these? Thanks so much!</p>\n<p>Specifically, do these error lines point to permanent failure of the SS worker? If so, it appears that this process is in some \u201czombie\u201d state instead of being killed. Is that expected behavior?<br>\nI am using the option <code>io_trust_seconds = 20</code> for fdbserver (maybe related to timeout errors?).</p>\n<pre><code class=\"lang-auto\">&lt;Event Severity=\"40\" Time=\"1559081026.661524\" Type=\"StorageServerFailed\" ID=\"c010af68cb32eb52\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Reason=\"Error\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0xaae7db 0xaaf0fc 0xaaf274 0xa9d233 0xa9d537 0x45cd09 0xaaa8cc 0xaaab58 0x4f03b8 0x4f06f7 0x45cd09 0xaddf20 0xade394 0x45cd09 0xaa370b 0xaa3aa0 0x4f03b8 0x4f06f7 0x45cd09 0x5fda60 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081026.661524\" Type=\"WorkerFailed\" ID=\"c81c5d7300968eb7\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Reason=\"WorkerError\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0xaae7db 0xaaf6cb 0xaafa6b 0x45cd09 0xaaf175 0xaaf274 0xa9d233 0xa9d537 0x45cd09 0xaaa8cc 0xaaab58 0x4f03b8 0x4f06f7 0x45cd09 0xaddf20 0xade394 0x45cd09 0xaa370b 0xaa3aa0 0x4f03b8 0x4f06f7 0x45cd09 0x5fda60 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n...\n&lt;Event Severity=\"40\" Time=\"1559081027.827925\" Type=\"WorkerServer\" ID=\"0000000000000000\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x5fd766 0x5fd987 0x45cd09 0xaa8952 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.827925\" Type=\"StopAfterError\" ID=\"0000000000000000\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x94cde7 0x94d0f7 0x45cd09 0x52db2d 0x45cd09 0xa9ebd2 0xa9efd7 0x45cd09 0x52db2d 0x45cd09 0x5fd783 0x5fd987 0x45cd09 0xaa8952 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n</code></pre>\n<p>Full logs:</p>\n<pre><code class=\"lang-auto\">&lt;Event Severity=\"30\" Time=\"1558426937.945936\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"10500\" MClocks=\"3265.48\" Duration=\"1.48431\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:10138\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1558426939.724215\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"9000\" MClocks=\"541.682\" Duration=\"0.246221\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:10138\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1558426940.169407\" Type=\"FailureMonitorClientSlow\" ID=\"0000000000000000\" Elapsed=\"3.45602\" Expected=\"0.1\" Machine=\"10.196.78.162:10138\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559071549.305820\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"684.447\" Duration=\"0.311114\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559075913.947347\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"778.822\" Duration=\"0.354012\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"55751970816\" Ptr=\"140735483731968\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"51079520256\" Ptr=\"140736127582208\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"30361763840\" Ptr=\"140736458969088\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"30361812992\" Ptr=\"140736166064128\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"30361866240\" Ptr=\"140735396265984\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"18616791040\" Ptr=\"140736894042112\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"21165961216\" Ptr=\"140736624898048\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"9695883264\" Ptr=\"140736155959296\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"35209949184\" Ptr=\"140734980591616\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"17618251776\" Ptr=\"140735106314240\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"11842953216\" Ptr=\"140736152465408\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"3780812800\" Ptr=\"140735511056384\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"45969174528\" Ptr=\"140735090565120\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"9308602368\" Ptr=\"140736556589056\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"35944521728\" Ptr=\"140736532815872\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"17962188800\" Ptr=\"140735370956800\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"10939691008\" Ptr=\"140736224985088\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"111964160\" Ptr=\"140734942621696\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.293712\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"9150\" MClocks=\"639.82\" Duration=\"0.290829\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.584695\" Type=\"AsyncFileKAIOTimeout\" ID=\"0000000000000000\" Fd=\"56\" Op=\"0\" Nbytes=\"4096\" Offset=\"679956480\" Ptr=\"140735823495168\" Filename=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081026.612489\" Type=\"DiskError\" ID=\"0000000000000000\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" In=\"BtreeMovetoUnpacked\" File=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" SQLiteError=\"disk I/O error\" SQLiteErrorCode=\"266\" UnixErrorCode=\"0\" UnixError=\"Success\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x6eb3d8 0x6eccca 0x6ef6c5 0x6f5505 0x5f9989 0x5f7029 0x130a26f 0x7ffff71255d0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081026.661524\" Type=\"StorageServerFailed\" ID=\"c010af68cb32eb52\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Reason=\"Error\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0xaae7db 0xaaf0fc 0xaaf274 0xa9d233 0xa9d537 0x45cd09 0xaaa8cc 0xaaab58 0x4f03b8 0x4f06f7 0x45cd09 0xaddf20 0xade394 0x45cd09 0xaa370b 0xaa3aa0 0x4f03b8 0x4f06f7 0x45cd09 0x5fda60 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081026.661524\" Type=\"WorkerFailed\" ID=\"c81c5d7300968eb7\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Reason=\"WorkerError\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0xaae7db 0xaaf6cb 0xaafa6b 0x45cd09 0xaaf175 0xaaf274 0xa9d233 0xa9d537 0x45cd09 0xaaa8cc 0xaaab58 0x4f03b8 0x4f06f7 0x45cd09 0xaddf20 0xade394 0x45cd09 0xaa370b 0xaa3aa0 0x4f03b8 0x4f06f7 0x45cd09 0x5fda60 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081026.661524\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"7010\" MClocks=\"804.704\" Duration=\"0.365777\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.029538\" Type=\"DiskError\" ID=\"0000000000000000\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" In=\"BtreeMovetoUnpacked\" File=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" SQLiteError=\"disk I/O error\" SQLiteErrorCode=\"266\" UnixErrorCode=\"0\" UnixError=\"Success\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x6eb3d8 0x6eccca 0x6eeb53 0x6f4986 0x5f9989 0x5f7029 0x130a26f 0x7ffff71255d0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.030633\" Type=\"DiskError\" ID=\"0000000000000000\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" In=\"BtreeMovetoUnpacked\" File=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" SQLiteError=\"disk I/O error\" SQLiteErrorCode=\"266\" UnixErrorCode=\"0\" UnixError=\"Success\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x6eb3d8 0x6eccca 0x6ef2ce 0x6f5505 0x5f9989 0x5f7029 0x130a26f 0x7ffff71255d0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt; -- lot of DiskError here -- &gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.159487\" Type=\"DiskError\" ID=\"0000000000000000\" Error=\"io_error\" ErrorDescription=\"Disk i/o operation failed\" ErrorCode=\"1510\" In=\"checkpoint\" File=\"/var/lib/foundationdb/data/4500/storage-c010af68cb32eb528508a8dec5e8ce6c.sqlite\" SQLiteError=\"disk I/O error\" SQLiteErrorCode=\"1034\" UnixErrorCode=\"0\" UnixError=\"Success\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x6eb3d8 0x6ed4bc 0x6f12b0 0x6f5ab7 0x5f9989 0x5f7029 0x130a26f 0x7ffff71255d0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559081027.159487\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"3010\" MClocks=\"1460.33\" Duration=\"0.663789\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.827925\" Type=\"WorkerServer\" ID=\"0000000000000000\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x5fd766 0x5fd987 0x45cd09 0xaa8952 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"40\" Time=\"1559081027.827925\" Type=\"StopAfterError\" ID=\"0000000000000000\" Error=\"io_timeout\" ErrorDescription=\"A disk IO operation failed to complete in a timely manner\" ErrorCode=\"1521\" Backtrace=\"addr2line -e fdbserver.debug -p -C -f -i 0x1414706 0x1412e77 0x94cde7 0x94d0f7 0x45cd09 0x52db2d 0x45cd09 0xa9ebd2 0xa9efd7 0x45cd09 0x52db2d 0x45cd09 0x5fd783 0x5fd987 0x45cd09 0xaa8952 0x52d540 0x1438902 0x43a4a7 0x7ffff70fb830\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559088187.263414\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"797.555\" Duration=\"0.362527\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559090577.839791\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"3010\" MClocks=\"538.897\" Duration=\"0.244955\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559092517.167086\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"521.881\" Duration=\"0.23722\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS\" /&gt;\n&lt;-- lot of SlowTask here --&gt;\n&lt;Event Severity=\"30\" Time=\"1559124940.123616\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"643.005\" Duration=\"0.292277\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS,TL\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559127774.096001\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"20000\" MClocks=\"516.917\" Duration=\"0.234963\" SampleRate=\"1\" NumYields=\"1\" Machine=\"10.196.78.162:4500\" LogGroup=\"default\" Roles=\"SS,TL\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1558953235.430224\" Type=\"MasterRecoveryDuration\" ID=\"360e6d8d852b246f\" RecoveryDuration=\"24.0081\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Original\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Original\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559028259.936205\" OriginalTime=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Rolled\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559048420.028981\" OriginalTime=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Rolled\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559068530.291029\" OriginalTime=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Rolled\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559069109.705699\" Type=\"SlowTask\" ID=\"0000000000000000\" TaskID=\"10000\" MClocks=\"573.565\" Duration=\"0.260713\" SampleRate=\"1\" NumYields=\"0\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559088650.493057\" OriginalTime=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Rolled\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559108780.460537\" OriginalTime=\"1559015525.363110\" Type=\"MasterRecoveryDuration\" ID=\"360c1d0737798bf5\" RecoveryDuration=\"4.70905\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MS\" TrackLatestType=\"Rolled\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559120177.562344\" Type=\"Net2_LargePacket\" ID=\"0000000000000000\" SuppressedEventCount=\"0\" FromPeer=\"10.196.78.151:50890\" Length=\"2239879\" Token=\"3521fa4bb2d68a23\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MP\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559120179.339329\" Type=\"Net2_LargePacket\" ID=\"0000000000000000\" SuppressedEventCount=\"0\" FromPeer=\"10.196.78.151:50890\" Length=\"2239827\" Token=\"3521fa4bb2d68a23\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MP\" /&gt;\n&lt;Event Severity=\"30\" Time=\"1559120477.936338\" Type=\"Net2_LargePacket\" ID=\"0000000000000000\" SuppressedEventCount=\"0\" FromPeer=\"10.196.78.151:50890\" Length=\"2239847\" Token=\"3521fa4bb2d68a23\" Machine=\"10.196.78.162:4501\" LogGroup=\"default\" Roles=\"MP\" /&gt;\n...\n</code></pre>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-29T12:23:22.294Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 91,
        "readers_count": 90,
        "score": 38.2,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4206,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-05-29T13:59:54.667Z",
        "cooked": "<p>I would also want to understand the behavior of SS when it encounters a disk error or io timeout; in the description of <code>io_trust_seconds</code> it says that the SS will fail with error after getting an io error on a file:</p>\n<p><code>io_trust_seconds: Time in seconds that a read or write operation is allowed to take before timing out with an error. If an operation times out, all future operations on that file will fail with an error as well. Only has an effect when using AsyncFileKAIO in Linux. If unset, defaults to 0 which means timeout is disabled.</code></p>\n<p>But then what is the recovery mechanism from this sate (both for SS process and for the file that received the io error)?</p>\n<p>Is this file now completely corrupted, and SS would have to throw it away? I have seen SS sqlite files to be of size upwards of 50GB, it seems a lot of work to recover from an isolated disk error. Could these files be split into smaller ones so that the amount of data discarded is smaller (assuming the file becomes useless on receiving an io error on it)?</p>\n<p>How is storage server process itself recovered? Does it kill itself on getting an io error, and rejoin the cluster? Or is there a manual step to \u201crecover\u201d such an SS (and what is that step)?</p>\n<p>Are there any changes in version 6.1.8 that would make these issues handled differently?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-29T13:59:54.667Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 88,
        "readers_count": 87,
        "score": 52.6,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4210,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-05-29T19:31:18.122Z",
        "cooked": "<p>That IO operations aren\u2019t completing in 20 seconds does suggest that your disk may not be healthy.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>would also want to understand the behavior of SS when it encounters a disk error or io timeout</p>\n</blockquote>\n</aside>\n<p>I believe when you get <code>io_error</code>, the process will terminate whatever role got the error (e.g. the storage server) but keep the process itself running. For a storage server, this prevents re-recruitment on that process until it gets restarted.</p>\n<p>In the case of <code>io_timeout</code>, I believe the process will terminate itself, and assuming you are using something like fdbmonitor to watch the process, it will then be restarted. It should be noted that <code>io_timeout</code> was mainly designed to work around a particular issue (outside of FDB) where a disk would claim to have written something that it did not actually write. The timeout here allowed us to avoid the circumstances leading to that issue.</p>\n<p>The timeout in its current state was not designed as a general purpose mechanism to cause a process to fail when the disk is being non-responsive. There are various operations which are not monitored with the timeout, and there may also be a better choice for what to do when a process\u2019s disk is hung rather than restarting immediately.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>But then what is the recovery mechanism from this sate (both for SS process and for the file that received the io error)?</p>\n<p>Is this file now completely corrupted, and SS would have to throw it away? I have seen SS sqlite files to be of size upwards of 50GB, it seems a lot of work to recover from an isolated disk error. Could these files be split into smaller ones so that the amount of data discarded is smaller (assuming the file becomes useless on receiving an io error on it)?</p>\n<p>How is storage server process itself recovered? Does it kill itself on getting an io error, and rejoin the cluster? Or is there a manual step to \u201crecover\u201d such an SS (and what is that step)?</p>\n</blockquote>\n</aside>\n<p>The file isn\u2019t necessarily corrupted, though it\u2019s possible that it could be. If the process restarts, it will try to use the file as normal. If any pages are corrupted such that their checksums are no longer valid, then an error would be thrown at the time that page is read, which could be in the distant future. I don\u2019t believe the file would be deleted in this case.</p>\n<p>There are classes of errors that wouldn\u2019t be detected by checksums, such as the example I gave above where we saw a disk acknowledging writes that it hadn\u2019t actually written. If you think there is a risk of such a problem on your disks, or if you want to be extra careful, you could remove the process yourself.</p>\n<p>If you remove the process, then all the data on that process would have to be re-replicated elsewhere.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"4\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>Are there any changes in version 6.1.8 that would make these issues handled differently?</p>\n</blockquote>\n</aside>\n<p>Not that I recall.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-29T19:31:18.122Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 5,
        "reads": 87,
        "readers_count": 86,
        "score": 47.4,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/io-error-on-all-fdb-storage-machines/2317",
            "internal": true,
            "reflection": true,
            "title": "Io_error on all FDB storage machines",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4218,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-05-30T15:27:50.193Z",
        "cooked": "<p>Thanks for helping out with the queries; I have a few more follow up questions:</p>\n<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"5\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>I believe when you get <code>io_error</code> , the process will terminate whatever role got the error (e.g. the storage server) but keep the process itself running. For a storage server, this prevents re-recruitment on that process until it gets restarted.</p>\n</blockquote>\n</aside>\n<p>Is there a way to detect this process state by looking into status json (will this server still be reported as a recruited SS in status, even after the role is terminated)? Or is there a log line that points to this state (<code>zombie</code> process)? We want to be able to detect such situations automatically via scripts and raise alerts or take some other action.</p>\n<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"5\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>If any pages are corrupted such that their checksums are no longer valid, then an error would be thrown at the time that page is read, which could be in the distant future. I don\u2019t believe the file would be deleted in this case.</p>\n</blockquote>\n</aside>\n<p>What happens if a page is found corrupted by SS? Is that page repaired in place using a copy from another replica, or will the entire file be discarded? Or is there another strategy to handle this situation?</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-30T15:27:50.193Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 75,
        "readers_count": 74,
        "score": 20.0,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4219,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-05-30T15:47:12.909Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"6\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>Is there a way to detect this process state by looking into status json (will this server still be reported as a recruited SS in status, even after the role is terminated)? Or is there a log line that points to this state ( <code>zombie</code> process)? We want to be able to detect such situations automatically via scripts and raise alerts or take some other action.</p>\n</blockquote>\n</aside>\n<p>For a process that has entered this state and hasn\u2019t been restarted, it will report this information through its messages field (<code>cluster.processes.&lt;ID&gt;.messages</code>). It will also show up next to the process entry in <code>status details</code> run from <code>fdbcli</code>, and even regular <code>status</code> will report that there exist processes with errors.</p>\n<p>You can also look for Severity 40 events on the process. I believe most errors besides <code>io_timeout</code> and <code>please_reboot</code> that bubble out will result in the process being left running but the role terminating.</p>\n<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"6\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>What happens if a page is found corrupted by SS? Is that page repaired in place using a copy from another replica, or will the entire file be discarded? Or is there another strategy to handle this situation?</p>\n</blockquote>\n</aside>\n<p>I think in this case, the process just throws an error (maybe <code>io_error</code>?) and behaves like it got any other error. No attempt is made to fix the file or destroy it.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-30T15:47:12.909Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 76,
        "readers_count": 75,
        "score": 25.2,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4221,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-05-30T16:47:22.822Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ajbeamon\" data-post=\"7\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ajbeamon/48/13_2.png\" class=\"avatar\"> ajbeamon:</div>\n<blockquote>\n<p>I think in this case, the process just throws an error (maybe <code>io_error</code> ?) and behaves like it got any other error. No attempt is made to fix the file or destroy it.</p>\n</blockquote>\n</aside>\n<p>But then what is the process to address this situation? Would excluding this process explicitly and clearing its files be the only way to fix a corrupt page on disk?</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-30T16:47:22.822Z",
        "reply_count": 0,
        "reply_to_post_number": 7,
        "quote_count": 1,
        "incoming_link_count": 3,
        "reads": 70,
        "readers_count": 69,
        "score": 29.0,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4247,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-05-31T22:18:31.760Z",
        "cooked": "<p>Typically, you\u2019d probably just remove the process/host from the cluster. Then you can do whatever you want with the host to check it for problems before reusing it or throwing out the disk, etc.</p>\n<p>Your safest bet is probably just to shut the process off and let the cluster heal from other replicas if you do this. If you instead exclude the process and it restarts (thus clearing the error state), then it could serve as a source for re-replication. If there were some corruption in the file that didn\u2019t result in bad checksums, you could potentially spread it.</p>\n<p>If it turns out you do need the data that was in the file, you could potentially try to recover it, though there aren\u2019t any tools that exist to help with that (probably due to lack of need up to this point).</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-05-31T22:18:31.760Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 70,
        "readers_count": 69,
        "score": 39.0,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4260,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-06-01T08:56:11.134Z",
        "cooked": "<p>Thanks for being so patient with the questions. This has been very helpful!</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2019-06-01T08:56:11.134Z",
        "reply_count": 0,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 65,
        "readers_count": 64,
        "score": 18.0,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13618,
        "name": "Giuseppe",
        "username": "gm42",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "created_at": "2023-12-13T08:58:30.625Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"1\" data-topic=\"1397\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_690x495.png\" alt=\"14%20PM\" width=\"690\" height=\"495\"></p>\n<p>Screen Shot 2019-05-28 at 6.24.14 PM.png1978\u00d71420 419 KB</p>\n</blockquote>\n</aside>\n<p><a class=\"mention\" href=\"/u/gaurav\">@gaurav</a> is this tabular output coming from some script you wrote yourself? Seems useful.</p>\n<p>Sorry for reviving an old topic, but couldn\u2019t find a better way to answer this.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2023-12-13T08:58:30.625Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 27,
        "readers_count": 26,
        "score": 10.4,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "Giuseppe",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1363,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13619,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-12-13T17:41:37.838Z",
        "cooked": "<p>I\u2019m not sure was used to generate that, but fdbtop will give similar output.</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://github.com/customerio/fdbtop\">\n  <header class=\"source\">\n      <img src=\"https://github.githubassets.com/favicons/favicon.svg\" class=\"site-icon\" width=\"32\" height=\"32\">\n\n      <a href=\"https://github.com/customerio/fdbtop\" target=\"_blank\" rel=\"noopener nofollow ugc\">GitHub</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"aspect-image\" style=\"--aspect-ratio:690/344;\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/5/5d4205e2e4dcb27c07126b2d31988e7b9fa5195a_2_690x345.png\" class=\"thumbnail\" data-dominant-color=\"F0F6F7\" width=\"690\" height=\"345\"></div>\n\n<h3><a href=\"https://github.com/customerio/fdbtop\" target=\"_blank\" rel=\"noopener nofollow ugc\">GitHub - customerio/fdbtop: foundationdb top utility</a></h3>\n\n  <p>foundationdb top utility. Contribute to customerio/fdbtop development by creating an account on GitHub.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e.png\" data-download-href=\"/uploads/short-url/A13iJha1Pvo4WazszejjvLAxP0W.png?dl=1\" title=\"image\" rel=\"noopener nofollow ugc\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e_2_690x384.png\" alt=\"image\" data-base62-sha1=\"A13iJha1Pvo4WazszejjvLAxP0W\" width=\"690\" height=\"384\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e_2_690x384.png, https://global.discourse-cdn.com/foundationdb/optimized/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e_2_1035x576.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e_2_1380x768.png 2x\" data-dominant-color=\"040707\"><div class=\"meta\"><svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use href=\"#far-image\"></use></svg><span class=\"filename\">image</span><span class=\"informations\">2372\u00d71322 393 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use href=\"#discourse-expand\"></use></svg></div></a></div></p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2023-12-13T17:41:37.838Z",
        "reply_count": 0,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 24,
        "readers_count": 23,
        "score": 24.8,
        "yours": false,
        "topic_id": 1397,
        "topic_slug": "ss-lagging-behind",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/customerio/fdbtop",
            "internal": false,
            "reflection": false,
            "title": "GitHub - customerio/fdbtop: foundationdb top utility",
            "clicks": 9
          },
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/2X/f/fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e.png",
            "internal": false,
            "reflection": false,
            "title": "fc6cbe0edbcaa5fc96cefae05c2c195da5fa999e.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1363,
          "username": "gm42",
          "name": "Giuseppe",
          "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/ss-lagging-behind/1397/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      4183,
      4184,
      4202,
      4206,
      4210,
      4218,
      4219,
      4221,
      4247,
      4260,
      13618,
      13619
    ]
  },
  "timeline_lookup": [
    [
      1,
      2338
    ],
    [
      3,
      2337
    ],
    [
      6,
      2336
    ],
    [
      9,
      2335
    ],
    [
      11,
      679
    ],
    [
      12,
      678
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "SS lagging behind",
  "id": 1397,
  "title": "SS lagging behind",
  "posts_count": 12,
  "created_at": "2019-05-28T13:00:44.527Z",
  "views": 1743,
  "reply_count": 5,
  "like_count": 3,
  "last_posted_at": "2023-12-13T17:41:37.838Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "ss-lagging-behind",
  "category_id": 7,
  "word_count": 4772,
  "deleted_at": null,
  "user_id": 166,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_1024x735.png",
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1397",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 12,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": [
    {
      "max_width": null,
      "max_height": null,
      "width": 1978,
      "height": 1420,
      "url": "https://global.discourse-cdn.com/foundationdb/original/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9.png"
    },
    {
      "max_width": 1024,
      "max_height": 1024,
      "width": 1024,
      "height": 735,
      "url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/8589d4eff9d0f8339e377cfbaac82be6ec2b1ac9_2_1024x735.png"
    }
  ],
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Segmentation fault error and broken cluster",
      "id": 483,
      "title": "Segmentation fault error and broken cluster",
      "slug": "segmentation-fault-error-and-broken-cluster",
      "posts_count": 17,
      "reply_count": 12,
      "highest_post_number": 17,
      "image_url": null,
      "created_at": "2018-05-31T15:34:28.123Z",
      "last_posted_at": "2018-06-11T17:31:13.656Z",
      "bumped": true,
      "bumped_at": "2018-06-11T17:31:13.656Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 4331,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 211,
            "username": "brk0v",
            "name": "Viacheslav Biriukov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brk0v/{size}/173_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "How to repair lagging process?",
      "id": 478,
      "title": "How to repair lagging process?",
      "slug": "how-to-repair-lagging-process",
      "posts_count": 10,
      "reply_count": 8,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2018-05-29T08:05:25.357Z",
      "last_posted_at": "2018-05-31T03:22:50.621Z",
      "bumped": true,
      "bumped_at": "2018-05-31T03:22:50.621Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2443,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 152,
            "username": "shgxwxl",
            "name": "Shgxwxl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/shgxwxl/{size}/127_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 230,
            "username": "umpc",
            "name": "Justin Lowery",
            "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "How to detect disk stalls?",
      "id": 1729,
      "title": "How to detect disk stalls?",
      "slug": "how-to-detect-disk-stalls",
      "posts_count": 12,
      "reply_count": 7,
      "highest_post_number": 12,
      "image_url": null,
      "created_at": "2019-11-12T19:04:58.331Z",
      "last_posted_at": "2019-11-13T19:13:56.769Z",
      "bumped": true,
      "bumped_at": "2019-11-13T19:13:56.769Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1944,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 478,
            "username": "kao.makino",
            "name": "Kao Makino",
            "avatar_template": "/user_avatar/forums.foundationdb.org/kao.makino/{size}/476_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Storage Server CPU bottleneck - Growing data lag",
      "id": 2234,
      "title": "Storage Server CPU bottleneck - Growing data lag",
      "slug": "storage-server-cpu-bottleneck-growing-data-lag",
      "posts_count": 23,
      "reply_count": 18,
      "highest_post_number": 23,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/e472648513de0e881bd62213804d5e43f9510ace_2_1023x568.png",
      "created_at": "2020-07-08T13:46:58.378Z",
      "last_posted_at": "2021-12-13T09:55:15.976Z",
      "bumped": true,
      "bumped_at": "2021-12-13T10:47:15.543Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3083,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 744,
            "username": "v-pap",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/v-pap/{size}/936_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "How are &lsquo;contributing_workers&rsquo; computed?",
      "id": 360,
      "title": "How are 'contributing_workers' computed?",
      "slug": "how-are-contributing-workers-computed",
      "posts_count": 20,
      "reply_count": 13,
      "highest_post_number": 20,
      "image_url": null,
      "created_at": "2018-05-07T00:53:18.538Z",
      "last_posted_at": "2018-05-12T07:19:34.562Z",
      "bumped": true,
      "bumped_at": "2018-05-12T07:19:34.562Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 1986,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 236,
            "username": "marctrem",
            "name": "Marc-Andr\u00e9 Tremblay",
            "avatar_template": "/user_avatar/forums.foundationdb.org/marctrem/{size}/208_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 247,
            "username": "Chr1st0ph",
            "name": "Chr1st0ph",
            "avatar_template": "/user_avatar/forums.foundationdb.org/chr1st0ph/{size}/353_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 118,
            "username": "abdullin",
            "name": "Rinat Abdullin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/abdullin/{size}/83_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 1342,
        "username": "newhook",
        "name": "Matthew Newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1363,
        "username": "gm42",
        "name": "Giuseppe",
        "avatar_template": "/user_avatar/forums.foundationdb.org/gm42/{size}/1784_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 166,
      "username": "gaurav",
      "name": "gaurav",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png"
    },
    "last_poster": {
      "id": 1342,
      "username": "newhook",
      "name": "Matthew Newhook",
      "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png"
    },
    "links": [
      {
        "url": "http://snippi.com/s/vc9d0je",
        "title": "Snippi",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 10,
        "user_id": 166,
        "domain": "snippi.com",
        "root_domain": "snippi.com"
      },
      {
        "url": "https://github.com/customerio/fdbtop",
        "title": "GitHub - customerio/fdbtop: foundationdb top utility",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 9,
        "user_id": 1342,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}