{
  "post_stream": {
    "posts": [
      {
        "id": 14962,
        "name": "",
        "username": "czephyr",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d78d45/{size}.png",
        "created_at": "2025-06-02T15:26:12.377Z",
        "cooked": "<p>I\u2019m setting up a delayed FDB DR setup.<br>\nSome of the cluster replicas we have on other software are delayed, theyre very useful in case something messes with the data, imagine a mistake in dropping rows.</p>\n<p>I understand that FDB has timestamped restore from the continuous backup, we tried it and it works, but some of our big clusters take too long to restore.</p>\n<p>This seems not possible at the moment but sounds maybe possible to get considering the continuous backup already stores real time mutations, you\u2019d just want your <code>dr_agent</code> to apply them with a delay.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-06-02T15:30:40.975Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 9,
        "reads": 20,
        "readers_count": 19,
        "score": 49.0,
        "yours": false,
        "topic_id": 4925,
        "topic_slug": "delayed-fdb-dr",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1511,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/delayed-fdb-dr/4925/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 14967,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2025-06-03T21:55:32.134Z",
        "cooked": "<p>Making a DR secondary intentionally lag behind the DR primary is not currently a feature but I don\u2019t think it would be difficult to add.</p>\n<p>DR mutation log propagation involves essentially two parallel operations:</p>\n<p>Log Copy - The secondary cluster reads mutation log data from the primary cluster\u2019s system keyspace, commits it to the secondary cluster\u2019s system keyspace, then deletes it from the primary.  Log version ranges are copied in parallel for greater throughput but the version at which all prior log data has been copied is tracked.</p>\n<p>Log Apply - The secondary cluster reads the stored mutations from the Log Copy in version order, applies them to itself, then deletes the stored mutations.</p>\n<p>Log Copy is what provides off-cluster log durability (on a short delay) so it would be just the Log Apply phase that you would want to delay.  This sounds like a simple thing to do but the related code is rather old and uncommented so I don\u2019t see a surgical place to make the change.</p>\n<p>If anyone would like to take on this feature I can try to provide some code pointers.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-06-03T21:55:32.134Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 19,
        "readers_count": 18,
        "score": 18.8,
        "yours": false,
        "topic_id": 4925,
        "topic_slug": "delayed-fdb-dr",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/delayed-fdb-dr/4925/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 15008,
        "name": "",
        "username": "czephyr",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d78d45/{size}.png",
        "created_at": "2025-06-20T16:56:25.072Z",
        "cooked": "<p>Hi.<br>\nThanks for the answer.</p>\n<p>I\u2019m not sure I\u2019m familiar enough with the project to contribute but I can take a look.</p>\n<p>I finally mounted a DR cluster on my setup. I tried a <code>fdbdr switch</code> command it worked, but I noticed the clients don\u2019t get notified about the switch and still point their clusterfile to the old primary DB. What\u2019s the reason for this behavior? Am I supposed to redirect them manually by updating their clusterfile?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2025-06-20T16:56:25.072Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 13,
        "readers_count": 12,
        "score": 7.6,
        "yours": false,
        "topic_id": 4925,
        "topic_slug": "delayed-fdb-dr",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1511,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/delayed-fdb-dr/4925/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      14962,
      14967,
      15008
    ]
  },
  "timeline_lookup": [
    [
      1,
      141
    ],
    [
      2,
      140
    ],
    [
      3,
      123
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Delayed FDB dr?",
  "id": 4925,
  "title": "Delayed FDB dr?",
  "posts_count": 3,
  "created_at": "2025-06-02T15:26:12.328Z",
  "views": 81,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2025-06-20T16:56:25.072Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "delayed-fdb-dr",
  "category_id": 17,
  "word_count": 369,
  "deleted_at": null,
  "user_id": 1511,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_4925",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "FoundationDB fdbdr",
      "id": 1449,
      "title": "FoundationDB fdbdr",
      "slug": "foundationdb-fdbdr",
      "posts_count": 8,
      "reply_count": 5,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2019-06-13T06:33:40.394Z",
      "last_posted_at": "2019-06-13T22:26:26.460Z",
      "bumped": true,
      "bumped_at": "2019-06-13T22:52:52.665Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1383,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 579,
            "username": "approachcp",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Confusion on fdbdr status output when DR is not caught up",
      "id": 1680,
      "title": "Confusion on fdbdr status output when DR is not caught up",
      "slug": "confusion-on-fdbdr-status-output-when-dr-is-not-caught-up",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-10-15T20:02:21.961Z",
      "last_posted_at": "2019-10-16T05:35:43.930Z",
      "bumped": true,
      "bumped_at": "2019-10-16T05:35:43.930Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 469,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 3,
            "username": "john_brownlee",
            "name": "John Brownlee",
            "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "`fdbdr` failover duration longer than expected",
      "id": 3269,
      "title": "`fdbdr` failover duration longer than expected",
      "slug": "fdbdr-failover-duration-longer-than-expected",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/d/d838a41b930edd2e0cc5ab4180b5bcdf16142f18_2_1024x298.png",
      "created_at": "2022-04-19T15:22:46.672Z",
      "last_posted_at": "2022-04-25T20:37:35.964Z",
      "bumped": true,
      "bumped_at": "2022-04-25T20:37:35.964Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 483,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "DR backup database is locked",
      "id": 1204,
      "title": "DR backup database is locked",
      "slug": "dr-backup-database-is-locked",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-03-07T10:11:59.621Z",
      "last_posted_at": "2019-03-13T07:29:54.955Z",
      "bumped": true,
      "bumped_at": "2019-03-13T07:29:54.955Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 880,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 520,
            "username": "Vasilii",
            "name": "Vasiliy Popkov",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/258eb7/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "DR Agent Role in Secondary Region",
      "id": 2208,
      "title": "DR Agent Role in Secondary Region",
      "slug": "dr-agent-role-in-secondary-region",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2020-06-25T05:47:22.171Z",
      "last_posted_at": "2020-06-25T18:50:37.814Z",
      "bumped": true,
      "bumped_at": "2020-06-25T18:50:37.814Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 370,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 781,
            "username": "jarvis",
            "name": "jar ",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/e36b37/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 454,
            "username": "jzhou",
            "name": "Jingyu Zhou",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
            "admin": true,
            "moderator": true,
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1511,
        "username": "czephyr",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d78d45/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 1511,
      "username": "czephyr",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d78d45/{size}.png"
    },
    "last_poster": {
      "id": 1511,
      "username": "czephyr",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/d78d45/{size}.png"
    }
  },
  "bookmarks": []
}