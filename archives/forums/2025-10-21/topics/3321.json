{
  "post_stream": {
    "posts": [
      {
        "id": 11111,
        "name": "Lars Hagen",
        "username": "larshagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "created_at": "2022-05-13T12:37:18.101Z",
        "cooked": "<p>We are running weekly backups of our FDB clusters, and in our largest cluster the system keyspace <code>[\\xFF, \\xFF\\xFF)</code> seems to be growing week by week. It grows during the weekly backup, and when the backup is completed, it goes down again, but not to the level it was before the backup started.</p>\n<p>When looking at the distribution of data in the system keyspace, we that most of the data is under the <code>\\xff\\x02/backup-agent/uid-&gt;config/</code>prefix, and most of the keys have the form <code>\\xff\\x02/backup-agent/uid-&gt;config/[uid]snapshotRangeFileMap...</code> where <code>[uid]</code> seems to be a 16-byte UID.</p>\n<p>Is this expected, and is there any way to clean it up?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-05-13T12:37:18.101Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 81,
        "reads": 43,
        "readers_count": 42,
        "score": 418.6,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Lars Hagen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 724,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 11165,
        "name": "Lars Hagen",
        "username": "larshagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "created_at": "2022-05-27T12:31:03.960Z",
        "cooked": "<p>Since writing this post, I have since discovered that the uid is indeed the uid of a backup, and that the tag may be found by lookup at the entries under the <code>\\xff\\x02/backup-agent/tag-&gt;uid/</code> prefix.</p>\n<p>The files for many of the tags are already deleted, and even if they weren\u2019t I don\u2019t know why we need to keep several GB\u2019s of <code>snapshotRangeFileMap</code> entries. The backups are presumably restorable without this data, as we need to be able to restore without it.</p>\n<p>For a given backup tag, is it safe to delete the entries under <code>\\xff\\x02/backup-agent/tag-&gt;uid/</code> and <code>\\xff\\x02/backup-agent/uid-&gt;config/</code>, or is there some other invariant that one needs to maintain?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-05-27T12:31:03.960Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 38,
        "readers_count": 37,
        "score": 22.6,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Lars Hagen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 724,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11225,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2022-06-08T17:00:28.248Z",
        "cooked": "<p>If you run <code>fdbbackup status</code>, does it show anything? Also, you could run <code>fdbcli status details</code> and see if reports that there are any running backup or DR tags.</p>\n<p>The <code>fdbbackup</code> tool has a <code>cleanup</code> command that can show and help remove some stale backup data. I would try using this first rather than deleting the keys manually. I think there can be some trickiness involved with cleaning up the backup state directly, though this is probably easier if you don\u2019t have any backups or DRs running at all.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-08T17:00:28.248Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 37,
        "readers_count": 36,
        "score": 12.4,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 724,
          "username": "larshagen",
          "name": "Lars Hagen",
          "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11228,
        "name": "Lars Hagen",
        "username": "larshagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "created_at": "2022-06-08T18:18:38.837Z",
        "cooked": "<p>Typical output from status json (from <code>.cluster.layers.backup.tags.&lt;tag&gt;</code>)</p>\n<pre><code class=\"lang-auto\">        \"current_container\": \"&lt;blob store address&gt;\",\n        \"current_status\": \"has been completed\",\n        \"last_restorable_seconds_behind\": 4656009.350732,\n        \"last_restorable_version\": 4199961082790,\n        \"mutation_log_bytes_written\": 10418747,\n        \"mutation_stream_id\": \"&lt;id&gt;\",\n        \"range_bytes_written\": 28418394700,\n        \"running_backup\": false,\n        \"running_backup_is_restorable\": false\n</code></pre>\n<p>From status details:</p>\n<pre><code class=\"lang-auto\">Backup and DR:\n  Running backups        - 0\n  Running DRs            - 0\n</code></pre>\n<p>From <code>fdbbackup status</code> I get;<br>\n<code>No previous backups found.</code></p>\n<p>It does not seem that <code>fdbbackup cleanup</code> does anything, it outputs nothing.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-08T18:18:38.837Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 37,
        "readers_count": 36,
        "score": 22.4,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Lars Hagen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 724,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11230,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2022-06-09T15:54:37.371Z",
        "cooked": "<p>Ok, I see. That doesn\u2019t sound like the expected behavior, but I don\u2019t know the inner workings of backup well enough to be able to offer an explanation. <a class=\"mention\" href=\"/u/steavedhams\">@SteavedHams</a> do you have any insights?</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-09T15:54:37.371Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 35,
        "readers_count": 34,
        "score": 7.0,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11232,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2022-06-09T19:56:14.867Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"larshagen\" data-post=\"2\" data-topic=\"3321\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/larshagen/48/776_2.png\" class=\"avatar\"> larshagen:</div>\n<blockquote>\n<p>For a given backup tag, is it safe to delete the entries under <code>\\xff\\x02/backup-agent/tag-&gt;uid/</code> and <code>\\xff\\x02/backup-agent/uid-&gt;config/</code>, or is there some other invariant that one needs to maintain?</p>\n</blockquote>\n</aside>\n<p>Yes, once a backup is complete (completed or aborted) it is safe to delete these things.  Also,</p>\n<aside class=\"quote no-group\" data-username=\"larshagen\" data-post=\"1\" data-topic=\"3321\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/larshagen/48/776_2.png\" class=\"avatar\"> larshagen:</div>\n<blockquote>\n<p>and most of the keys have the form <code>\\xff\\x02/backup-agent/uid-&gt;config/[uid]snapshotRangeFileMap...</code> where <code>[uid]</code> seems to be a 16-byte UID.</p>\n</blockquote>\n</aside>\n<p>This subspace, specifically, is used for tracking progress of the current active snapshot being written during a backup.  It is not used by restore.</p>\n<p>The backup configuration for a UID was initially left behind on purpose because it was small and may be useful later if there is no external record of backup actions.  Unfortunately, as you\u2019ve discovered, it is no longer small largely due to the snapshot range file map which was added some time later during backup\u2019s development.  At the very least, this section of the config should be cleared after a snapshot is completely flushed to the backup destination.</p>\n<p>Thanks for finding this, I\u2019ll try to get this into FDB 7.2.  It\u2019s a very small fix.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-09T19:56:14.867Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 2,
        "incoming_link_count": 6,
        "reads": 35,
        "readers_count": 34,
        "score": 57.0,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/key-value-sizes-at-dr-source-and-destination-have-a-big-difference/3351/6",
            "internal": true,
            "reflection": true,
            "title": "Key-value sizes at DR source and destination have a big difference",
            "clicks": 0
          },
          {
            "url": "https://forums.foundationdb.org/t/key-value-sizes-at-dr-source-and-destination-have-a-big-difference/3351/4",
            "internal": true,
            "reflection": true,
            "title": "Key-value sizes at DR source and destination have a big difference",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11239,
        "name": "Lars Hagen",
        "username": "larshagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "created_at": "2022-06-10T19:56:42.973Z",
        "cooked": "<p>Thank you for you detailed reply!</p>\n<p>I will go ahead with manual deletes of these ranges for now, and then look forward to a fix when we upgrade to 7.2 (currently on 6.3)</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-10T19:56:42.973Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 34,
        "readers_count": 33,
        "score": 26.8,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Lars Hagen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 7,
          "username": "SteavedHams",
          "name": "Steve Atherton",
          "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 724,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11242,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2022-06-12T21:24:08.959Z",
        "cooked": "<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/apple/foundationdb/issues/7367\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/issues/7367\" target=\"_blank\" rel=\"noopener\">github.com/apple/foundationdb</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewbox=\"0 0 14 16\" aria-hidden=\"true\"><path d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/apple/foundationdb/issues/7367\" target=\"_blank\" rel=\"noopener\">Backup metadata cleanup</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2022-06-12\" data-time=\"21:23:43\" data-timezone=\"UTC\">09:23PM - 12 Jun 22 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/sfc-gh-satherton\" target=\"_blank\" rel=\"noopener\">\n          <img alt=\"sfc-gh-satherton\" src=\"https://global.discourse-cdn.com/foundationdb/original/2X/8/8a40bcc36176b339e22f42601c6e330890633fac.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\">\n          sfc-gh-satherton\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">After a backup is complete or aborted, its config and working state remains in t<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">\u2026</a></span><span class=\"excerpt hidden\">he database.  This is useful so that `fdbbackup status` can report things about the most recently started backup, and in theory (though there is no UI for it) it could report things about backups older than that.\n\nThe config and state for a backup would be small if not for the backup snapshot file map, which is filled during a snapshot and cleared at the start of a new snapshot.  This subspace under a backup's configuration is not used for anything once a backup is complete or aborted, so at the very least it should be cleared when the backup transactions to any final state.</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-12T21:24:08.959Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 34,
        "readers_count": 33,
        "score": 21.8,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/7367",
            "internal": false,
            "reflection": false,
            "title": "Backup metadata cleanup \u00b7 Issue #7367 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 21
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11951,
        "name": "Windsteel",
        "username": "windsteel",
        "avatar_template": "/user_avatar/forums.foundationdb.org/windsteel/{size}/1395_2.png",
        "created_at": "2022-11-01T07:44:39.114Z",
        "cooked": "<p>Hello, do you notice that how big the mentioned space is? (any relationship between your existing data volume in your database)  I am new for FDB management. How did you manually remove those ranges anyway? (those subspaces should be protected by default? ) Thanks!</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-11-01T07:44:39.114Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 26,
        "readers_count": 25,
        "score": 10.2,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Windsteel",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 724,
          "username": "larshagen",
          "name": "Lars Hagen",
          "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1144,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11952,
        "name": "Lars Hagen",
        "username": "larshagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "created_at": "2022-11-01T08:00:22.995Z",
        "cooked": "<p>The space usage seems to be proportional to the total stored bytes in the database. For a cluster with &gt;10TB, we noticed that system space increased by a few hundred MB after every backup, so relatively small compared to the database volume.</p>\n<p>The ranges are protected by default as they are part of the system keyspace, so deleting them requires bypassing those protections by explicitly setting transaction options to allow writes to system keys.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-11-01T08:00:22.995Z",
        "reply_count": 0,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 21,
        "readers_count": 20,
        "score": 29.2,
        "yours": false,
        "topic_id": 3321,
        "topic_slug": "increased-system-keyspace-size-after-backups-finish",
        "display_username": "Lars Hagen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1144,
          "username": "windsteel",
          "name": "Windsteel",
          "avatar_template": "/user_avatar/forums.foundationdb.org/windsteel/{size}/1395_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 724,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/increased-system-keyspace-size-after-backups-finish/3321/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      11111,
      11165,
      11225,
      11228,
      11230,
      11232,
      11239,
      11242,
      11951,
      11952
    ]
  },
  "timeline_lookup": [
    [
      1,
      1257
    ],
    [
      2,
      1243
    ],
    [
      3,
      1231
    ],
    [
      5,
      1230
    ],
    [
      7,
      1229
    ],
    [
      8,
      1227
    ],
    [
      9,
      1086
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Increased system keyspace size after backups finish",
  "id": 3321,
  "title": "Increased system keyspace size after backups finish",
  "posts_count": 10,
  "created_at": "2022-05-13T12:37:18.041Z",
  "views": 819,
  "reply_count": 6,
  "like_count": 3,
  "last_posted_at": "2022-11-01T08:00:22.995Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "increased-system-keyspace-size-after-backups-finish",
  "category_id": 7,
  "word_count": 812,
  "deleted_at": null,
  "user_id": 724,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3321",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 10,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Trying to understand the backup mechanism better",
      "id": 588,
      "title": "Trying to understand the backup mechanism better",
      "slug": "trying-to-understand-the-backup-mechanism-better",
      "posts_count": 5,
      "reply_count": 1,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2018-07-25T22:58:43.059Z",
      "last_posted_at": "2018-08-24T23:45:52.938Z",
      "bumped": true,
      "bumped_at": "2018-08-24T23:45:52.938Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1453,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 9,
            "username": "mbhaskar",
            "name": "Bhaskar Muppana",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Sum of key-value sizes seems incorrect",
      "id": 2829,
      "title": "Sum of key-value sizes seems incorrect",
      "slug": "sum-of-key-value-sizes-seems-incorrect",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2021-08-01T23:56:56.791Z",
      "last_posted_at": "2021-08-02T20:24:48.701Z",
      "bumped": true,
      "bumped_at": "2021-08-02T20:24:48.701Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 919,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 393,
            "username": "ex3ndr",
            "name": "Steve Korshakov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ex3ndr/{size}/389_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Used disk space dramatically increases while sum of key-value sizes is constant",
      "id": 644,
      "title": "Used disk space dramatically increases while sum of key-value sizes is constant",
      "slug": "used-disk-space-dramatically-increases-while-sum-of-key-value-sizes-is-constant",
      "posts_count": 6,
      "reply_count": 4,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2018-08-17T14:38:26.479Z",
      "last_posted_at": "2018-09-04T16:08:07.423Z",
      "bumped": true,
      "bumped_at": "2018-09-04T16:08:07.423Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2087,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 297,
            "username": "imukhin",
            "name": "Ivan Mukhin",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/b19c9b/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Backup in a file system",
      "id": 2676,
      "title": "Backup in a file system",
      "slug": "backup-in-a-file-system",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2021-04-26T16:16:05.415Z",
      "last_posted_at": "2021-04-26T16:16:05.485Z",
      "bumped": true,
      "bumped_at": "2021-04-26T16:16:05.485Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 399,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 908,
            "username": "SnigdhaPathak",
            "name": "Snigdha Pathak",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e95f7d/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Aborting a DR Backup when destination is unreachable",
      "id": 1098,
      "title": "Aborting a DR Backup when destination is unreachable",
      "slug": "aborting-a-dr-backup-when-destination-is-unreachable",
      "posts_count": 9,
      "reply_count": 3,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2019-02-01T07:43:20.672Z",
      "last_posted_at": "2022-07-25T04:24:09.581Z",
      "bumped": true,
      "bumped_at": "2022-07-25T04:24:09.581Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1067,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 495,
            "username": "alpaca",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/ecccb3/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 1141,
            "username": "anleg",
            "name": "Anleg",
            "avatar_template": "/user_avatar/forums.foundationdb.org/anleg/{size}/1382_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 724,
        "username": "larshagen",
        "name": "Lars Hagen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 1144,
        "username": "windsteel",
        "name": "Windsteel",
        "avatar_template": "/user_avatar/forums.foundationdb.org/windsteel/{size}/1395_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 724,
      "username": "larshagen",
      "name": "Lars Hagen",
      "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png"
    },
    "last_poster": {
      "id": 724,
      "username": "larshagen",
      "name": "Lars Hagen",
      "avatar_template": "/user_avatar/forums.foundationdb.org/larshagen/{size}/776_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/issues/7367",
        "title": "Backup metadata cleanup \u00b7 Issue #7367 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 21,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}