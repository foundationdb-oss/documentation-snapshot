{
  "post_stream": {
    "posts": [
      {
        "id": 2022,
        "name": "Amirouche",
        "username": "amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "created_at": "2018-09-02T20:58:11.545Z",
        "cooked": "<p>I try to understand what brings the <a href=\"https://apple.github.io/foundationdb/api-python.html#directories\" rel=\"nofollow noopener\">Directory layer</a>.</p>\n<p>My understanding is that the Directory layer implements a hierarchy of Directory somewhat like a filesystem. Except instead of files their Key-Value pairs.<br>\nThere is also the fact that another Layer that uses the Directory Layer can introspect its structure via <a href=\"https://apple.github.io/foundationdb/api-python.html#fdb.DirectoryLayer.list\" rel=\"nofollow noopener\">DirectoryLayer.list</a>.<br>\nLast but not least, it seems to me the implementation is optimized for online/on-the-fly/dynamic Directory creation ie. it avoids contention with version stamps to achieve high throughput while creating directories inside a given directory, is that correct?</p>\n<p>It seems Subspace and Directory Layer are mostly here to avoid big mistakes, what are those mistakes?</p>\n<p>The documentation is clear about the fact that client libraries should in most cases use the Directory Layer. The question is: in which case is it a bad idea to use the Directory Layer?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2018-09-02T20:58:11.545Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2199,
        "reads": 195,
        "readers_count": 194,
        "score": 11059.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Amirouche",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/api-python.html#directories",
            "internal": false,
            "reflection": false,
            "title": "Python API \u2014 FoundationDB 5.2",
            "clicks": 209
          },
          {
            "url": "https://apple.github.io/foundationdb/api-python.html#fdb.DirectoryLayer.list",
            "internal": false,
            "reflection": false,
            "title": "Python API \u2014 FoundationDB 5.2",
            "clicks": 39
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 41,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 2025,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2018-09-03T18:59:55.625Z",
        "cooked": "<p>As suggested, the directory layer does provide something that resembles a file-system\u2019s hierarchical directory structure on top of FoundationDB. I think, though, that instead of files being key-value pairs, files are more like \u201csubspaces\u201d. In other words, each logical directory path (e.g., \u201cmy-application/my-collection/my-table\u201d in directory notation or (\u201cmy-application\u201d, \u201cmy-collection\u201d, \u201cmy-table\u201d) in tuple notation) is translated into a physical byte string (e.g., <code>\\x16\\x04\\x03</code>). The directory layer guarantees that no other directory layer path maps to that same physical string, so if you wanted to have multiple logical \u201ctables\u201d or \u201ccollections\u201d (or whatever makes sense in your data model), you can assign each one a directory path and get a subspace in which you can put all of the data for each such table or collection (or whatever).</p>\n<p>But, in theory, you could just use the subspace layer directly and get the same level of data isolation. For example, you could just create a subspace whose prefix tuple is the same as the directory layer path you were giving to the directory layer, and everything would still work. The differences are:</p>\n<ul>\n<li>The directory layer generates much shorter prefixes. In particular, it will assign each path a tuple-encoded integer, which (because the tuple layer uses a variable length encoding) means that if you have fewer than 65,536 directories, you will only need 3 bytes per prefix at most. The subspace layer, by contrast, if given strings will produce a prefix which is (slightly) larger than the string itself.</li>\n<li>The directory layer supports renaming prefixes without moving any of the underlying data. In particular, directory layer \u201cmoves\u201d manipulate the logical-to-physical mapping data structures, but not the data themselves.</li>\n<li>The directory layer can be queried. So, for example, because it\u2019s possible to know if someone else has already used the same path, you can check. (The list method you mentioned can be useful for this, and also useful for recursively searching down different directory paths.)</li>\n<li>But, the directory layer requires an extra database read. In particular, before you can get the prefix, you have to ask the database what it is. You can cache this value\u2026but then you can\u2019t (safely) make use of the move or remove features of the directory layer unless you have a good solution to the cache invalidation problem.</li>\n<li>There is no relationship between the physical locations of different subdirectories\u2019 subspaces. This can be both good or bad. On the good side, it means that (1) your prefixes can be shorter and (2) you can move subdirectories around without moving data. On the bad side, it means that you can\u2019t do something like issue a single range delete to move all of the data in a directory and its subdirectories. You also can\u2019t do a single range scan and get all of the data if you are interested in copying the data from one cluster to another.</li>\n</ul>\n<p>As to whether the directory layer is optimized for dynamic directory creation, I\u2019d say it is. It doesn\u2019t use versionstamps for high throughput, but it uses an internal class called the \u201chigh contention allocator\u201d to generate short prefixes in a high contention way (thought it\u2019s not zero contention). Another member of the community actually wrote up a description of how the high-contention allocator works: <a href=\"https://www.activesphere.com/blog/2018/08/05/high-contention-allocator\">https://www.activesphere.com/blog/2018/08/05/high-contention-allocator</a></p>\n<p>That being said, you can also use the directory layer if you have only a few directories or if your directories are fairly static. Because of the extra DB reads, you have to be a little careful, especially because if you query the directory layer too frequently (because there is typically only one per cluster, though you can create additional ones), you can create \u201chot keys\u201d in the directory layer\u2019s subspace (by default, the <code>\\xfe</code> subspace). So, if you are primarily using the directory layer as a way of producing short prefixes from long paths (which is a reasonable enough use case), my suggestion would be to heavily cache the directory layer results (and just accept that you will never be able to \u201cremove\u201d or \u201cmove\u201d the path, which is fine for many use cases).</p>\n<hr>\n<p>I guess the mistake that those two layers are trying to help you avoid is doing something like creating a data model where you end up using the entire cluster, then you need to put some more meta-data somewhere else, and then you have no-where to put it, because you\u2019ve used the entire keyspace for the first part of your application. For example, you could imagine a simple data model where keys are some primary key and values are some say named tuple (serialized using your favorite named-tuple serializer):</p>\n<pre><code class=\"lang-auto\">(key1) -&gt; {a: 10, b: \"val\"}\n(key2) -&gt; {a: 66: c: \"var\"}\n</code></pre>\n<p>But then you decide you want an index on the \u201ca\u201d field of every named-tuple, something like:</p>\n<pre><code class=\"lang-auto\">10 -&gt; (key1)\n66 -&gt; (key2)\n</code></pre>\n<p>But where does it go? If integers are valid keys, then it\u2019s possible you will have keys that intersect with your index\u2026and that\u2019s no good. But if you used subspaces, you might do something like:</p>\n<pre><code class=\"lang-auto\">(\"primary\", key1) -&gt; {a: 10, b: \"val\"}\n(\"primary\", key2) -&gt; {a: 66: c: \"var\"}\n(\"secondary\", \"a_index\", 10) -&gt; (key1)\n(\"secondary\", \"a_index\", 66) -&gt; (key2)\n</code></pre>\n<p>I guess I\u2019d also note that even if it\u2019s not necessarily a \u201cmistake\u201d people make, the subspace layer (assisted by the directory layer) is required to implement multi-tenancy in any sane way. If you have multiple users/applications sharing the same FoundationDB cluster, subspaces and directories are the easiest way to achieve data isolation (with each user getting their own directory/subspace).</p>\n<hr>\n<p>When is it a bad idea to use the directory layer?</p>\n<p>Well, as mentioned above, if you only have a few, relatively static directories, it\u2019s usually a bad idea to na\u00efvely use the directory layer because you might run into hot keys in an instance where the results can be easily cached. (You also save yourself a round trip or two.) I suppose you can also run into hot keys (or hot ranges) in general with the directory layer. For that reason, you might need to maintain multiple directory layers and load balance between them if you can\u2019t cache.</p>\n<p>Also, even though the directory layer is designed to handle multiple incoming requests fairly well, if you create directories too frequently, you can run into issues stemming from the fact that (1) as you create more directories, the prefix must necessarily get larger (at a logarithmic rate) and (2) as you create more directories, you must store meta-data about the fact that the directory exists. So, for example, the \u201cworst case\u201d might be something like every time you store a new key, you create a new directory just for it. Then because of book-keeping information, you are more than doubling the number of keys and number of key bytes used to store this single key. Yuck.</p>\n<hr>\n<p>I guess I\u2019d propose this rule of thumb: the directory layer should be used to create keyspaces to distinguish different uses of the FoundationDB cluster, while the subspace layer should be used directly to separate concerns within one single usage.</p>\n<p>I\u2019m not sure that that rule makes any sense as I type it out, but let\u2019s take the example of a simple data model from primary key to named tuple. In this instance, I\u2019d probably say that keeping track of the \u201cprimary key\u201d and index information is a use within a single usage, so one should probably use the subspace layer directly (probably choosing short names for the primary keyspace and secondary indexes subspaces\u2013perhaps the integers 1 and 2\u2013maybe reserving 0 for meta-data?). But let\u2019s say you wanted to run two copies of this simple system on the same cluster. Then maybe you\u2019d give each collection its own directory prefix. Something like:</p>\n<pre><code class=\"lang-auto\">dir: \"/use1\", 1, key1 -&gt; { a: 10, b: \"val\"}\ndir: \"/use1\", 1, key2 -&gt; { a: 66: c: \"var\"}\ndir: \"/use1\", 2, \"a\", 10 -&gt; key1\ndir: \"/use1\", 2, \"a\", 66 -&gt; key2\n\ndir: \"/use2\", 1, key3 -&gt; { a: 15 }\ndir: \"/use2\", 1, key4 -&gt; { a: 14, d: false }\ndir: \"/use2\", 2, \"a\", 14 -&gt; key4\ndir: \"/use2\", 2, \"a\", 15 -&gt; key3\n</code></pre>\n<p>(Another thing you could so is for each usage, you keep track of its own directory layer that has a mapping of, say, index or table names to short prefixes that you use within that copy of your system, which avoids one use case spilling into another and, say, filling up its directory layer. This also helps balance out the load rather than sending everything to the one-and-only directory layer and creating hot keys.)</p>\n<hr>\n<p>Hopefully this is at all cogent. If not, feel free to ask follow up questions.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2018-09-03T18:59:55.625Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 460,
        "reads": 191,
        "readers_count": 190,
        "score": 2465.2,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://www.activesphere.com/blog/2018/08/05/high-contention-allocator",
            "internal": false,
            "reflection": false,
            "title": "High contention allocator :: ActiveSphere - Bangalore based software consulting",
            "clicks": 55
          },
          {
            "url": "https://forums.foundationdb.org/t/looking-for-layer-design-documentation/946/6",
            "internal": true,
            "reflection": true,
            "title": "Looking for layer design documentation",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/how-many-directories-is-too-many/4751/2",
            "internal": true,
            "reflection": true,
            "title": "How many directories is \"too many?\"",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 7
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2044,
        "name": "Amirouche",
        "username": "amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "created_at": "2018-09-08T07:02:24.243Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"2\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>Because of the extra DB reads, you have to be a little careful, especially because if you query the directory layer too frequently</p>\n</blockquote>\n</aside>\n<p>Does this translates in terms of Python code into creating <code>Directory</code> instance?</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"2\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>I guess the mistake that those two layers are trying to help you avoid is doing something like creating a data model where you end up using the entire cluster</p>\n</blockquote>\n</aside>\n<p>I just want to stress that <code>Subspace</code> alone already allows that.</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"2\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>I guess I\u2019d propose this rule of thumb: the directory layer should be used to create keyspaces to distinguish different uses of the FoundationDB cluster, while the subspace layer should be used directly to separate concerns within one single usage.</p>\n</blockquote>\n</aside>\n<p>A \u201csingle usage\u201d like say, in a mongodb-like collection, there is the 1) actual documents and 2) the description of indices (metadata) 3) the actual indices. All those three subspaces don\u2019t need to be directories to me.</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"2\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>which avoids one use case spilling into another and, say, filling up its directory layer. This also helps balance out the load rather than sending everything to the one-and-only directory layer and creating hot keys.</p>\n</blockquote>\n</aside>\n<p>I think that\u2019s the most two important points.</p>\n<p>It seems to me, I can go on with <code>Subspace</code> class and <code>Enum</code> classes which will map application / collection / subs to short prefixes. It avoids the hot keys problem and avoid the need to come up with a cache machinery. I will have:</p>\n<ul>\n<li>I will have as short as possible prefixes</li>\n<li>I will be able to rename subspaces by changing the enum</li>\n<li>I will somewhat be able to query with some heuristics, the structure via enum introspection</li>\n</ul>\n<p>That said it\u2019s a more \u2018static\u2019 approach, I can not dynamically in the application create subspaces since they are statically \u2018allocated\u2019 in the enums.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2018-09-08T07:02:24.243Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 1,
        "incoming_link_count": 15,
        "reads": 150,
        "readers_count": 149,
        "score": 110.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Amirouche",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 41,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2049,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2018-09-08T16:19:22.840Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"amirouche\" data-post=\"3\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/amirouche/48/1911_2.png\" class=\"avatar\"> amirouche:</div>\n<blockquote>\n<p>Does this translates in terms of Python code into creating <code>Directory</code> instance?</p>\n</blockquote>\n</aside>\n<p>Yeah, creating the directory instance (i.e., calling <code>create</code>, <code>open</code>, or <code>create_or_open</code>). Listing the directory layer also queries it.</p>\n<aside class=\"quote no-group\" data-username=\"amirouche\" data-post=\"3\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/amirouche/48/1911_2.png\" class=\"avatar\"> amirouche:</div>\n<blockquote>\n<p>I just want to stress that <code>Subspace</code> alone already allows that.</p>\n</blockquote>\n</aside>\n<p>Correct.</p>\n<aside class=\"quote no-group\" data-username=\"amirouche\" data-post=\"3\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/amirouche/48/1911_2.png\" class=\"avatar\"> amirouche:</div>\n<blockquote>\n<p>A \u201csingle usage\u201d like say, in a mongodb-like collection, there is the 1) actual documents and 2) the description of indices (metadata) 3) the actual indices. All those three subspaces don\u2019t need to be directories to me.</p>\n</blockquote>\n</aside>\n<p>Yeah, that is loosely what I meant by a single \u201cusage\u201d, though there\u2019s probably a better term for it. Though different collections might have their own directory (or different \u201cdatabase\u201d where \u201cdatabase\u201d is used to mean \u201ca set of collections\u201d.)</p>\n<aside class=\"quote no-group\" data-username=\"amirouche\" data-post=\"3\" data-topic=\"677\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/amirouche/48/1911_2.png\" class=\"avatar\"> amirouche:</div>\n<blockquote>\n<p>That said it\u2019s a more \u2018static\u2019 approach, I can not dynamically in the application create subspaces since they are statically \u2018allocated\u2019 in the enums.</p>\n</blockquote>\n</aside>\n<p>Your approach here looks solid enough to me. Depending on the application, you might be able to still create new subspaces on the fly (for certain definitions of \u201con the fly\u201d). I\u2019mg going to use your example of a document database with documents, indices, and meta-data about which indices exist. Lets say you wanted to add a new index. In the index meta-data, if you include the (short) subspace prefix, then you can effectively add to your enum on the fly. Now, um, you have to somehow solve the problem of how do you make sure all of your clients get word that the new index exists (but that <a href=\"https://forums.foundationdb.org/t/implementing-atomic-ddl-for-sql-schema/678\">shouldn\u2019t be too hard, right?</a>), but once you do, you get the subspace prefix virtually for free.</p>\n<p>But yeah, a static approach would sound reasonable if you have some notion of what the subspaces might look like <em>a priori</em>, which you probably do.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2018-09-08T16:19:22.840Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 15,
        "reads": 130,
        "readers_count": 129,
        "score": 116.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/implementing-atomic-ddl-for-sql-schema/678",
            "internal": true,
            "reflection": false,
            "title": "Implementing atomic DDL for SQL schema",
            "clicks": 19
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3642,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-03-13T15:46:40.332Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/bbc\">@bbc</a> <a class=\"mention\" href=\"/u/alloc\">@alloc</a> <a class=\"mention\" href=\"/u/amirouche\">@amirouche</a>  I am new to FDB. I am coming from the RDBMS and Cassandra world of tables. Help me with a <strong>\u201crule of thumb\u201d</strong>. My use case is simple. A <code>user</code> table with id, name. A <code>tweet</code> table with id, userId, content. In FDB, should <code>user</code> and <code>tweet</code> be a <code>DirectorySubspace</code> using <code>create_or_open</code> or should it be <code>Subspace</code>. Also how about id, name, content etc.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2019-03-13T21:23:35.874Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 105,
        "readers_count": 104,
        "score": 26.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3644,
        "name": "Amirouche",
        "username": "amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "created_at": "2019-03-13T22:14:10.821Z",
        "cooked": "<p>My approach for MY project is to avoid Directory layer but that is a performance optimization. Otherwise said, Directory might work for you. Also, it is a good idea to read the code, at least of the subspace layer to get a feeling of how things work in FDB.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2019-03-13T22:14:10.821Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 100,
        "readers_count": 99,
        "score": 40.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Amirouche",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 538,
          "username": "ravilution",
          "name": "Ravilution",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 41,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11362,
        "name": "Narayanan K",
        "username": "knarayanan88",
        "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png",
        "created_at": "2022-06-30T21:13:37.189Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/alloc\">@alloc</a> <a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a> - Could you please confirm if my understanding of subspaces mentioned below is correct ?</p>\n<p>When we have multiple levels of subspace with the same prefix \u201cdatasources\u201d (see eg below), do they all share the same keyspace and as a result there is no tenant level isolation ? i.e there is no difference in having a single string as subspace vs a Subspace Tuple (with same prefix string), all keys with nested subspaces within the parent subspaces are going to pound into the same start and end keyrange mapped for the prefix subspace and can lead to Hot-Spotting a single storage server. Is this understanding correct ?</p>\n<p>Subspace Tuple: (datasource, tenant1) =&gt; Key: k1, Value: v1<br>\nSubspace Tuple: (datasource, tenant2) =&gt; Key: k2, Value: v2<br>\nSubspace Tuple: (datasource, tenant3) =&gt; Key: k3, Value: v3</p>\n<p>It is a bit confusing because the keys are going to have tenant information in them. So it makes me think each tenant is going to get a different keyspace and writes will happen in parallel.</p>\n<p>For eg: tenant1\u2019s keyrange starts with key: \\x02datasource\\x00\\x02tenant1\\x00 to \\x02datasource\\x00\\x02tenant1\\xff.</p>\n<p>tenant2\u2019s keyrange is between  \\x02datasource\\x00\\x02tenant2\\x00 to \\x02datasource\\x00\\x02tenant2\\xff.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-06-30T21:28:20.916Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 46,
        "readers_count": 45,
        "score": 49.2,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Narayanan K",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1080,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11378,
        "name": "Narayanan K",
        "username": "knarayanan88",
        "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png",
        "created_at": "2022-07-01T15:02:48.425Z",
        "cooked": "<p>When I think more about this, since FDB sorts keys lexicographically, the keys from the different tenants (in my above data model with same prefix subspace) will end up near each other and hence within the same giant keyspace between \\x02datasource\\x00 to \\x02datasource\\xff. So it doesn\u2019t provide tenant isolation, though all keys belonging to one tenant will be grouped together.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-07-01T18:25:19.707Z",
        "reply_count": 1,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 44,
        "readers_count": 43,
        "score": 13.8,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Narayanan K",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1080,
          "username": "knarayanan88",
          "name": "Narayanan K",
          "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1080,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11393,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2022-07-03T22:26:44.594Z",
        "cooked": "<p>That\u2019s correct, keys in a subspace will all share the subspace\u2019s prefix, even if you nest multiple subspaces underneath it. The same is not true for directories, where a subdirectory\u2019s data is disjoint from its parent.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-07-03T22:26:44.594Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 40,
        "readers_count": 39,
        "score": 28.0,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1080,
          "username": "knarayanan88",
          "name": "Narayanan K",
          "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11509,
        "name": "Narayanan K",
        "username": "knarayanan88",
        "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png",
        "created_at": "2022-07-22T02:24:33.270Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a> - Follow up question - Does pre-splitting a single subspace into multiple keyranges (by randomizing the key prefix within the subspace) help prevent writes into this subspace from hotspotting a single storage server? (similar to pre-splitting a table in hbase to avoid hotspotting of a region server?).</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-07-22T02:24:33.270Z",
        "reply_count": 0,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 38,
        "readers_count": 37,
        "score": 17.6,
        "yours": false,
        "topic_id": 677,
        "topic_slug": "whats-the-purpose-of-the-directory-layer",
        "display_username": "Narayanan K",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1080,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/whats-the-purpose-of-the-directory-layer/677/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      2022,
      2025,
      2044,
      2049,
      3642,
      3644,
      11362,
      11378,
      11393,
      11509
    ]
  },
  "timeline_lookup": [
    [
      1,
      2606
    ],
    [
      2,
      2605
    ],
    [
      3,
      2601
    ],
    [
      4,
      2600
    ],
    [
      5,
      2414
    ],
    [
      7,
      1209
    ],
    [
      8,
      1208
    ],
    [
      9,
      1206
    ],
    [
      10,
      1188
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "What&rsquo;s the purpose of the Directory layer?",
  "id": 677,
  "title": "What's the purpose of the Directory layer?",
  "posts_count": 10,
  "created_at": "2018-09-02T20:58:11.436Z",
  "views": 6523,
  "reply_count": 6,
  "like_count": 11,
  "last_posted_at": "2022-07-22T02:24:33.270Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "whats-the-purpose-of-the-directory-layer",
  "category_id": 9,
  "word_count": 2806,
  "deleted_at": null,
  "user_id": 41,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_677",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 11,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 5,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Application design using Subspace and Tuple",
      "id": 452,
      "title": "Application design using Subspace and Tuple",
      "slug": "application-design-using-subspace-and-tuple",
      "posts_count": 9,
      "reply_count": 7,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2018-05-22T21:46:43.537Z",
      "last_posted_at": "2018-07-14T21:02:50.010Z",
      "bumped": true,
      "bumped_at": "2018-07-14T21:02:50.010Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 3678,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 211,
            "username": "brk0v",
            "name": "Viacheslav Biriukov",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brk0v/{size}/173_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 317,
            "username": "Lundin",
            "name": "Pontus Lundin",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/dfb087/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Questions about the Directory partitions",
      "id": 2514,
      "title": "Questions about the Directory partitions",
      "slug": "questions-about-the-directory-partitions",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2021-01-18T13:24:12.363Z",
      "last_posted_at": "2021-01-25T12:20:22.847Z",
      "bumped": true,
      "bumped_at": "2021-01-25T12:20:22.847Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 883,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 534,
            "username": "PierreZ",
            "name": "Pierre Zemb",
            "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 120,
            "username": "josephg",
            "name": "Seph Gentle",
            "avatar_template": "/user_avatar/forums.foundationdb.org/josephg/{size}/84_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Can subspace/dir be used unlimited (modelling) and about multi client",
      "id": 536,
      "title": "Can subspace/dir be used unlimited (modelling) and about multi client",
      "slug": "can-subspace-dir-be-used-unlimited-modelling-and-about-multi-client",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-07-01T15:39:50.966Z",
      "last_posted_at": "2018-07-03T18:41:34.170Z",
      "bumped": true,
      "bumped_at": "2018-07-03T18:44:49.138Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1105,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 317,
            "username": "Lundin",
            "name": "Pontus Lundin",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/dfb087/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Redwood engine and Directory layer",
      "id": 3084,
      "title": "Redwood engine and Directory layer",
      "slug": "redwood-engine-and-directory-layer",
      "posts_count": 16,
      "reply_count": 9,
      "highest_post_number": 16,
      "image_url": null,
      "created_at": "2021-12-17T09:33:19.520Z",
      "last_posted_at": "2022-06-15T11:29:51.918Z",
      "bumped": true,
      "bumped_at": "2022-06-15T11:29:51.918Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 2144,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 946,
            "username": "rajivr",
            "name": "Rajiv M Ranganath",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rajivr/{size}/1100_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 534,
            "username": "PierreZ",
            "name": "Pierre Zemb",
            "avatar_template": "/user_avatar/forums.foundationdb.org/pierrez/{size}/866_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 41,
            "username": "amirouche",
            "name": "Amirouche",
            "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "KeySpace and FDB Directory Layer",
      "id": 3585,
      "title": "KeySpace and FDB Directory Layer",
      "slug": "keyspace-and-fdb-directory-layer",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2022-10-11T00:20:13.091Z",
      "last_posted_at": "2022-10-12T09:36:00.956Z",
      "bumped": true,
      "bumped_at": "2022-10-12T09:36:00.956Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 505,
      "category_id": 12,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 1027,
            "username": "randyhu",
            "name": "Randy Hu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/randyhu/{size}/1224_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 219,
            "username": "MMcM",
            "name": "Mike McMahon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 41,
        "username": "amirouche",
        "name": "Amirouche",
        "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1080,
        "username": "knarayanan88",
        "name": "Narayanan K",
        "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 8,
        "username": "alloc",
        "name": "Alec Grieser",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 538,
        "username": "ravilution",
        "name": "Ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 41,
      "username": "amirouche",
      "name": "Amirouche",
      "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png"
    },
    "last_poster": {
      "id": 1080,
      "username": "knarayanan88",
      "name": "Narayanan K",
      "avatar_template": "/user_avatar/forums.foundationdb.org/knarayanan88/{size}/1300_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/api-python.html#directories",
        "title": "Python API \u2014 FoundationDB 5.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 209,
        "user_id": 41,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://www.activesphere.com/blog/2018/08/05/high-contention-allocator",
        "title": "High contention allocator :: ActiveSphere - Bangalore based software consulting",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 55,
        "user_id": 8,
        "domain": "www.activesphere.com",
        "root_domain": "activesphere.com"
      },
      {
        "url": "https://apple.github.io/foundationdb/api-python.html#fdb.DirectoryLayer.list",
        "title": "Python API \u2014 FoundationDB 5.2",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 39,
        "user_id": 41,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://forums.foundationdb.org/t/implementing-atomic-ddl-for-sql-schema/678",
        "title": "Implementing atomic DDL for SQL schema",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 19,
        "user_id": 8,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/looking-for-layer-design-documentation/946/6",
        "title": "Looking for layer design documentation",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 2,
        "user_id": 41,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}