{
  "post_stream": {
    "posts": [
      {
        "id": 3924,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-14T15:00:52.005Z",
        "cooked": "<p>Hi, how do I go pagination in FDB with Go Lang. Here is a simple example I want to search users by keyword. My keys in FDB might be like this <code>/search/user/&lt;keyword&gt;/&lt;username&gt;</code>. Imagine <code>/search/user/donald/realDonaldTrump</code>, <code>/search/user/trump/realDonaldTrump</code> as some of the sample keys. Let me know how to do pagination search by keyword. Keywords while searching can be full or partial. So for example, it can be <code>tru</code>, <code>trum</code>, <code>trump</code>.</p>\n<p><strong>Edit 1</strong><br>\nBased on the <a href=\"https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging\" rel=\"nofollow noopener\">FDB Known Limitation</a> let us assume we are going to achieve pagination using <code>GetRange(Begin, Limit)</code>. We are not going to use <code>End</code>. For my first page result, I would do something like</p>\n<p><strong>Note: Not real code. Just representation.</strong></p>\n<pre><code class=\"lang-auto\">/* assume there are /search/user/trump/realDonaldTrump1 to /search/user/trump/realDonaldTrump20 */\nbeginKey := '/search/user/trump/'\nfdb.SelectorRange{Begin: fdb.FirstGreaterThan(beginKey), Limit: 10}\n</code></pre>\n<p>the last key for the first result page will be <code>/search/user/trump/realDonaldTrump10</code>. What is the <code>beginKey</code> for the next page? The entire number 10 key wont work. if I use this <code>/search/user/trump/</code> I will get the first page again.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-16T16:20:28.607Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 551,
        "reads": 54,
        "readers_count": 53,
        "score": 2765.8,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging",
            "internal": false,
            "reflection": false,
            "title": "Known Limitations \u2014 FoundationDB 6.0",
            "clicks": 10
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 3926,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2019-04-16T01:58:24.155Z",
        "cooked": "<p>I think there are essentially two questions embedded in here: (1) how to search by keyword and (2) how to paginate. I\u2019ll tackle those in order.</p>\n<p>To search by keyword, the tricky part here appears to be the \u201cprefix\u201d part of the search, if I\u2019m understanding correctly. You should be able to use the Tuple and Subspace layers to serialize the keys to the database in the correct order, and then it\u2019s a matter of finessing the keys to read correctly. I think if your inserts are something like:</p>\n<pre><code class=\"lang-go\">userSubspace := subspace.Sub(\"system\", \"user\")\nfunc (tr fdb.Transaction) WriteUser(username string, keyword string) {\n    key := userSubspace.Pack(tuple.Tuple{keyword, username})\n    tr.Set(key, []byte{})\n}\n</code></pre>\n<p>Then reading is something like:</p>\n<pre><code class=\"lang-go\">func (tr fdb.Transaction) ReadKeywords(keywordPrefix string) ([]string, err) {\n   keywordBytes := userSubspace.Pack(tuple.Tuple{keywordPrefix})\n   rangeStart := keywordBytes[:len(keywordBytes) - 1]\n   rangeEnd := fdb.Strinc(rangeStart)\n   fdbRange := fdb.KeyRange{Begin: rangeStart, End: rangeEnd}\n   // then read the range (as discussed below)\n}\n</code></pre>\n<p>For the pagination part, I think you could do something like:</p>\n<pre><code class=\"lang-go\">func (tr fdb.ReadTransaction) ReadPaginatedRange(fdbRange fdb.Range, continuation fdb.KeyConvertible, limit int) ([]fdb.KeyValue, fdb.KeyConvertible, error) {\n    options := fdb.RangeOptions(Limit: limit)\n    var effectiveRange fdb.Range\n    if continuation == nil {\n        effectiveRange = fdbRange\n    } else {\n        _, end := fdbRange.FDBRangeKeySelectors()\n        effectiveRange = fdb.SelectorRange{Begin: fdb.FirstGreaterThan(continuation), End: end}\n    }\n\n    rr := tr.getRange(effectiveRange, options)\n    kvs, err := rr.GetSliceWithError()\n    if err != nil {\n        return nil, nil, err\n    }\n\n    if len(kvs) &lt; limit {\n        // Did not return all results, so no more data. Return nil as the continuation.\n        return kvs, nil, nil\n    } else {\n        // Hit limit. Return the last key in the slice as the last read key.\n        return kvs, kvs[len(kvs) - 1].Key, nil\n    }\n}\n</code></pre>\n<p>My go is a little rusty, but I think this is essentially what you want. Modulo any compiliation errors (disclaimer\u2013I haven\u2019t tried to compile this), the idea here is that it will read some number of keys and then return a 3-tuple containing: the data, a \u201ccontinuation\u201d key, and an error. The error just propagates any error encountered from FDB; the continuation is then used to resume the get range, with a <code>nil</code> continuation passed into the function meaning \u201cresume from the beginning\u201d and a <code>nil</code> continuation coming out of the function meaning, \u201cthere is no more data\u201d. So then you would call this with something like:</p>\n<pre><code class=\"lang-go\">func (db fdb.Database) ReadPaginatedRange(range fdb.Range, limit int) ([]fdb.KeyValue, error) {\n    var continuation fdb.KeyConvertible = nil\n    var results []fdb.KeyValue = []\n    var done bool = false\n    for !done {\n        _, err := db.ReadTransact(func(tr fdb.ReadTransaction) (interface{}, error) {\n            kvs, continuationInner, eInner := tr.ReadPaginatedRange(range, limit, continuation)\n            if eInner != nil {\n                 return nil, eInner\n            }\n            continuation = continuationInner\n            results = append(results, kvs...) // there's probably a better way to do this that doesn't have O(n^2) runtime\n            return nil, nil\n        })\n        done = continuation == nil\n    }\n    return results\n}\n</code></pre>\n<p>(Again, sorry, my go is a little rusty.) But the idea is that a different transaction is used for each loop; retriable errors encountered while paginating (like transient network failures or an fdb recovery or a transaction hitting the 5 second limit) are retried by the ReadTransact call, but successful reads advance the continuation until the results slice has all of the results from all of the transactions. One still has to be at least a little careful to make sure that one doesn\u2019t read too much data from FDB and OOM one\u2019s process, but alas.</p>\n<p>Something like that.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-16T01:58:24.155Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 17,
        "reads": 51,
        "readers_count": 50,
        "score": 102.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3943,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-16T16:21:25.012Z",
        "cooked": "<p>Hi <a class=\"mention\" href=\"/u/alloc\">@alloc</a>, thank you for the response. Can you check the edit I have made to the question. I am confused about the continuation key you are mentioning. That is were I am stuck.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-16T16:21:25.012Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 40,
        "readers_count": 39,
        "score": 13.0,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 8,
          "username": "alloc",
          "name": "Alec Grieser",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3963,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-18T03:25:58.835Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a> can you help me?</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T03:25:58.835Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 40,
        "readers_count": 39,
        "score": 13.0,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3964,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T08:13:12.886Z",
        "cooked": "<p>Hi <a class=\"mention\" href=\"/u/ravilution\">@ravilution</a>, I believe your confusion is regarding how to get the <code>next</code> key to start your follow-up paginated request; such a key can be formed by appending a single byte - <code>0x00</code> to the last key (<code>byte[]</code>) obtained in the previous batch.</p>\n<p>Probably something like <a href=\"https://github.com/apple/foundationdb/blob/058d0280991bfefa2d3b869b3078e95547b82429/fdbclient/FDBTypes.h#L298\" rel=\"nofollow noopener\">this</a>? I have implemented a helper method in Java to do the same (you can do something like this in Go):</p>\n<pre><code class=\"lang-auto\">     * Returns the immediate next key that would sort after the given key.\n     * Just appends 0x00 to the passed byte[]\n     */\n    public static byte[] keyAfter(final byte[] key) {\n        final byte[] n = new byte[key.length + 1];\n        System.arraycopy(key, 0, n, 0, key.length);\n        n[key.length] = 0x0;\n        return n;\n    }</code></pre>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T08:13:12.886Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 41,
        "readers_count": 40,
        "score": 18.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/058d0280991bfefa2d3b869b3078e95547b82429/fdbclient/FDBTypes.h#L298",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/FDBTypes.h at 058d0280991bfefa2d3b869b3078e95547b82429 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 538,
          "username": "ravilution",
          "name": "Ravilution",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3966,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-18T13:52:14.369Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/gaurav\">@gaurav</a> I am unable to explain my confusion in the best way. Let me try again. Image I have below data in FDB</p>\n<pre><code class=\"lang-auto\">\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump1\\x00 '' \n\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00 '' \n\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump3\\x00 ''\n</code></pre>\n<p>When the user searches with the keyword <code>\"trump\"</code> I will form a key like this <em>\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump</em>. For the sake of this discussion, imagine <strong><code>LIMIT</code> is <code>1</code></strong>.</p>\n<p>The last key of the first page result will be <em>x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02<strong>realdonaldtrump1</strong>\\x00</em>.</p>\n<blockquote>\n<p>Now what is should be my key for next page result to get keys and values for <em>x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02<strong>realdonaldtrump2</strong>\\x00</em>.</p>\n</blockquote>\n<ol>\n<li>\n<p>If I use the last key completely (<em>x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02<strong>realdonaldtrump1</strong>\\x00)</em>, I will get no result.</p>\n</li>\n<li>\n<p>If I trim it to <em>x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump</em>, I will get the same old first page as a result.</p>\n</li>\n</ol>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T13:52:14.369Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 39,
        "readers_count": 38,
        "score": 12.8,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3967,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T14:20:41.995Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ravilution\" data-post=\"6\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ravilution/48/728_2.png\" class=\"avatar\"> ravilution:</div>\n<blockquote>\n<p>If I use the last key completely ( <em>x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02 <strong>realdonaldtrump1</strong> \\x00)</em> , I will get no result.</p>\n</blockquote>\n</aside>\n<p>If you use the above key as the start key of the next request, you should get back all the three rows. Why are you suggesting that using this as start-key will result in no result?</p>\n<p>If you use the code snippet I posted, you would get back all rows AFTER the last row you got in the previous page.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T14:20:41.995Z",
        "reply_count": 0,
        "reply_to_post_number": 6,
        "quote_count": 1,
        "incoming_link_count": 4,
        "reads": 36,
        "readers_count": 35,
        "score": 27.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3968,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-18T14:42:05.421Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/gaurav\">@gaurav</a> Thank you for the quick response. No disrespect to you. Trying to understand the fundamentals. Below is what I get when I run in fdbcli</p>\n<pre><code class=\"lang-auto\">fdb&gt; getrange \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00\n\nRange limited to 25 keys\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00' is `'\n</code></pre>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T14:42:17.240Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 35,
        "readers_count": 34,
        "score": 7.0,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3969,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T14:58:05.198Z",
        "cooked": "<p>Please try the full syntax for getrange <code>Usage: getrange &lt;BEGINKEY&gt; [ENDKEY] [LIMIT]</code>. I am not sure what is the semantics for using this command with only begin key:</p>\n<pre><code class=\"lang-auto\">fdb&gt; getrange \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump1\\x00 \\xFF 3\n\nRange limited to 3 keys\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump1\\x00' is `'1''\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00' is `'2''\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump3\\x00' is `'3''\n</code></pre>\n<pre><code class=\"lang-auto\">fdb&gt; getrange \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00 \\xFF 2\n\nRange limited to 2 keys\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00' is `'2''\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump3\\x00' is `'3''\n</code></pre>\n<p>With extra \\x00 appended (keyAfter)</p>\n<pre><code class=\"lang-auto\">fdb&gt; getrange \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump1\\x00\\x00 \\xFF 3\n\nRange limited to 3 keys\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump2\\x00' is `'2''\n`\\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump3\\x00' is `'3''\n`\\x15\\x12\\x14\\x15\\x03\\x15\\x01\\x15\\x01\\x1a\\x01h\\xb7\\x18\\xfa\\xe6\\x15~\\x1a\\x01h\\xb7\\x18\\xfa\\x82' is `'\n</code></pre>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T14:59:25.204Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 36,
        "readers_count": 35,
        "score": 12.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3970,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T15:18:29.872Z",
        "cooked": "<blockquote>\n<p>fdb&gt; help getrange<br>\ngetrange  [ENDKEY] [LIMIT]</p>\n<p>Fetch key/value pairs in a range of keys.</p>\n<p>Displays up to LIMIT keys and values for keys between BEGINKEY (inclusive) and<br>\nENDKEY (exclusive). If ENDKEY is omitted, then the range will include all keys<br>\nstarting with BEGINKEY. LIMIT defaults to 25 if omitted.</p>\n<p>For information on escaping keys, type `help escaping\u2019.</p>\n</blockquote>\n<p>Apparently, when you omit <code>ENDKEY </code>, then <code>getrange</code> is looking for all keys <code>starting with</code> the BEGINKEY.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T15:18:29.872Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 34,
        "readers_count": 33,
        "score": 26.8,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3971,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-18T15:18:47.130Z",
        "cooked": "<pre><code class=\"lang-auto\">getrange \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\x00\\x02realdonaldtrump1\\x00 \\x15\\x12\\x02search\\x00\\x02user\\x00\\x02trump\\xff 1\n</code></pre>\n<p>The above command works. Great! However, what are your thoughts on <a href=\"https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging\" rel=\"nofollow noopener\">FDB Known Limitation</a></p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T15:18:47.130Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 34,
        "readers_count": 33,
        "score": 26.8,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging",
            "internal": false,
            "reflection": false,
            "title": "Known Limitations \u2014 FoundationDB 6.0",
            "clicks": 8
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3972,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T15:23:55.154Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"ravilution\" data-post=\"11\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/ravilution/48/728_2.png\" class=\"avatar\"> ravilution:</div>\n<blockquote>\n<p>what are your thoughts on <a href=\"https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging\">FDB Known Limitation</a></p>\n</blockquote>\n</aside>\n<p>Anything specific to it that you want to inquire?</p>\n<p>I think this limitations is roughly saying that <code>offset</code> will need time/disk-access linear to size of <code>offset</code> used. Since, it will need to skip <code>offset</code> number of keys after finding the <code>pivot</code> key.</p>\n<p>If you can describe the usecase you have in mind to use large offsets, then someone here should be able to suggest an optimal approach.</p>\n<p>Just to make sure - this offset limitation is unrelated to \u201csearching\u201d the BEGIN and END keys in getrange operations (for operations you described above).</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T15:23:55.154Z",
        "reply_count": 0,
        "reply_to_post_number": 11,
        "quote_count": 1,
        "incoming_link_count": 9,
        "reads": 33,
        "readers_count": 32,
        "score": 51.6,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3973,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-04-18T15:35:23.214Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"gaurav\" data-post=\"5\" data-topic=\"1305\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/b487fb/48.png\" class=\"avatar\"> gaurav:</div>\n<blockquote>\n<p>I believe your confusion is regarding how to get the <code>next</code> key to start your follow-up paginated request; such a key can be formed by appending a single byte - <code>0x00</code> to the last key ( <code>byte[]</code> ) obtained in the previous batch.</p>\n</blockquote>\n</aside>\n<p>This works well as he described, but another option if you are using key selectors in your range query is to use the last key of your previous result in a <a href=\"https://godoc.org/github.com/apple/foundationdb/bindings/go/src/fdb#FirstGreaterThan\"><code>FirstGreaterThan</code></a> key selector, as Alec did in this line:</p>\n<pre><code class=\"lang-auto\">effectiveRange = fdb.SelectorRange{Begin: fdb.FirstGreaterThan(continuation), End: end}\n</code></pre>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T15:35:23.214Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 34,
        "readers_count": 33,
        "score": 6.8,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://godoc.org/github.com/apple/foundationdb/bindings/go/src/fdb#FirstGreaterThan",
            "internal": false,
            "reflection": false,
            "title": "fdb - GoDoc",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3974,
        "name": "Ravilution",
        "username": "ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "created_at": "2019-04-18T15:37:47.253Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/gaurav\">@gaurav</a> what is an <code>offset</code>? In my case, I will potentially have millions of records where I search users by keyword. In our above example, it is possible I have thousands of usernames tagged to trump keyword. My front end will only make a request for 15 to 20 records at a time. Rest as the user scrolls in the front end. So, imagine I am on the last page of the result whose total is in thousands. Does that make the offset big and slow?</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-18T15:37:47.253Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 33,
        "readers_count": 32,
        "score": 11.6,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Ravilution",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 538,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3975,
        "name": "gaurav",
        "username": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "created_at": "2019-04-18T15:49:33.468Z",
        "cooked": "<p>No, it does not make your offsets big. Since you are always giving a precise key (or keyprefix) to start the retrieval (both at the time of first search, as well as in the continuation pages), you will not have large offsets.</p>\n<p>Offsets are used to jump forward/backward n positions from a given search key.<br>\nI have not come across a good use case myself for using large offsets - probably one usecase could be to directly get the nth person on the leader board after/before a given person\u2026</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2019-04-19T02:30:25.753Z",
        "reply_count": 0,
        "reply_to_post_number": 14,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 33,
        "readers_count": 32,
        "score": 11.6,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "gaurav",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 538,
          "username": "ravilution",
          "name": "Ravilution",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 166,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13569,
        "name": "Legina Chen",
        "username": "leginachen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/leginachen/{size}/1647_2.png",
        "created_at": "2023-12-01T18:57:16.395Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/alloc\">@alloc</a> Your response/explanation was super helpful, thank you for writing it! Do you mind explaining why we need to leave out the last byte from <code>keywordBytes</code>?</p>\n<pre><code class=\"lang-auto\">   keywordBytes := userSubspace.Pack(tuple.Tuple{keywordPrefix})\n   rangeStart := keywordBytes[:len(keywordBytes) - 1]\n</code></pre>",
        "post_number": 16,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2023-12-01T18:57:36.545Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 21,
        "readers_count": 20,
        "score": 14.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Legina Chen",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1313,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/16",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13577,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2023-12-04T17:16:23.383Z",
        "cooked": "<p>Sure thing! The way strings are packed in the Tuple layer is as:</p>\n<pre><code class=\"lang-auto\">\\x02 + null-escaped UTF-8 byte string + \\x00\n</code></pre>\n<p>(See: <a href=\"https://github.com/apple/foundationdb/blob/main/design/tuple.md#unicode-string\">https://github.com/apple/foundationdb/blob/main/design/tuple.md#unicode-string</a>). This encoding means that if you have a bunch of keys all formed by <code>userSubspace.Pack(tuple.Tuple{keyword})</code>, then the keys within <code>userSubspace</code> are all sorted by keyword. So, for example, if your prefix is something like <code>\\x15\\x01</code> and your words are \u201cfox\u201d, \u201chare\u201d, \u201cherd\u201d, \u201cherder\u201d, \u201chermit\u201d, and \u201cgiraffe\u201d, then keys will look like:</p>\n<pre><code class=\"lang-auto\">\\x15\\x01\\x02fox\\x00\n\\x15\\x01\\x02hare\\x00\n\\x15\\x01\\x02herd\\x00\n\\x15\\x01\\x02herder\\x00\n\\x15\\x01\\x02hermit\\x00\n\\x15\\x01\\x02giraffe\\x00\n</code></pre>\n<p>In general, to scan for a byte range that\u2019s entirely prefixed by a given byte string, you can do that by using the byte string as the beginning of the range and then using the \u201cincremented\u201d byte string (that is, the original byte string with the last byte incremented by one as the end of the range) as the end of the range. (All ranges are inclusive of the first key and exclusive of the last key.) You can validate that\u2019s the case by considering any other byte string that is prefixed by the target string. That string will always be lexicographically greater than or equal to the prefix, but it will always be lexicographically less than the \u201cincremented\u201d string. Then you can validate that all other strings will either be less than the original string or greater than the incremented string.</p>\n<p>For the specific case of looking for a prefix string from keywords, what you\u2019re effectively trying to capture is all byte strings prefixed by the user-subspace prefix plus the <code>\\x02</code> type code + the prefix string. So, for example, if you want all strings beginning with \u201che\u201d, then you need so search for all FDB byte strings prefixed by <code>\\x15\\x01\\x02he</code>. Note that assuming everything is tuple packed, it actually would be okay to use <code>\\x15\\x01\\x02he\\x00</code> as the range start, and the results should always be the same (because the only key that is in one range but not the other is <code>\\x15\\x01\\x02\\he</code>, and that key shouldn\u2019t be in the database as it is not a valid tuple), as long as the correct ending string (the \u201cincremented\u201d version of the string without the last byte) is used.</p>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2023-12-04T17:16:23.383Z",
        "reply_count": 0,
        "reply_to_post_number": 16,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 16,
        "readers_count": 15,
        "score": 8.2,
        "yours": false,
        "topic_id": 1305,
        "topic_slug": "foundation-db-go-lang-pagination",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/main/design/tuple.md#unicode-string",
            "internal": false,
            "reflection": false,
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1313,
          "username": "leginachen",
          "name": "Legina Chen",
          "avatar_template": "/user_avatar/forums.foundationdb.org/leginachen/{size}/1647_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/foundation-db-go-lang-pagination/1305/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      3924,
      3926,
      3943,
      3963,
      3964,
      3966,
      3967,
      3968,
      3969,
      3970,
      3971,
      3972,
      3973,
      3974,
      3975,
      13569,
      13577
    ]
  },
  "timeline_lookup": [
    [
      1,
      2382
    ],
    [
      2,
      2381
    ],
    [
      3,
      2380
    ],
    [
      4,
      2379
    ],
    [
      6,
      2378
    ],
    [
      16,
      690
    ],
    [
      17,
      687
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Foundation DB Go Lang Pagination",
  "id": 1305,
  "title": "Foundation DB Go Lang Pagination",
  "posts_count": 17,
  "created_at": "2019-04-14T15:00:51.893Z",
  "views": 1967,
  "reply_count": 7,
  "like_count": 0,
  "last_posted_at": "2023-12-04T17:16:23.383Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "foundation-db-go-lang-pagination",
  "category_id": 7,
  "word_count": 2440,
  "deleted_at": null,
  "user_id": 538,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1305",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 17,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 5,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Ranges without explicit end (Go)",
      "id": 773,
      "title": "Ranges without explicit end (Go)",
      "slug": "ranges-without-explicit-end-go",
      "posts_count": 13,
      "reply_count": 10,
      "highest_post_number": 13,
      "image_url": null,
      "created_at": "2018-10-15T21:10:57.504Z",
      "last_posted_at": "2018-10-25T14:38:53.425Z",
      "bumped": true,
      "bumped_at": "2018-10-25T14:38:53.425Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 3281,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 391,
            "username": "atombender",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/atombender/{size}/688_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 378,
            "username": "num",
            "name": null,
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/db5fbb/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Missing API for getting just the count of a key range?",
      "id": 444,
      "title": "Missing API for getting just the count of a key range?",
      "slug": "missing-api-for-getting-just-the-count-of-a-key-range",
      "posts_count": 14,
      "reply_count": 9,
      "highest_post_number": 14,
      "image_url": null,
      "created_at": "2018-05-21T09:23:36.938Z",
      "last_posted_at": "2018-09-10T16:25:03.060Z",
      "bumped": true,
      "bumped_at": "2018-09-10T16:25:03.060Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 4,
      "views": 3599,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 208,
            "username": "cloudspeech",
            "name": "Cloudspeech",
            "avatar_template": "/user_avatar/forums.foundationdb.org/cloudspeech/{size}/330_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 31,
            "username": "dicklacara",
            "name": "Richard Applebaum",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8797f3/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Copying data from one &ldquo;table&rdquo; to another",
      "id": 860,
      "title": "Copying data from one \"table\" to another",
      "slug": "copying-data-from-one-table-to-another",
      "posts_count": 11,
      "reply_count": 7,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2018-11-10T19:48:38.480Z",
      "last_posted_at": "2019-09-19T21:56:33.805Z",
      "bumped": true,
      "bumped_at": "2019-09-19T21:56:33.805Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 1653,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 538,
            "username": "ravilution",
            "name": "Ravilution",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Last less than or last less or equal with limit added to keyselector returns different values",
      "id": 392,
      "title": "Last less than or last less or equal with limit added to keyselector returns different values",
      "slug": "last-less-than-or-last-less-or-equal-with-limit-added-to-keyselector-returns-different-values",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2018-05-10T05:13:03.437Z",
      "last_posted_at": "2018-05-10T06:40:07.295Z",
      "bumped": true,
      "bumped_at": "2018-05-10T06:40:07.295Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1008,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 231,
            "username": "xtreak",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/x/ad7895/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Is it possible to fetch two different keys using &ldquo;fdb_transaction_get_range&rdquo; API in C program",
      "id": 1388,
      "title": "Is it possible to fetch two different keys using \"fdb_transaction_get_range\" API in C program",
      "slug": "is-it-possible-to-fetch-two-different-keys-using-fdb-transaction-get-range-api-in-c-program",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2019-05-23T08:14:07.379Z",
      "last_posted_at": "2019-05-23T15:43:55.444Z",
      "bumped": true,
      "bumped_at": "2019-05-23T15:43:55.444Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 591,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 511,
            "username": "sakthivelpvs",
            "name": "Sakthivel",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/9dc877/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 538,
        "username": "ravilution",
        "name": "Ravilution",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png",
        "post_count": 7,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 166,
        "username": "gaurav",
        "name": "gaurav",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 8,
        "username": "alloc",
        "name": "Alec Grieser",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 1313,
        "username": "leginachen",
        "name": "Legina Chen",
        "avatar_template": "/user_avatar/forums.foundationdb.org/leginachen/{size}/1647_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 538,
      "username": "ravilution",
      "name": "Ravilution",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ravilution/{size}/728_2.png"
    },
    "last_poster": {
      "id": 8,
      "username": "alloc",
      "name": "Alec Grieser",
      "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/known-limitations.html#dont-use-key-selectors-for-paging",
        "title": "Known Limitations \u2014 FoundationDB 6.0",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 18,
        "user_id": 538,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/058d0280991bfefa2d3b869b3078e95547b82429/fdbclient/FDBTypes.h#L298",
        "title": "foundationdb/FDBTypes.h at 058d0280991bfefa2d3b869b3078e95547b82429 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 166,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}