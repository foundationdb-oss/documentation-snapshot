{
  "post_stream": {
    "posts": [
      {
        "id": 2227,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-05T00:51:33.611Z",
        "cooked": "<p>Hi All,</p>\n<p>I was going through to understand the Foundation DB.</p>\n<p>I could see that we can have multiple Tlogs,Proxies, Resolvers and a single Master and cluster controller in a single cluster Foundation DB env.</p>\n<p>My questions are:</p>\n<ol>\n<li>How does the read versions are communicated in Tlogs. is it like all the Tlogs will update after the complettion of transaction? Does this also update the commit version at Master?</li>\n<li>When Procies send the latest read  version to clients, how does a P1 proxy know the latest read version of P2. Do they all have the replicated copies? or does it communicate with Tlogs and send that.</li>\n<li>What is the importance of keeping Commit version in Master when we have the latest version in Tlogs.</li>\n<li>What is the importance of Resolver? Is it resolver who identifies the transaction conflicts or is it Tlogs?</li>\n</ol>\n<p>It might be a basic questions but was getting confused and would need your assistance to understand this further.</p>\n<p>Thanks &amp; Regards<br>\nChandru</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-05T00:51:47.849Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 495,
        "reads": 113,
        "readers_count": 112,
        "score": 2506.2,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/lifecycle-of-connections-between-client-and-fdb-processes/872",
            "internal": true,
            "reflection": true,
            "title": "Lifecycle of connections between client and FDB Processes",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 2228,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-10-05T00:55:18.773Z",
        "cooked": "<p>There\u2019s an old thread that have a lot of information about the overall flow of transactions in the system:  <a href=\"https://forums.foundationdb.org/t/technical-overview-of-the-database/135/4\">Technical overview of the database</a>.  Does that answer your questions?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-05T00:55:18.773Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 111,
        "readers_count": 110,
        "score": 21.8,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/technical-overview-of-the-database/135/4",
            "internal": true,
            "reflection": false,
            "title": "Technical overview of the database",
            "clicks": 99
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2229,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-05T04:04:17.828Z",
        "cooked": "<p>Thanks Alex for your reply.<br>\nI went through that post earlier and it did help me in getting some of the basics. However it did opened up some more questions which I raised in this post as well. Thats a positive thing to happen.<br>\nIf you can help me understand this, that will be great. Thanks a lot for your time to reply me.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-05T04:04:17.828Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 109,
        "readers_count": 108,
        "score": 41.4,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2230,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2018-10-05T04:42:41.666Z",
        "cooked": "<p>So, a bit on our write pipeline, which might be useful. The order of operations is:</p>\n<ol>\n<li>A client sends transaction to a proxy.</li>\n<li>The proxy asks the master for a commit version.</li>\n<li>The master sends back a commit version that is higher than any commit version seen before.</li>\n<li>The proxy sends the read and write conflict ranges to the resolver(s) with the commit version included.</li>\n<li>The resolver responds back with whether the transaction has any conflicts with previous transactions.</li>\n<li>If there are conflicts, the proxy responds back to the client with a <code>not_committed</code> error.</li>\n<li>If there are no conflicts, the proxy sends the mutations and commit version of this transaction to the transaction logs.</li>\n<li>Once the mutations are durable on the logs, the proxy responds back success to the user.</li>\n</ol>\n<p>So, to answer your questions:</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"1\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<ol>\n<li>What is the importance of Resolver? Is it resolver who identifies the transaction conflicts or is it Tlogs?</li>\n</ol>\n</blockquote>\n</aside>\n<p>Yep, that\u2019s exactly what it does. In particular, each transaction says what its read and write conflict ranges were (or, roughly, which keys it read and which keys it wrote). This it gets from the client. But each transaction also includes its commit version.* This allows the resolver to sort the transactions by this version, which then becomes the serial order in which the transactions could be rearranged. (In other words, if you know each transaction\u2019s commit version, you can pretend that all transactions were executed in serial in the same order as their commit versions.) That is to say, this is how we guarantee \u201cserializability\u201d, and any transaction which has a conflict is rejected as that would break our serializability guarantee.</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"1\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>What is the importance of keeping Commit version in Master when we have the latest version in Tlogs.</p>\n</blockquote>\n</aside>\n<p>So, as you can tell by the flow listed above, the tlogs don\u2019t actually have the latest version. In particular, any version that is associated with any transaction that has begun but not finished the commit pipeline will not be known to the transaction log. For example, let\u2019s say transaction A is sent to a proxy and (hypothetically) were to get its commit version by asking the tlogs for a version. It then sends information to the resolver and is waiting to hear back. Transaction B then comes along and also asks the transaction logs for a version. They haven\u2019t heard that A has been committed, so there\u2019s nothing to stop them from giving B a version that is the same as the version given A.</p>\n<p>Now, the transaction logs could somehow track the latest version they\u2019ve given out\u2026or something. But at this point, they are basically all having to do what the master is doing, so it ends up being easier just to elect a singleton, which can trivially enforce monotonicity of versions. It\u2019s also important for us to know for each commit version what the <em>previous</em> commit version was, because that\u2019s how we know on the resovlers and the logs that there aren\u2019t any gaps. Because the master is the only one giving these out, it knows that the last one was, too.</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"1\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>How does the read versions are communicated in Tlogs. is it like all the Tlogs will update after the complettion of transaction? Does this also update the commit version at Master?</p>\n</blockquote>\n</aside>\n<p>Read versions are never communicated to the tlogs\u2013only commit versions. The commit version is included along with the mutations of each transaction. The master already has a commit version at least as new by the nature of the commit pipeline.</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"1\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>When Procies send the latest read version to clients, how does a P1 proxy know the latest read version of P2. Do they all have the replicated copies? or does it communicate with Tlogs and send that.</p>\n</blockquote>\n</aside>\n<p>When the proxy gets a request for a new read version, it asks all of the other proxies what was the latest commit version of the most recent transaction they\u2019ve responded \u201csuccess\u201d to. The proxy takes the max of all responses (plus the max of the answer to that question asked to itself) to produce a version that is greater than or equal to any commit version that had been responded successfully to the user at the time the get read version request was issued. This guarantees causal consistency, in that the version the client receives is therefore guaranteed to include any commit from any transaction that heard back \u201csuccess\u201d before the client made the request.</p>\n<p>In theory, the proxies could actually talk to the logs instead. If they asked each transaction log what the most recent version they had committed was, then the proxy could produce a similar version. I believe the math here is that the proxy should take the minimum of all versions it receives back from the transaction logs as that\u2019s the greatest value that the user could have heard back success from.**</p>\n<hr>\n<p>* I\u2019m being a little sloppy here. It actually includes its commit version and a two-byte \u201cbatch version\u201d for ordering transactions within a single commit version. But if you pretend each commit version contains exactly one transaction, then this is equivalent to what I said.<br>\n** This assumes you aren\u2019t running with anti-quorums enabled. If you are, you can ignore the <em>k</em> smallest if you anti-quorum is <em>k</em>.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-05T04:42:41.666Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 1,
        "incoming_link_count": 18,
        "reads": 108,
        "readers_count": 107,
        "score": 158.2,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 384,
          "username": "Chandru4u",
          "name": "Chandrashekar",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2236,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-05T19:21:30.025Z",
        "cooked": "<p>Thanks Alec for the reply. I have tried to dipict my understanding here. Can you please check if my understanding is correct? I to have 2 questions that.</p>\n<ol>\n<li>Is commit version and read versions are same</li>\n<li>What is the significance of read version?</li>\n</ol>\n<p>My understanding is in Serializable optimiztic MVCC, the client receives the read version, Read time stamp ( RTS) and the sends back the mutation, read version RTS and WTS.<br>\nthen the Resolver check for any conflict action between RTS and WTS for that key/key range based on commit version for the read version.<br>\nIf any conflict actions then marks it as conflict otherwise signal to go ahead with the transaction.</p>\n<p>Is there a possibility of conflict post Resolver send a success to Proxy and while executing at Tlog and storage system? If so how that is being taken care?</p>\n<p>Thank you all guys for creating a Wonderfull platform to interact and help each other to understand better.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6.png\" title=\"image.png\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6_2_690x370.png\" alt=\"image\" width=\"690\" height=\"370\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6_2_690x370.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6_2_1035x555.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6_2_1380x740.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">image.png</span><span class=\"informations\">2096\u00d71124 242 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>Thanks &amp; Regards<br>\nChandru</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-05T19:22:21.037Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 85,
        "readers_count": 84,
        "score": 71.6,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6.png",
            "internal": false,
            "reflection": false,
            "title": "1cbd2e6a4a36ab00f2bc48be5d1f84f075f2fec6.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2245,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-10-06T01:46:46.735Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"5\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<ol>\n<li>Is commit version and read versions are same</li>\n<li>What is the significance of read version?</li>\n</ol>\n</blockquote>\n</aside>\n<p>Both of these numbers, in a sense, originate from the master, but at any point in time, the read version and commit version won\u2019t be the same.  The read version is the smallest number that is equal than or greater to any commit that has been acknowledged as committed by FDB.  The commit version is a number that is greater than any previously granted commit version.  The commit version should be greater than the read version, and this difference in versions represents the transactions that are \u201cin flight\u201d and FDB is working to commit but hasn\u2019t fully durably committed yet.</p>\n<p>One could just reply with the commit version when asked for a read version, but that would mandate waiting for every pipelined commit to be finished and applied on storage servers before a read could be done, which would be higher than necessary latency.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-06T01:46:46.735Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 1,
        "incoming_link_count": 9,
        "reads": 83,
        "readers_count": 82,
        "score": 91.4,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/proxy-all-to-all-communication/1540",
            "internal": true,
            "reflection": true,
            "title": "Proxy all-to-all communication",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2252,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2018-10-06T23:40:18.546Z",
        "cooked": "<p>Your chart looks mostly correct, with a few corrections:</p>\n<ol>\n<li>In bullet point 2, the claim is made that the cluster controller is one of the coordinators. This isn\u2019t actually true; the cluster controller is elected from members of the cluster, which usually includes the coordinators but it doesn\u2019t have to.*</li>\n<li>Step 6 (getting a read version) and step 7 precede step 5. (In other words, it\u2019s: (4) client gets read version from proxies, (5) proxies talk to each other to determine read version and send it to the client, (6) client sends transaction information to the proxies, (7) the proxies get a commit version from the master.)</li>\n<li>In step 7 (in the labeling in the chart), I don\u2019t think the read time stamp or the write time stamp are included in the message being passed. Or if they are, they aren\u2019t important for the flow. All that\u2019s important are (1) the read version, (2) the read conflict ranges, (3) the write conflict ranges, and (4) the list of mutations. Unlike a few other distributed databases, FoundationDB doesn\u2019t rely on timestamps because of not wanting to have to deal with clock (a)synchronization issues.</li>\n<li>In step 8, the read time stamp and write time stamp are again omitted. The read and commit versions are both sent along, as are the set of read and write conflict ranges. (The resolver uses the read version and the read conflict ranges to make sure there haven\u2019t been any modifications to any data that the transaction relied upon. It then uses the write conflict range set to update its data structure. It uses the commit version to order incoming requests, and it updates its internal data structure of mutations with entries using the new commit version when it\u2019s done.)</li>\n<li>For step 10, I wouldn\u2019t quite say \u201cexecute\u201d is the correct term. A few of our <a href=\"https://apple.github.io/foundationdb/developer-guide.html#atomic-operations\">atomic operations</a> require our transactions to do things that are a little bit \u201cexecution\u201d-y, e.g., if you include an <code>ADD</code> mutation in your commit, then the storage server will (1) read the key from disk, (2) add your value, and (3) write it out to disk, which kind of feels like \u201cexecuting\u201d the query. But it doesn\u2019t, e.g., execute a user-created script. I feel like \u201capply mutations\u201d is a better term, and that doesn\u2019t happen on the tlogs\u2013it just writes them down and makes them durable.</li>\n<li>I don\u2019t really know how the chart would communicate this, but steps 11 and 12 actually happen in parallel, i.e., we communicate success to the user after the transaction has been made durable by all of the transaction logs, but the storage servers start picking up mutations from the transaction logs before that.**</li>\n</ol>\n<p>I guess I\u2019ll also say that this chart leaves out the read path, i.e., everything the client does between getting a read version and sending a transaction out to be committed. That\u2019s probably fine to omit; I just wanted to make sure it was known so that we\u2019re all clear that there\u2019s more to the FDB-to-client interaction flow than is diagramed here.</p>\n<p>The response from <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a> goes into more detail about what the difference between, in some sense, the \u201ccluster\u2019s\u201d current read version (to the extent that it\u2019s a thing) and the \u201ccluster\u2019s\u201d given commit version. For any given transaction, the semantics are slightly different. In particular, the \u201cread version\u201d is a version the client gets from the proxies at the beginning of the transaction. Whenever the client asks the storage server for the value associated with some key (or range of keys), it gets the keys as they existed <em>at that version</em>. That is to say, when it reads those keys, it won\u2019t see the effects of any transaction that was committed with a version greater than the transaction\u2019s commit version. Then when it\u2019s ready to commit, it needs to get a commit version, which is essentially the version at which point this transaction will become visible, i.e., when other transactions will start seeing its effects.</p>\n<p>I tried to go into more detail about the read version\u2019s significance when it gets sent to the resolver in my post above, but if that\u2019s unclear, let me know.</p>\n<p>* It also is only somewhat arbitrary. It will choose a \u201cstateless\u201d class process if one is available, for example. In newer versions of FoundationDB, it also takes the locality information into account so that you choose a cluster controller in a favorable datacenter if you run a multi-datacenter cluster. But this is somewhat advanced. Knowing that it will pick <em>a</em> process in the cluster is probably sufficient for most users to know starting out.<br>\n** Actually, it might be before they\u2019re durable. But we never make a transaction\u2019s mutations durable on a storage server until it is durable on the transaction logs, which means that we can always roll back anything that hasn\u2019t been committed yet but wiping in-memory state on the storage servers.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-06T23:40:18.546Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 79,
        "readers_count": 78,
        "score": 50.8,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/developer-guide.html#atomic-operations",
            "internal": false,
            "reflection": false,
            "title": "Developer Guide \u2014 FoundationDB 5.2",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 384,
          "username": "Chandru4u",
          "name": "Chandrashekar",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2281,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-08T19:10:25.626Z",
        "cooked": "<p>Thanks Alex and Alec for your patience and detailed explanation to all of us on this technical topic. It is helping us a lot.<br>\nI would like to get some more clarification on the reply.</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"7\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>Step 6 (getting a read version) and step 7 precede step 5. (In other words, it\u2019s: (4) client gets read version from proxies, (5) proxies talk to each other to determine read version and send it to the client, (6) client sends transaction information to the proxies, (7) the proxies get a commit version from the master.)</p>\n</blockquote>\n</aside>\n<p>Just need a clarification on point 4 and 5 that you mentioned. How come client gets a read version in point from Proxies and then in point 5 they talk to each to determine a read version. Isn\u2019t it to be reverse? Like Proxies talk to each other and determine a read version and in point 5, Client gets this determined read version? May be I am wrong here, please let me know if my understanding is wrong.</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"7\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>In step 7 (in the labeling in the chart), I don\u2019t think the read time stamp or the write time stamp are included in the message being passed. Or if they are, they aren\u2019t important for the flow. All that\u2019s important are (1) the read version, (2) the read conflict ranges, (3) the write conflict ranges, and (4) the list of mutations. Unlike a few other distributed databases, FoundationDB doesn\u2019t rely on timestamps because of not wanting to have to deal with clock (a)synchronization issues.</p>\n</blockquote>\n</aside>\n<p>Since FDB supports Serializable Optimistic Snapshot MVCC, and as per optimistic approach, shouldn\u2019t client send both Read time stamp and write time stamp. I understand your point of clock synchronization between the systems. Just waned to clear my doubt.</p>\n<aside class=\"quote no-group\" data-username=\"alloc\" data-post=\"7\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/alloc/48/9_2.png\" class=\"avatar\"> alloc:</div>\n<blockquote>\n<p>I guess I\u2019ll also say that this chart leaves out the read path, i.e., everything the client does between getting a read version and sending a transaction out to be committed. That\u2019s probably fine to omit; I just wanted to make sure it was known so that we\u2019re all clear that there\u2019s more to the FDB-to-client interaction flow than is diagramed here.</p>\n</blockquote>\n</aside>\n<p>Can you please brief me a bit little more on this. I will add that to this diagram so that it can be a little more detailed than what it is now.</p>\n<p>Thanks a lot for your replies.</p>\n<p>Thanks &amp; Regards<br>\nChandru</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-08T19:10:25.626Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 1,
        "incoming_link_count": 4,
        "reads": 75,
        "readers_count": 74,
        "score": 40.0,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2282,
        "name": "Alec Grieser",
        "username": "alloc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "created_at": "2018-10-08T19:34:55.611Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"8\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>ust need a clarification on point 4 and 5 that you mentioned. How come client gets a read version in point from Proxies and then in point 5 they talk to each to determine a read version. Isn\u2019t it to be reverse? Like Proxies talk to each other and determine a read version and in point 5, Client gets this determined read version? May be I am wrong here, please let me know if my understanding is wrong.</p>\n</blockquote>\n</aside>\n<p>Hm, maybe my newly proposed step 4 should be \u201cclient requests a read version from the proxies\u201d. (It won\u2019t receive it back or \u201cget\u201d it until the proxies have talked to each other, if that was the point of confusion.)</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"8\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>Since FDB supports Serializable Optimistic Snapshot MVCC, and as per optimistic approach, shouldn\u2019t client send both Read time stamp and write time stamp.</p>\n</blockquote>\n</aside>\n<p>FoundationDB doesn\u2019t use timestamps for any part of the multi-version concurrency scheme. In particular, it only ever uses the read version and commit version. Now, these are isomorphic in many ways to \u201cread time stamp\u201d and \u201cwrite time stamp\u201d in other optimistic MVCC schemes (in fact, you could imagine replacing read versions and write versions with timestamps if you wanted to assuming you could somehow synchronize clocks). In fact, they are so closely related, that if you look around the forums, you might see people referring to the \u201cread timestamp\u201d of a transaction when what the really mean is \u201cread version\u201d. (And the same with commit version and write timestamp.) In a context like that, I\u2019d hesitate to say it\u2019s \u201cwrong\u201d to use the word timestamp (as really just code for \u201cversion\u201d), but in any context that is already using the term \u201cversion\u201d, I think also throwing around timestamp isn\u2019t quite right.</p>\n<aside class=\"quote no-group\" data-username=\"Chandru4u\" data-post=\"8\" data-topic=\"745\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/48.png\" class=\"avatar\"> Chandru4u:</div>\n<blockquote>\n<p>Can you please brief me a bit little more on this. I will add that to this diagram so that it can be a little more detailed than what it is now.</p>\n</blockquote>\n</aside>\n<p>Sure. Once the client already has a read version, in order to read a key or key range from the database, it needs to know which storage servers contain the \u201cshard\u201d (i.e., a contiguous range of key-value pairs that is a primitive of data distribution) the key is in. The clients keep a local cache of this information, but if the shard location isn\u2019t in the local cache, the client will ask for the location from the proxy (I think\u2013I\u2019m somewhat rusty at this part). After determining which storage servers contain the data, the client will directly query them to perform the read.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-08T19:34:55.611Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 1,
        "incoming_link_count": 6,
        "reads": 73,
        "readers_count": 72,
        "score": 59.6,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alec Grieser",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 8,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2287,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-08T22:47:15.054Z",
        "cooked": "<p>Thanks Alex for the detailed reply.<br>\nI tried incorporating the comments. If you see any issues with this, please let us all know.<br>\nNow I understand why Read transaction in \u201c<a href=\"https://forums.foundationdb.org/t/technical-overview-of-the-database/135/3\" class=\"inline-onebox\">Technical overview of the database</a>\u201d has a direct communication with the storage. It basically is step # 5 in the below diagram.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/29699dfe4944e6101364345821861338e8e794b5.png\" title=\"image.png\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/29699dfe4944e6101364345821861338e8e794b5_2_690x362.png\" alt=\"image\" width=\"690\" height=\"362\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/29699dfe4944e6101364345821861338e8e794b5_2_690x362.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/29699dfe4944e6101364345821861338e8e794b5_2_1035x543.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/1X/29699dfe4944e6101364345821861338e8e794b5_2_1380x724.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/29699dfe4944e6101364345821861338e8e794b5_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">image.png</span><span class=\"informations\">2108\u00d71108 267 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>\n<p>Thanks &amp; Regards<br>\nChandru</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-08T22:54:08.739Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 69,
        "readers_count": 68,
        "score": 43.8,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/technical-overview-of-the-database/135/3",
            "internal": true,
            "reflection": false,
            "title": "Technical overview of the database",
            "clicks": 8
          },
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/29699dfe4944e6101364345821861338e8e794b5.png",
            "internal": false,
            "reflection": false,
            "title": "29699dfe4944e6101364345821861338e8e794b5.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2312,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-10-11T03:23:48.674Z",
        "cooked": "<p>I think 5 and 6 are backwards \u2013 all reads are done at a version, so you need a version before you can read from storage servers.</p>\n<p>Other than that, it reads roughly correct to me.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-11T03:23:48.674Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 64,
        "readers_count": 63,
        "score": 57.8,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 384,
          "username": "Chandru4u",
          "name": "Chandrashekar",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2318,
        "name": "Chandrashekar",
        "username": "Chandru4u",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "created_at": "2018-10-11T17:16:52.613Z",
        "cooked": "<p>My bad. I corrected it. Thanks for correcting.</p>\n<p><div class=\"lightbox-wrapper\"><a class=\"lightbox\" href=\"https://global.discourse-cdn.com/foundationdb/original/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83.png\" title=\"image.png\" rel=\"nofollow noopener\"><img src=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83_2_690x362.png\" alt=\"image\" width=\"690\" height=\"362\" srcset=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83_2_690x362.png, https://global.discourse-cdn.com/foundationdb/optimized/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83_2_1035x543.png 1.5x, https://global.discourse-cdn.com/foundationdb/optimized/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83_2_1380x724.png 2x\" data-small-upload=\"https://global.discourse-cdn.com/foundationdb/optimized/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83_2_10x10.png\"><div class=\"meta\">\n<svg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#far-image\"></use></svg><span class=\"filename\">image.png</span><span class=\"informations\">2104\u00d71104 267 KB</span><svg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"><use xlink:href=\"#discourse-expand\"></use></svg>\n</div></a></div></p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 12,
        "updated_at": "2018-10-11T17:16:52.613Z",
        "reply_count": 0,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 69,
        "readers_count": 68,
        "score": 98.8,
        "yours": false,
        "topic_id": 745,
        "topic_slug": "understanding-inter-communication",
        "display_username": "Chandrashekar",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://global.discourse-cdn.com/foundationdb/original/1X/736e15d0343f5078d23eb6a3e33ffda3fada0d83.png",
            "internal": false,
            "reflection": false,
            "title": "736e15d0343f5078d23eb6a3e33ffda3fada0d83.png",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 3
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 384,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/understanding-inter-communication/745/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      2227,
      2228,
      2229,
      2230,
      2236,
      2245,
      2252,
      2281,
      2282,
      2287,
      2312,
      2318
    ]
  },
  "timeline_lookup": [
    [
      1,
      2574
    ],
    [
      5,
      2573
    ],
    [
      7,
      2572
    ],
    [
      8,
      2570
    ],
    [
      11,
      2568
    ],
    [
      12,
      2567
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Understanding inter communication",
  "id": 745,
  "title": "Understanding inter communication",
  "posts_count": 12,
  "created_at": "2018-10-05T00:51:33.531Z",
  "views": 3588,
  "reply_count": 7,
  "like_count": 10,
  "last_posted_at": "2018-10-11T17:16:52.613Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "understanding-inter-communication",
  "category_id": 7,
  "word_count": 3437,
  "deleted_at": null,
  "user_id": 384,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_745",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 12,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Technical overview of the database",
      "id": 135,
      "title": "Technical overview of the database",
      "slug": "technical-overview-of-the-database",
      "posts_count": 27,
      "reply_count": 15,
      "highest_post_number": 27,
      "image_url": null,
      "created_at": "2018-04-20T15:30:31.788Z",
      "last_posted_at": "2019-01-11T23:25:47.462Z",
      "bumped": true,
      "bumped_at": "2019-01-11T23:25:47.462Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 64,
      "views": 12958,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 96,
            "username": "idiot",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/i/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 443,
            "username": "junius",
            "name": "junius",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f08c70/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Proxy all-to-all communication",
      "id": 1540,
      "title": "Proxy all-to-all communication",
      "slug": "proxy-all-to-all-communication",
      "posts_count": 11,
      "reply_count": 7,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2019-07-28T14:41:39.604Z",
      "last_posted_at": "2019-07-31T07:49:16.419Z",
      "bumped": true,
      "bumped_at": "2019-07-31T07:49:16.419Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 1474,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 562,
            "username": "ddi",
            "name": null,
            "avatar_template": "/user_avatar/forums.foundationdb.org/ddi/{size}/721_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "A few design-pattern + check-my-understanding questions",
      "id": 1153,
      "title": "A few design-pattern + check-my-understanding questions",
      "slug": "a-few-design-pattern-check-my-understanding-questions",
      "posts_count": 10,
      "reply_count": 6,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2019-02-19T15:18:58.329Z",
      "last_posted_at": "2019-02-21T19:51:53.686Z",
      "bumped": true,
      "bumped_at": "2019-02-21T19:51:53.686Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2273,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 519,
            "username": "JamesThompson",
            "name": "James Thompson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/c67d28/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Why Read Version is necessary for read-write transactions?",
      "id": 2386,
      "title": "Why Read Version is necessary for read-write transactions?",
      "slug": "why-read-version-is-necessary-for-read-write-transactions",
      "posts_count": 13,
      "reply_count": 10,
      "highest_post_number": 13,
      "image_url": null,
      "created_at": "2020-10-12T05:42:44.091Z",
      "last_posted_at": "2020-10-13T04:04:47.663Z",
      "bumped": true,
      "bumped_at": "2020-10-13T04:04:47.663Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 2050,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 805,
            "username": "roohitavaf",
            "name": "Mohammad Roohitavaf",
            "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Why there is no document explaining FoundationDB internals?",
      "id": 2287,
      "title": "Why there is no document explaining FoundationDB internals?",
      "slug": "why-there-is-no-document-explaining-foundationdb-internals",
      "posts_count": 6,
      "reply_count": 1,
      "highest_post_number": 7,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/1X/5d1141db6be1124bfcf166f19a272bac26168a78_2_1024x576.jpeg",
      "created_at": "2020-08-11T04:37:58.388Z",
      "last_posted_at": "2020-11-10T22:58:37.229Z",
      "bumped": true,
      "bumped_at": "2020-11-10T22:58:37.229Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1669,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 805,
            "username": "roohitavaf",
            "name": "Mohammad Roohitavaf",
            "avatar_template": "/user_avatar/forums.foundationdb.org/roohitavaf/{size}/1026_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 850,
            "username": "random-uuid",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/r/90db22/{size}.png",
            "trust_level": 1
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 384,
        "username": "Chandru4u",
        "name": "Chandrashekar",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 8,
        "username": "alloc",
        "name": "Alec Grieser",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 384,
      "username": "Chandru4u",
      "name": "Chandrashekar",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"
    },
    "last_poster": {
      "id": 384,
      "username": "Chandru4u",
      "name": "Chandrashekar",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"
    },
    "links": [
      {
        "url": "https://forums.foundationdb.org/t/technical-overview-of-the-database/135/4",
        "title": "Technical overview of the database",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 99,
        "user_id": 13,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/technical-overview-of-the-database/135/3",
        "title": "Technical overview of the database",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 8,
        "user_id": 384,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      }
    ]
  },
  "bookmarks": []
}