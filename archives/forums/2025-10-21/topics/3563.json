{
  "post_stream": {
    "posts": [
      {
        "id": 11762,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2022-09-27T08:23:57.349Z",
        "cooked": "<p>I thought I\u2019d ask here, perhaps somebody has a magic recipe. I was planning to migrate my app from RethinkDB to FoundationDB, and did some work towards that a couple of years ago. But as I wanted to pick up and complete the work, I found out that I can\u2019t, because I am unable to run FoundationDB on my development machine, which is a Mac with an M1 (Apple Silicon) processor.</p>\n<p>I\u2019m puzzled, because FoundationDB seems to be developed at Apple, and I\u2019m guessing most developers have Apple Silicon machines by now? Am I missing something?</p>\n<p>I commented on a GitHub issue from 2020: <a href=\"https://github.com/apple/foundationdb/issues/4111\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub</a> \u2014 but I thought I would also ask here, perhaps there is a trick that somebody uses.</p>\n<p>In my case, I deploy on Linux, but my application is developed on a Mac in a local JVM, with a couple of supporting Docker containers. I can run the fdb servers in Docker (assuming arm64 is supported as an architecture, but if local .so libs are required, these need to be accessible natively to the JVM.</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-09-27T08:23:57.349Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 2526,
        "reads": 94,
        "readers_count": 93,
        "score": 12568.8,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/4111",
            "internal": false,
            "reflection": false,
            "title": "Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 82
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 11788,
        "name": "Ivan Yurochko",
        "username": "iyuroch",
        "avatar_template": "/user_avatar/forums.foundationdb.org/iyuroch/{size}/1311_2.png",
        "created_at": "2022-10-03T08:49:34.795Z",
        "cooked": "<p>Darwin does not support KAIO, try to pass disable_posix_kernel_aio=1 to both fdbserver process and fdbclient (with set knob). If you use fdbcli also pass this knob.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-10-03T08:49:34.795Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 87,
        "readers_count": 86,
        "score": 62.4,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Ivan Yurochko",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1089,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11791,
        "name": "",
        "username": "andrew.noyes",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "created_at": "2022-10-03T18:20:30.805Z",
        "cooked": "<p>I think mac m1 support is pretty much there for 7.1+, but you need to build from source currently. Several developers are using mac m1\u2019s and building locally (basically all testing happens on linux though).</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-10-03T18:20:30.805Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 187,
        "reads": 82,
        "readers_count": 81,
        "score": 986.4,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1089,
          "username": "iyuroch",
          "name": "Ivan Yurochko",
          "avatar_template": "/user_avatar/forums.foundationdb.org/iyuroch/{size}/1311_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 14,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11792,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2022-10-03T19:22:31.440Z",
        "cooked": "<p>Well, that\u2019s good news! At least I know I\u2019m not the only one that wants to use FoundationDB for development on a Mac machine <img src=\"https://emoji.discourse-cdn.com/twitter/slightly_smiling_face.png?v=12\" title=\":slightly_smiling_face:\" class=\"emoji\" alt=\":slightly_smiling_face:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>BTW, making fdb fully work on MacOS is perhaps unnecessary \u2014 a working arm64 docker container would be plenty enough (the current official docker container is intel-only). It\u2019s not about being native or particularly fast, it\u2019s about being able to do local development at all.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-10-03T19:22:31.440Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 22,
        "reads": 81,
        "readers_count": 80,
        "score": 146.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 14,
          "username": "andrew.noyes",
          "name": "",
          "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11793,
        "name": "",
        "username": "andrew.noyes",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "created_at": "2022-10-03T19:50:07.876Z",
        "cooked": "<p>I think you can get pretty far with the x86_64 MacOS package (.pkg file) and Rosetta2 then. I was able to install it (I had to click through a warning about Apple not being able to verify it which is a bit silly), and then I was able to load libfdb_c from the python bindings as long as I did <code>arch -x86_64 python3</code></p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-10-03T19:50:41.057Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 21,
        "reads": 76,
        "readers_count": 75,
        "score": 120.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 307,
          "username": "jwr",
          "name": "Jan Rychter",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 14,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11799,
        "name": "Clement Pang",
        "username": "panghy",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "created_at": "2022-10-05T22:18:04.714Z",
        "cooked": "<p>I have been publishing an arm64 image of FoundationDB + Lionrock (hence using gRPC to access FDB) on <a href=\"https://hub.docker.com/r/clementpang/lionrock-test-server/tags\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Docker Hub</a> for a while now.</p>\n<p>Perfect for unit tests that spins up a container on my M1 mac, run some tests and discard.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2022-10-05T22:18:04.714Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 20,
        "reads": 76,
        "readers_count": 75,
        "score": 130.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Clement Pang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://hub.docker.com/r/clementpang/lionrock-test-server/tags",
            "internal": false,
            "reflection": false,
            "title": "Docker Hub",
            "clicks": 103
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 38,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12340,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2023-02-03T10:29:16.693Z",
        "cooked": "<p>I\u2019ve just revisited this problem. I wanted to migrate my SaaS application to FoundationDB (it\u2019s based on RethinkDB right now), and I\u2019ve actually done much of the interfacing a couple of years back, but the inability to run fdb on Apple Silicon is a showstopper. I can\u2019t develop on my machine.</p>\n<p>Here\u2019s what I did today:</p>\n<ul>\n<li>Took a closer look at the \u2018tigrisdata/foundationdb\u2019 images on Docker Hub. Unfortunately, their source isn\u2019t available (anymore?) and I have no idea what\u2019s actually inside.</li>\n<li>Checked the official Docker images, but these don\u2019t have arm64 versions.</li>\n<li>Revisited the Github issues related to Apple Silicon support. It seems they were all closed without resolution.</li>\n<li>Tried a workaround suggested in one of the Github issues (<code>--knob_disable_posix_kernel_aio=1</code>), that still results in a core dump.</li>\n<li>Noticed that there is no longer a way for users to open Github issues.</li>\n<li>Wanted to try downloading the latest native release again, but the webpage is down (404).</li>\n<li>The problem of the webpage being down seems to have been reported 3 weeks ago\u2026</li>\n</ul>\n<p>I\u2019m not sure what to make of this\u2026 I have to say, all this is rather disheartening. Recent discussions of distributed databases on HN do not even mention FoundationDB, as nobody seems to be even considering it. I really like FoundationDB, and I do understand that I am entitled to absolutely nothing, but I\u2019m growing increasingly worried about painting myself into a corner with a dying project, like I previously did with RethinkDB.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-02-03T10:30:24.853Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 54,
        "reads": 66,
        "readers_count": 65,
        "score": 283.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12344,
        "name": "Clement Pang",
        "username": "panghy",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "created_at": "2023-02-04T07:59:24.374Z",
        "cooked": "<p>Hm, we are running FDB 6.3 on Apple Silicon with no issues. Literally just downloading it from <a href=\"https://github.com/apple/foundationdb/releases/tag/6.3.24\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Release Release 6.3.24 \u00b7 apple/foundationdb \u00b7 GitHub</a> and running it. If you\u2019re talking about bindings specifically, we use Java and any x86 JVM would do.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-02-04T07:59:24.374Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 13,
        "reads": 59,
        "readers_count": 58,
        "score": 76.8,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Clement Pang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/releases/tag/6.3.24",
            "internal": false,
            "reflection": false,
            "title": "Release Release 6.3.24 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 83
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 38,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12346,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-02-06T08:41:01.633Z",
        "cooked": "<blockquote>\n<ul>\n<li>Tried a workaround suggested in one of the Github issues (<code>--knob_disable_posix_kernel_aio=1</code>), that still results in a core dump.</li>\n</ul>\n</blockquote>\n<p>Could you give some more additional information like what version of FDB you are using? If you want to run FDB on your Mac (with Docker) you have to use the even numbered images (the one with AVX disabled). I just tried this <a href=\"https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub</a> out and it still works without any issues on my M1. If you share some more information on what version(s) you tried it\u2019s easier to help you.</p>\n<p>If you want to run FDB directly on you Mac you can also use the FDB package for arm64 <a href=\"https://github.com/apple/foundationdb/releases/download/7.1.27/FoundationDB-7.1.27_arm64.pkg\" rel=\"noopener nofollow ugc\">FoundationDB-7.1.27_arm64.pkg</a>.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-02-06T08:41:01.633Z",
        "reply_count": 3,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 58,
        "readers_count": 57,
        "score": 51.6,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423",
            "internal": false,
            "reflection": false,
            "title": "Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 37
          },
          {
            "url": "https://github.com/apple/foundationdb/releases/download/7.1.27/FoundationDB-7.1.27_arm64.pkg",
            "internal": false,
            "reflection": false,
            "clicks": 23
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 307,
          "username": "jwr",
          "name": "Jan Rychter",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12353,
        "name": "Jan Rychter",
        "username": "jwr",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "created_at": "2023-02-06T12:08:41.294Z",
        "cooked": "<p>I tried with multiple versions \u2014 the docker container version that I reported in the GitHub issue (back when reporting issues was possible for non-collaborators) was 7.1.23. I retried recently with <code>foundationdb/foundationdb:7.1.27</code> and the result was the same (segfault).</p>\n<p>I had no idea about the even-numbered images and AVX, how would one normally find out about that? A quick check shows that <code>foundationdb/foundationdb:7.1.27</code> doesn\u2019t crash with a segfault, so it might work under emulation.</p>\n<p>I also had no idea about the native arm64 pkg, last I checked these were not available. I installed one from your direct link and it seems to work just fine!</p>\n<p>Many thanks for your help.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-02-06T12:08:41.294Z",
        "reply_count": 1,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 27,
        "reads": 58,
        "readers_count": 57,
        "score": 166.6,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Jan Rychter",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 849,
          "username": "johscheuer",
          "name": "Johannes Scheuermann",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 307,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12354,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-02-06T12:17:07.156Z",
        "cooked": "<blockquote>\n<p>I tried with multiple versions \u2014 the docker container version that I reported in the GitHub issue (back when reporting issues was possible for non-collaborators) was 7.1.23. I retried recently with <code>foundationdb/foundationdb:7.1.27</code> and the result was the same (segfault).</p>\n<p>I had no idea about the even-numbered images and AVX, how would one normally find out about that? A quick check shows that <code>foundationdb/foundationdb:7.1.27</code> doesn\u2019t crash with a segfault, so it might work under emulation.</p>\n</blockquote>\n<p>It\u2019s documented in the release notes: <a href=\"https://github.com/apple/foundationdb/releases/tag/7.1.27:\" rel=\"noopener nofollow ugc\">https://github.com/apple/foundationdb/releases/tag/7.1.27:</a></p>\n<pre><code class=\"lang-auto\">Same code as 7.1.26 but with avx enabled.\n</code></pre>\n<blockquote>\n<p>I also had no idea about the native arm64 pkg, last I checked these were not available. I installed one from your direct link and it seems to work just fine!</p>\n</blockquote>\n<p>They are fairly new and were added with 7.1.26, so not surprising that you had no idea about them <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<blockquote>\n<p>Many thanks for your help.</p>\n</blockquote>\n<p>You\u2019re welcome, happy that I was able to help.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-02-06T12:17:07.156Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 15,
        "reads": 60,
        "readers_count": 59,
        "score": 122.0,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/releases/tag/7.1.27:",
            "internal": false,
            "reflection": false,
            "clicks": 36
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 307,
          "username": "jwr",
          "name": "Jan Rychter",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13533,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-11-24T15:13:44.045Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"9\" data-topic=\"3563\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>If you want to run FDB on your Mac (with Docker) you have to use the even numbered images (the one with AVX disabled). I just tried this <a href=\"https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423\" rel=\"noopener nofollow ugc\">Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub </a> out and it still works without any issues on my M1.</p>\n</blockquote>\n</aside>\n<p>I tried the 7.3.26 with docker and I get <code>Disk i/o operation failed</code>. Any ideas?</p>\n<pre><code class=\"lang-auto\">docker run --rm foundationdb/foundationdb:7.3.26\nWARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\nStarting FDB server on 172.17.0.2:4500\n&lt;jemalloc&gt;: MADV_DONTNEED does not work (memset will be used instead)\n&lt;jemalloc&gt;: (This is the expected behaviour if you are running under QEMU)\nError: Disk i/o operation failed\n</code></pre>\n<p>I tried a few other version, including 7.1.26, which failed with a different error.</p>\n<p>This is all on an m1 max.</p>\n<pre><code class=\"lang-auto\">matthew@Matthew-Newhook fdbtop % docker run foundationdb/foundationdb:7.1.26\nWARNING: The requested image's platform (linux/amd64) does not match the detected host platform (linux/arm64/v8) and no specific platform was requested\nStarting FDB server on 172.17.0.2:4500\n/var/fdb/scripts/fdb.bash: line 68:    32 Killed                  fdbserver --listen-address 0.0.0.0:\"$FDB_PORT\" --public-address \"$PUBLIC_IP:$FDB_PORT\" --datadir /var/fdb/data --logdir /var/fdb/logs --locality-zoneid=\"$(hostname)\" --locality-machineid=\"$(hostname)\" --class \"$FDB_PROCESS_CLASS\"\n</code></pre>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-24T15:28:26.373Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 1,
        "incoming_link_count": 13,
        "reads": 47,
        "readers_count": 46,
        "score": 79.4,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 849,
          "username": "johscheuer",
          "name": "Johannes Scheuermann",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13534,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-11-24T15:55:42.004Z",
        "cooked": "<p>Could you try these steps: <a href=\"https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub</a>? Just tested them with 7.3.26 and they work fine:</p>\n<pre><code class=\"lang-auto\">$ docker run --platform=linux/amd64 -ti --entrypoint=/bin/bash foundationdb/foundationdb:7.3.26\nUnable to find image 'foundationdb/foundationdb:7.3.26' locally\n7.3.26: Pulling from foundationdb/foundationdb\n2d473b07cdd5: Already exists\n5fe32cf9bf9e: Already exists\n4f4fb700ef54: Pull complete\n731afc9d3769: Already exists\n6cebba083114: Pull complete\n30cd9d2a8735: Pull complete\ndab8de96ae75: Pull complete\n0ca2f358abba: Pull complete\nf1f3188cf908: Pull complete\n1c54a973da47: Pull complete\n908c53a19cd8: Pull complete\nf8e1f653230f: Pull complete\ne66570f1eb39: Pull complete\n6cbd354b0ed0: Pull complete\na853aba1dac1: Pull complete\n269128bdfbb7: Pull complete\nDigest: sha256:05a60eba59ebcf51a04726c278e19430fcbd64856e2e0e563844608df4d1d968\nStatus: Downloaded newer image for foundationdb/foundationdb:7.3.26\n[root@3d6ce3f115ca /]# sed -i '$ s/$/ --knob_disable_posix_kernel_aio=1/' /var/fdb/scripts/fdb.bash\n[root@3d6ce3f115ca /]# /var/fdb/scripts/fdb.bash\nStarting FDB server on 172.17.0.2:4500\nFDBD joined cluster.\n</code></pre>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-24T15:55:42.004Z",
        "reply_count": 1,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 9,
        "reads": 47,
        "readers_count": 46,
        "score": 59.4,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423",
            "internal": false,
            "reflection": false,
            "title": "Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 20
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1342,
          "username": "newhook",
          "name": "Matthew Newhook",
          "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13535,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-11-24T15:59:32.240Z",
        "cooked": "<aside class=\"quote no-group quote-modified\" data-username=\"johscheuer\" data-post=\"9\" data-topic=\"3563\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p>\u2013knob_disable_posix_kernel_aio=1</p>\n</blockquote>\n</aside>\n<p>Yeah, I just tried:</p>\n<pre><code class=\"lang-auto\">docker run -ti --platform=\"linux/amd64\" --entrypoint=/bin/bash foundationdb/foundationdb:7.3.26 -c \"sed -i '$ s/$/ --knob_disable_posix_kernel_aio=1/' /var/fdb/scripts/fdb.bash &amp;&amp; /var/fdb/scripts/fdb.bash\"\n</code></pre>\n<p>And that worked. The 7.1.x images don\u2019t seem to work (I get a seg fault) \u2013 I tried 7.1.26, 7.1.42.</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-24T15:59:32.240Z",
        "reply_count": 1,
        "reply_to_post_number": 13,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 41,
        "readers_count": 40,
        "score": 18.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 849,
          "username": "johscheuer",
          "name": "Johannes Scheuermann",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13536,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-11-24T16:07:40.843Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"newhook\" data-post=\"14\" data-topic=\"3563\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/newhook/48/1684_2.png\" class=\"avatar\"> newhook:</div>\n<blockquote>\n<p>Yeah, I just tried:</p>\n<pre><code class=\"lang-auto\">docker run -ti --platform=\"linux/amd64\" --entrypoint=/bin/bash foundationdb/foundationdb:7.3.26 -c \"sed -i '$ s/$/ --knob_disable_posix_kernel_aio=1/' /var/fdb/scripts/fdb.bash &amp;&amp; /var/fdb/scripts/fdb.bash\"\n</code></pre>\n<p>And that worked. The 7.1.x images don\u2019t seem to work (I get a seg fault) \u2013 I tried 7.1.26, 7.1.42.</p>\n</blockquote>\n</aside>\n<p>Hm, good question. I have to look into that later. <a class=\"mention\" href=\"/u/ammolitor\">@ammolitor</a> could it be possible that those are complied with AVX on?</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-24T16:07:40.843Z",
        "reply_count": 1,
        "reply_to_post_number": 14,
        "quote_count": 1,
        "incoming_link_count": 7,
        "reads": 40,
        "readers_count": 39,
        "score": 48.0,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13537,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-11-24T16:18:19.247Z",
        "cooked": "<p>Thanks for the help so far. The next problem that I ran into is that the fdbserver isn\u2019t usable from the fdb apps on my local machine. I tried exposing port 4500, that didn\u2019t work. I tried using host networking, but that didn\u2019t work either as the host isn\u2019t actually my mac. Is there a solution here, or is the only real solution to use the native package installer? I\u2019d really rather not do that, because it would require all developers to install the package vs docker which works for everyone without any additional work.</p>",
        "post_number": 16,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-24T16:18:52.999Z",
        "reply_count": 1,
        "reply_to_post_number": 15,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 40,
        "readers_count": 39,
        "score": 33.0,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 849,
          "username": "johscheuer",
          "name": "Johannes Scheuermann",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/16",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13542,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-11-27T08:37:26.929Z",
        "cooked": "<blockquote>\n<p>Thanks for the help so far. The next problem that I ran into is that the fdbserver isn\u2019t usable from the fdb apps on my local machine. I tried exposing port 4500, that didn\u2019t work. I tried using host networking, but that didn\u2019t work either as the host isn\u2019t actually my mac. Is there a solution here, or is the only real solution to use the native package installer? I\u2019d really rather not do that, because it would require all developers to install the package vs docker which works for everyone without any additional work.</p>\n</blockquote>\n<p>The host network setup should work, as long as you\u2019re using the IP address of the docker VM:</p>\n<pre data-code-wrap=\"bash\"><code class=\"lang-bash\"># Start the container with the FDB server, this will be blocking. Wait until the cluster is running\n$ docker run --platform=linux/amd64 --net=host -ti --entrypoint=/var/fdb/scripts/fdb_single.bash  --name=fdb-dev foundationdb/foundationdb:7.3.26\nStarting FDB server on 192.168.64.2:4500\nfdbserver pid is: 12\nFDBD joined cluster.\nConfiguring new single memory FDB database\nDatabase created\nUsing cluster file `/var/fdb/fdb.cluster'.\n\nConfiguration:\n  Redundancy mode        - single\n  Storage engine         - memory\n  Log engine             - ssd-2\n  Encryption at-rest     - disabled\n  Coordinators           - 1\n  Desired Commit Proxies - 3\n  Desired GRV Proxies    - 1\n  Desired Resolvers      - 1\n  Desired Logs           - 3\n  Usable Regions         - 1\n\nCluster:\n  FoundationDB processes - 1\n  Zones                  - 1\n  Machines               - 1\n  Memory availability    - 8.0 GB per process on machine with least available\n  Fault Tolerance        - 0 machines\n  Server time            - 11/27/23 08:35:16\n\nData:\n  Replication health     - (Re)initializing automatic data distribution\n  Moving data            - unknown (initializing)\n  Sum of key-value sizes - unknown\n  Disk space used        - 105 MB\n\nOperating space:\n  Storage server         - 1.0 GB free on most full server\n  Log server             - 408.6 GB free on most full server\n\nWorkload:\n  Read rate              - 0 Hz\n  Write rate             - 0 Hz\n  Transactions started   - 0 Hz\n  Transactions committed - 0 Hz\n  Conflict rate          - 0 Hz\n\nBackup and DR:\n  Running backups        - 0\n  Running DRs            - 0\n\nClient time: 11/27/23 08:35:16\nfdbserver --listen-address 0.0.0.0:\"$FDB_PORT\" --public-address \"$PUBLIC_IP:$FDB_PORT\" --datadir /var/fdb/data --logdir /var/fdb/logs --locality-zoneid=\"$(hostname)\" --locality-machineid=\"$(hostname)\" --class \"$FDB_PROCESS_CLASS\"\n</code></pre>\n<p>Now in a different terminal:</p>\n<pre data-code-wrap=\"bash\"><code class=\"lang-bash\">$ docker exec -ti fdb-dev cat /var/fdb/fdb.cluster &gt; fdb-dev.cluster\n$ fdbcli -C fdb-dev.cluster\nUsing cluster file `fdb-dev.cluster'.\n\nThe database is available.\n\nWelcome to the fdbcli. For help, type `help'.\nfdb&gt; status details\n\nUsing cluster file `fdb-dev.cluster'.\n\nConfiguration:\n  Redundancy mode        - single\n  Storage engine         - memory\n  Log engine             - ssd-2\n  Encryption at-rest     - disabled\n  Coordinators           - 1\n  Desired Commit Proxies - 3\n  Desired GRV Proxies    - 1\n  Desired Resolvers      - 1\n  Desired Logs           - 3\n  Usable Regions         - 1\n\nCluster:\n  FoundationDB processes - 1\n  Zones                  - 1\n  Machines               - 1\n  Memory availability    - 8.0 GB per process on machine with least available\n  Fault Tolerance        - 0 machines\n  Server time            - 11/27/23 09:35:25\n\nData:\n  Replication health     - (Re)initializing automatic data distribution\n  Moving data            - unknown (initializing)\n  Sum of key-value sizes - unknown\n  Disk space used        - 105 MB\n\nOperating space:\n  Storage server         - 1.0 GB free on most full server\n  Log server             - 408.6 GB free on most full server\n\nWorkload:\n  Read rate              - 12 Hz\n  Write rate             - 0 Hz\n  Transactions started   - 7 Hz\n  Transactions committed - 0 Hz\n  Conflict rate          - 0 Hz\n\nBackup and DR:\n  Running backups        - 0\n  Running DRs            - 0\n\nProcess performance details:\n  192.168.64.2:4500      (  6% cpu;  1% machine; 0.000 Gbps;  2% disk IO; 0.1 GB / 8.0 GB RAM  )\n\nCoordination servers:\n  192.168.64.2:4500  (reachable)\n\nClient time: 11/27/23 09:35:25\n</code></pre>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-27T08:37:26.929Z",
        "reply_count": 1,
        "reply_to_post_number": 16,
        "quote_count": 0,
        "incoming_link_count": 8,
        "reads": 46,
        "readers_count": 45,
        "score": 54.2,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1342,
          "username": "newhook",
          "name": "Matthew Newhook",
          "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13549,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-11-28T16:20:23.616Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"johscheuer\" data-post=\"17\" data-topic=\"3563\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/j/f475e1/48.png\" class=\"avatar\"> johscheuer:</div>\n<blockquote>\n<p><code>fdbcli -C fdb-dev.cluster</code></p>\n</blockquote>\n</aside>\n<p>Thanks but that doesn\u2019t work for me because the docker VM host isn\u2019t accessible. Looks like this is some sort of docker issue for me. I\u2019ve been using rancher desktop. What OSX docker package are you using?</p>",
        "post_number": 18,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-11-28T16:20:23.616Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 5,
        "reads": 44,
        "readers_count": 43,
        "score": 38.8,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/18",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13572,
        "name": "Matthew Newhook",
        "username": "newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "created_at": "2023-12-02T17:01:35.373Z",
        "cooked": "<p>To close the loop here:</p>\n<blockquote>\n<p>$ docker run --name=fdb -ti --entrypoint=/bin/bash -e FDB_NETWORKING_MODE=host -e FDB_COORDINATOR_PORT=4550 -e FDB_PORT=4550 -p 4550:4550/tcp foundationdb/foundationdb:7.3.26 -c \u201csed -i \u2018$ s/$/ --knob_disable_posix_kernel_aio=1/\u2019 /var/fdb/scripts/fdb.bash &amp;&amp; cat /var/fdb/scripts/fdb.bash &amp;&amp; env &amp;&amp; /var/fdb/scripts/fdb.bash\u201d<br>\n$ docker exec fdb cat /var/fdb/fdb.cluster &gt; ~/fdb.cluster<br>\n$ fdbcli -C fdb.cluster --exec \u201cconfigure new single memory ; status\u201d</p>\n</blockquote>\n<p>This seems to have worked. Took a while to put all the details together.</p>\n<p>The lack clear documentation, flakyness with the intel images, and lack of an arm image makes working on a mac with the docker images quite a challenging proposition (the natives installed packages work fine of course). Is there anything we could do to help here?</p>\n<p>We ended up building an arm image borrowed from the work discussed here <a href=\"https://forums.foundationdb.org/t/how-to-run-foundationdb-on-a-mac/3563/6\" class=\"inline-onebox\">How to run FoundationDB on a Mac? - #6 by panghy</a></p>\n<p>We\u2019ll provide some more details once we\u2019ve completed that work.</p>",
        "post_number": 19,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-12-02T17:02:14.910Z",
        "reply_count": 3,
        "reply_to_post_number": 18,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 44,
        "readers_count": 43,
        "score": 63.8,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Matthew Newhook",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1342,
          "username": "newhook",
          "name": "Matthew Newhook",
          "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1342,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/19",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 13574,
        "name": "Johannes Scheuermann",
        "username": "johscheuer",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "created_at": "2023-12-04T08:45:34.046Z",
        "cooked": "<p>As far as I know Rancher Desktop uses Lima under the hood, so checking the documentation for Lima might be useful: <a href=\"https://lima-vm.io/docs/config/network/#vmnet-networks\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Network | Lima</a> and <a href=\"https://docs.rancherdesktop.io/ui/preferences/virtual-machine/network/\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Network (macOS) | Rancher Desktop Docs</a>.</p>",
        "post_number": 20,
        "post_type": 1,
        "posts_count": 31,
        "updated_at": "2023-12-04T08:45:34.046Z",
        "reply_count": 0,
        "reply_to_post_number": 19,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 47,
        "readers_count": 46,
        "score": 9.4,
        "yours": false,
        "topic_id": 3563,
        "topic_slug": "how-to-run-foundationdb-on-a-mac",
        "display_username": "Johannes Scheuermann",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://lima-vm.io/docs/config/network/#vmnet-networks",
            "internal": false,
            "reflection": false,
            "title": "Network | Lima",
            "clicks": 0
          },
          {
            "url": "https://docs.rancherdesktop.io/ui/preferences/virtual-machine/network/",
            "internal": false,
            "reflection": false,
            "title": "Network (macOS) | Rancher Desktop Docs",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 1342,
          "username": "newhook",
          "name": "Matthew Newhook",
          "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 849,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-run-foundationdb-on-a-mac/3563/20",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      11762,
      11788,
      11791,
      11792,
      11793,
      11799,
      12340,
      12344,
      12346,
      12353,
      12354,
      13533,
      13534,
      13535,
      13536,
      13537,
      13542,
      13549,
      13572,
      13574,
      13575,
      13579,
      13583,
      13586,
      13589,
      13593,
      13594,
      13595,
      13596,
      13601,
      14035
    ]
  },
  "timeline_lookup": [
    [
      1,
      1121
    ],
    [
      2,
      1115
    ],
    [
      3,
      1114
    ],
    [
      6,
      1112
    ],
    [
      7,
      991
    ],
    [
      9,
      989
    ],
    [
      10,
      988
    ],
    [
      12,
      697
    ],
    [
      17,
      695
    ],
    [
      18,
      693
    ],
    [
      19,
      689
    ],
    [
      20,
      688
    ],
    [
      22,
      687
    ],
    [
      23,
      686
    ],
    [
      24,
      685
    ],
    [
      26,
      684
    ],
    [
      30,
      683
    ],
    [
      31,
      530
    ]
  ],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How to run FoundationDB on a Mac?",
  "id": 3563,
  "title": "How to run FoundationDB on a Mac?",
  "posts_count": 31,
  "created_at": "2022-09-27T08:23:57.287Z",
  "views": 3315,
  "reply_count": 20,
  "like_count": 17,
  "last_posted_at": "2024-05-10T02:44:20.490Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-to-run-foundationdb-on-a-mac",
  "category_id": 7,
  "word_count": 6108,
  "deleted_at": null,
  "user_id": 307,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3563",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 31,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 4,
  "participant_count": 9,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": null,
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 849,
        "username": "johscheuer",
        "name": "Johannes Scheuermann",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
        "post_count": 9,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1359,
        "username": "carhops",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/c/a5b964/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 1342,
        "username": "newhook",
        "name": "Matthew Newhook",
        "avatar_template": "/user_avatar/forums.foundationdb.org/newhook/{size}/1684_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 307,
        "username": "jwr",
        "name": "Jan Rychter",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 14,
        "username": "andrew.noyes",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 38,
        "username": "panghy",
        "name": "Clement Pang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1417,
        "username": "avi",
        "name": "v",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 1089,
        "username": "iyuroch",
        "name": "Ivan Yurochko",
        "avatar_template": "/user_avatar/forums.foundationdb.org/iyuroch/{size}/1311_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 1357,
        "username": "aleclerc-cio",
        "name": "Adam Leclerc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/aleclerc-cio/{size}/1704_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 307,
      "username": "jwr",
      "name": "Jan Rychter",
      "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png"
    },
    "last_poster": {
      "id": 1417,
      "username": "avi",
      "name": "v",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png"
    },
    "links": [
      {
        "url": "https://hub.docker.com/r/clementpang/lionrock-test-server/tags",
        "title": "Docker Hub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 103,
        "user_id": 38,
        "domain": "hub.docker.com",
        "root_domain": "docker.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/releases/tag/6.3.24",
        "title": "Release Release 6.3.24 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 83,
        "user_id": 38,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/4111",
        "title": "Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 82,
        "user_id": 307,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/4111#issuecomment-1284040423",
        "title": "Support Apple Silicon \u00b7 Issue #4111 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 57,
        "user_id": 849,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/releases/tag/7.1.27:",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 36,
        "user_id": 849,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/releases/download/7.1.27/FoundationDB-7.1.27_arm64.pkg",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 23,
        "user_id": 849,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/customerio/fdb-docker",
        "title": "GitHub - customerio/fdb-docker",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 23,
        "user_id": 1357,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/work-around-storage-server-running-out-of-space-approaching-5-limit-on-your-developer-machine/1814/3",
        "title": "Work around \"Storage server running out of space (approaching 5% limit)\" on your developer machine",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 5,
        "user_id": 1359,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://forums.foundationdb.org/t/unable-to-get-it-running-locally-on-macos/4466/2",
        "title": "Unable to get it running locally on macOS",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 4,
        "user_id": 1417,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/3a04f8729d114b85226fd0c3cd61fec51ffc3455/fdbserver/Ratekeeper.actor.cpp#L843-L847",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 1359,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}