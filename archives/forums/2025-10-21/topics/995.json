{
  "post_stream": {
    "posts": [
      {
        "id": 2972,
        "name": "",
        "username": "bencherian",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/96bed5/{size}.png",
        "created_at": "2019-01-04T04:33:15.079Z",
        "cooked": "<p>Can we use the example <code>@transactional</code> decorator in the documentation to \u201cnest\u201d transactions? (i.e., call a decorated method from within another decorated method?) Does the layer keep track of the nesting or do we need to somehow keep track of the transaction stack to ensure we can only call \u201cbeginTransaction\u201d and \u201ccommitTransaction\u201d once?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2019-01-04T04:33:46.715Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 222,
        "reads": 52,
        "readers_count": 51,
        "score": 1120.4,
        "yours": false,
        "topic_id": 995,
        "topic_slug": "nested-transactions",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 471,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/nested-transactions/995/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 2973,
        "name": "Bhaskar Muppana",
        "username": "mbhaskar",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png",
        "created_at": "2019-01-04T04:59:55.446Z",
        "cooked": "<p>Transactions are coupled with the connection. At any point of time, there can be only one outstanding transaction per connection. In the future, we are planning on making transactions depend on sessions. That will allow us to have multiple transactions per connection. Even then, we wouldn\u2019t have nested transactions. FoundationDB itself doesn\u2019t support any nested transactions.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2019-01-04T04:59:55.446Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 52,
        "readers_count": 51,
        "score": 40.4,
        "yours": false,
        "topic_id": 995,
        "topic_slug": "nested-transactions",
        "display_username": "Bhaskar Muppana",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 9,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/nested-transactions/995/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2975,
        "name": "",
        "username": "bencherian",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/96bed5/{size}.png",
        "created_at": "2019-01-04T06:28:29.932Z",
        "cooked": "<p>After looking into the <code>fdb.transactional</code> decorator a bit more closely, (which allows for decorated methods to call each other, unlike the example decorator for the document layer by checking to see whether you are already in a transaction\u2026this is what I meant by \u201cnested transactions\u201d, not true nested transactions on the server), I was able to come up a with a simple solution that keeps track of whether there is an exiting outstanding transaction for the database being used.</p>\n<p>On a somewhat related note would it be possible in the future to have some sort of FDB pass-through in the document layer service so that we could do raw FDB operations (in some other keyspace that is implementing some other sort of data model) as part of a transaction?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2019-01-04T06:28:29.932Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 52,
        "readers_count": 51,
        "score": 40.4,
        "yours": false,
        "topic_id": 995,
        "topic_slug": "nested-transactions",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 9,
          "username": "mbhaskar",
          "name": "Bhaskar Muppana",
          "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 471,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/nested-transactions/995/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      2972,
      2973,
      2975
    ]
  },
  "timeline_lookup": [
    [
      1,
      2483
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Nested Transactions",
  "id": 995,
  "title": "Nested Transactions",
  "posts_count": 3,
  "created_at": "2019-01-04T04:33:14.993Z",
  "views": 1490,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2019-01-04T06:28:29.932Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "nested-transactions",
  "category_id": 11,
  "word_count": 244,
  "deleted_at": null,
  "user_id": 471,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_995",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Sharing Transaction between record layer and others",
      "id": 2079,
      "title": "Sharing Transaction between record layer and others",
      "slug": "sharing-transaction-between-record-layer-and-others",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-04-20T05:30:37.024Z",
      "last_posted_at": "2020-04-20T14:01:35.767Z",
      "bumped": true,
      "bumped_at": "2020-04-20T14:01:35.767Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 363,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 668,
            "username": "ngbinh",
            "name": "Binh Nguyen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ngbinh/{size}/694_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 34,
            "username": "scgray",
            "name": "Scott Gray",
            "avatar_template": "/user_avatar/forums.foundationdb.org/scgray/{size}/30_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "How to nicely handle Mongo drivers that automatically round-robin?",
      "id": 917,
      "title": "How to nicely handle Mongo drivers that automatically round-robin?",
      "slug": "how-to-nicely-handle-mongo-drivers-that-automatically-round-robin",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2018-11-29T22:51:31.464Z",
      "last_posted_at": "2018-11-29T23:58:48.827Z",
      "bumped": true,
      "bumped_at": "2018-11-29T23:58:48.827Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1668,
      "category_id": 11,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 440,
            "username": "zellsun",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/zellsun/{size}/431_2.png",
            "trust_level": 0
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 9,
            "username": "mbhaskar",
            "name": "Bhaskar Muppana",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Logging of transactions for debugging purposes",
      "id": 794,
      "title": "Logging of transactions for debugging purposes",
      "slug": "logging-of-transactions-for-debugging-purposes",
      "posts_count": 6,
      "reply_count": 4,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2018-10-21T10:59:57.666Z",
      "last_posted_at": "2018-10-22T19:20:33.173Z",
      "bumped": true,
      "bumped_at": "2018-10-22T19:20:33.173Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2345,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 399,
            "username": "brondhaish",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/dc4da7/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Layer interoperability",
      "id": 1226,
      "title": "Layer interoperability",
      "slug": "layer-interoperability",
      "posts_count": 5,
      "reply_count": 2,
      "highest_post_number": 5,
      "image_url": null,
      "created_at": "2019-03-14T15:07:02.475Z",
      "last_posted_at": "2019-03-15T21:47:42.521Z",
      "bumped": true,
      "bumped_at": "2019-03-15T21:47:42.521Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 997,
      "category_id": 9,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 219,
            "username": "MMcM",
            "name": "Mike McMahon",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/d07c76/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "About transaction",
      "id": 442,
      "title": "About transaction",
      "slug": "about-transaction",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2018-05-21T06:14:30.713Z",
      "last_posted_at": "2018-05-22T00:51:09.029Z",
      "bumped": true,
      "bumped_at": "2018-05-22T00:51:09.029Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1479,
      "category_id": 8,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 124,
            "username": "coder0718",
            "name": "Coder0718",
            "avatar_template": "/user_avatar/forums.foundationdb.org/coder0718/{size}/87_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 471,
        "username": "bencherian",
        "name": "",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/96bed5/{size}.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 9,
        "username": "mbhaskar",
        "name": "Bhaskar Muppana",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mbhaskar/{size}/277_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 471,
      "username": "bencherian",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/96bed5/{size}.png"
    },
    "last_poster": {
      "id": 471,
      "username": "bencherian",
      "name": "",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/96bed5/{size}.png"
    }
  },
  "bookmarks": []
}