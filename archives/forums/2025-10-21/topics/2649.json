{
  "post_stream": {
    "posts": [
      {
        "id": 9293,
        "name": "Hari B",
        "username": "harikb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
        "created_at": "2021-04-11T20:49:00.105Z",
        "cooked": "<p>Hello,</p>\n<p>I have a piece of code that was scanning the entire range from \u2018\u2019 to \u201c\\xFF\u201d and db is loaded with my own test data. None of my keys are larger than 40 bytes. However, on a read of 10 million keys, I received 3 bad keys of size 1k to 5k bytes.</p>\n<p>Unfortunately, I was testing with the head version - so it is hard to say what version it was referring to. I thought of setting up the environment again using the 6.3.9 release and running my Go client with the race detector turned on. Then I discovered this issue <a href=\"https://github.com/apple/foundationdb/issues/2843\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">FDB go bindings fail go 1.14's unsafe pointer check \u00b7 Issue #2843 \u00b7 apple/foundationdb \u00b7 GitHub</a>  - the 6.3.x release version also does not have the fix for that one. So I went back to attempting to build the latest master. I will update here with what I find.</p>\n<p>However I wanted to clarify one thing before I dig deeper\u2026 On a range-scan using <code>GetRange()</code>, are their any special keys (like the status/json or something internal) that I should skip over?</p>\n<p>It could very well be my client code and some race condition I am not accounting for.</p>\n<p>Thanks</p>\n<p>\u2013<br>\nHari</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-04-11T20:50:29.634Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 9,
        "reads": 19,
        "readers_count": 18,
        "score": 48.8,
        "yours": false,
        "topic_id": 2649,
        "topic_slug": "questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read",
        "display_username": "Hari B",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/2843",
            "internal": false,
            "reflection": false,
            "title": "FDB go bindings fail go 1.14's unsafe pointer check \u00b7 Issue #2843 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 1
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 405,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read/2649/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 9296,
        "name": "Christophe Chevalier",
        "username": "KrzysFR",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "created_at": "2021-04-12T14:35:07.528Z",
        "cooked": "<p>If you are using the Directory Layer, or using another layer that uses the Directory Layer under the hood, then you could encounter some keys starting with the prefix <code>\\xFE</code> with metadata about directories and partitions, but it is unlikely that these keys would be longer than a few hundred bytes.</p>\n<p>For that reason I would probably use \u2018\\xFE\u2019 as the end key, to stay clear of that.</p>\n<p>If you want to make sure to have an isolated container for your keys, I would recommend that you add a short prefix to all your keys, if possible by using the Directory Layer (that has been designed for this exact reason), or by choosing your own prefix if you want to make it simpler.</p>\n<p>Doing that, you\u2019ll be able to have multiple datasets in the same cluster, and also make sure that no other layer (that also uses the Directory Layer) would \u201ccontaminate\u201d your keyspace by mistake.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-04-12T14:36:12.905Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 17,
        "readers_count": 16,
        "score": 8.4,
        "yours": false,
        "topic_id": 2649,
        "topic_slug": "questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read",
        "display_username": "Christophe Chevalier",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 53,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read/2649/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9297,
        "name": "Hari B",
        "username": "harikb",
        "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
        "created_at": "2021-04-12T16:23:09.328Z",
        "cooked": "<p>I wasn\u2019t using any layer at all. It was a test db that I had added my own kv data. Since then I have recreated a new instance using master/head and I don\u2019t see this issue anymore. So it may have been some data corruption. It was a \u2018configure single ssd\u2019 setup - so may be it had corrupted data.</p>\n<p>I still couldn\u2019t run some calls with <code>go build -race</code> on my app though\u2026 this is what I was hoping by remaining on master branch.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 3,
        "updated_at": "2021-04-12T16:23:09.328Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 3.2,
        "yours": false,
        "topic_id": 2649,
        "topic_slug": "questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read",
        "display_username": "Hari B",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 53,
          "username": "KrzysFR",
          "name": "Christophe Chevalier",
          "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 405,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read/2649/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      9293,
      9296,
      9297
    ]
  },
  "timeline_lookup": [
    [
      1,
      1654
    ],
    [
      2,
      1653
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Questions of extraneous keys received via Go binding on a full range read",
  "id": 2649,
  "title": "Questions of extraneous keys received via Go binding on a full range read",
  "posts_count": 3,
  "created_at": "2021-04-11T20:49:00.028Z",
  "views": 340,
  "reply_count": 1,
  "like_count": 0,
  "last_posted_at": "2021-04-12T16:23:09.328Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "questions-of-extraneous-keys-received-via-go-binding-on-a-full-range-read",
  "category_id": 7,
  "word_count": 442,
  "deleted_at": null,
  "user_id": 405,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2649",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 3,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Is it possible (or useful) to fetch the last key?",
      "id": 400,
      "title": "Is it possible (or useful) to fetch the last key?",
      "slug": "is-it-possible-or-useful-to-fetch-the-last-key",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2018-05-11T17:25:32.373Z",
      "last_posted_at": "2018-05-11T17:41:25.079Z",
      "bumped": true,
      "bumped_at": "2018-05-11T17:41:25.079Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 1240,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 41,
            "username": "amirouche",
            "name": "Amirouche",
            "avatar_template": "/user_avatar/forums.foundationdb.org/amirouche/{size}/1911_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Unable to use conflicting keys special keyspace with Go bindings",
      "id": 3097,
      "title": "Unable to use conflicting keys special keyspace with Go bindings",
      "slug": "unable-to-use-conflicting-keys-special-keyspace-with-go-bindings",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2022-01-03T22:06:19.984Z",
      "last_posted_at": "2022-01-04T21:40:06.796Z",
      "bumped": true,
      "bumped_at": "2022-01-04T21:40:06.796Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 827,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 173,
            "username": "jkominek",
            "name": "Jay Kominek",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jkominek/{size}/140_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 1037,
            "username": "leonliao",
            "name": "Leonliao",
            "avatar_template": "/user_avatar/forums.foundationdb.org/leonliao/{size}/1244_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Range-reading all key-values",
      "id": 1647,
      "title": "Range-reading all key-values",
      "slug": "range-reading-all-key-values",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-09-23T22:11:27.790Z",
      "last_posted_at": "2019-09-23T22:28:35.915Z",
      "bumped": true,
      "bumped_at": "2019-09-23T22:28:35.915Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2097,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 517,
            "username": "janderland",
            "name": "Jon Anderson",
            "avatar_template": "/user_avatar/forums.foundationdb.org/janderland/{size}/517_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Range keys for subspace don&rsquo;t include first or last key",
      "id": 2337,
      "title": "Range keys for subspace don't include first or last key",
      "slug": "range-keys-for-subspace-dont-include-first-or-last-key",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2020-09-15T03:12:25.601Z",
      "last_posted_at": "2020-09-16T23:26:17.094Z",
      "bumped": true,
      "bumped_at": "2020-09-16T23:26:17.094Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 880,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Ranges without explicit end (Go)",
      "id": 773,
      "title": "Ranges without explicit end (Go)",
      "slug": "ranges-without-explicit-end-go",
      "posts_count": 13,
      "reply_count": 10,
      "highest_post_number": 13,
      "image_url": null,
      "created_at": "2018-10-15T21:10:57.504Z",
      "last_posted_at": "2018-10-25T14:38:53.425Z",
      "bumped": true,
      "bumped_at": "2018-10-25T14:38:53.425Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 3281,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 391,
            "username": "atombender",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/atombender/{size}/688_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 53,
            "username": "KrzysFR",
            "name": "Christophe Chevalier",
            "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 378,
            "username": "num",
            "name": null,
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/db5fbb/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 405,
        "username": "harikb",
        "name": "Hari B",
        "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 53,
        "username": "KrzysFR",
        "name": "Christophe Chevalier",
        "avatar_template": "/user_avatar/forums.foundationdb.org/krzysfr/{size}/43_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 405,
      "username": "harikb",
      "name": "Hari B",
      "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png"
    },
    "last_poster": {
      "id": 405,
      "username": "harikb",
      "name": "Hari B",
      "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/issues/2843",
        "title": "FDB go bindings fail go 1.14's unsafe pointer check \u00b7 Issue #2843 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 405,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}