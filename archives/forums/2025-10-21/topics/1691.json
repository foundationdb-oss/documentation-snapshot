{
  "post_stream": {
    "posts": [
      {
        "id": 5376,
        "name": "",
        "username": "Karthikn6793",
        "avatar_template": "/user_avatar/forums.foundationdb.org/karthikn6793/{size}/748_2.png",
        "created_at": "2019-10-22T13:51:23.100Z",
        "cooked": "<p>Hi,<br>\nI have been trying to configure region\u2019s in fdb. The setup is like 3 EC2 instances in one East and another 3 EC2 instances in west, when i give fileconfigure regions it says configured.<br>\nHow to confirm region\u2019s are configured and working as expected? Do we have clear steps to configure the multi-region in AWS?</p>\n<p>Thanks!!</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2019-10-23T09:50:26.289Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 496,
        "reads": 69,
        "readers_count": 68,
        "score": 2473.8,
        "yours": false,
        "topic_id": 1691,
        "topic_slug": "how-to-configure-regions-in-foundationdb",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/best-practices-for-deploying-foundationdb-in-a-multi-region-setup/4752",
            "internal": true,
            "reflection": true,
            "title": "Best Practices for Deploying FoundationDB in a Multi-Region Setup?",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 650,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-configure-regions-in-foundationdb/1691/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 5389,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2019-10-24T01:35:30.162Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"Karthikn6793\" data-post=\"1\" data-topic=\"1691\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/karthikn6793/48/748_2.png\" class=\"avatar\"> Karthikn6793:</div>\n<blockquote>\n<p>The setup is like 3 EC2 instances in one East and another 3 EC2 instances in west</p>\n</blockquote>\n</aside>\n<p>Just to be certain, this sounds like you\u2019ve set up multi-region for disaster recovery, by asynchronously replicating to a second location.  You\u2019ll be able to do a manual operation to have your secondary cluster recover to a consistent snapshot of the database, but one that will be missing the last 1-5 seconds of changes to your data.  If you\u2019re looking for a highly available setup, where your cluster will stay available if a datacenter is lost, then you\u2019ll need to look into adding a satellite location.</p>\n<p>Though FoundationDB does support multi-region as two regions, please do be very careful about your coordinator choice.  For FDB to elect a leader, it does need quorum from the coordinators, so it would be wise to make sure that you either have coordinators in different AZs in the two regions, or preferably that you have a third region that only has a coordinator.</p>\n<aside class=\"quote no-group\" data-username=\"Karthikn6793\" data-post=\"1\" data-topic=\"1691\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/karthikn6793/48/748_2.png\" class=\"avatar\"> Karthikn6793:</div>\n<blockquote>\n<p>when i give fileconfigure regions it says configured.<br>\nHow to confirm region\u2019s are configured and working as expected?</p>\n</blockquote>\n</aside>\n<p>If <code>fileconfigure</code> didn\u2019t reject your region JSON, then that\u2019s a good sign.</p>\n<p>Concretely, I\u2019d suggest looking at <code>DatacenterVersionDifference</code> logged from the cluster controller.  If the replication is working, and working well, then you should see a <code>Difference</code> being logged of something roughly under 5,000,000.</p>\n<p>Also, before you put any important data or traffic onto this cluster, it\u2019d be good to intentionally kill the primary side, and run through the steps detailed in <a href=\"https://apple.github.io/foundationdb/configuration.html#handling-datacenter-failures\">Handling datacenter failures</a> on how to use <code>force_recovery_with_data_loss</code> to make your secondary recover and begin serving clients.</p>\n<aside class=\"quote no-group\" data-username=\"Karthikn6793\" data-post=\"1\" data-topic=\"1691\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/karthikn6793/48/748_2.png\" class=\"avatar\"> Karthikn6793:</div>\n<blockquote>\n<p>Do we have clear steps to configure the multi-region in AWS?</p>\n</blockquote>\n</aside>\n<p>As I assume you\u2019ve seen already, then only documentation that we have for multi-region configuration is <a href=\"https://apple.github.io/foundationdb/configuration.html#configuring-regions\">Configuring Regions</a>. <span class=\"mention\">@mpilman</span> has written <a href=\"https://github.com/apple/foundationdb/wiki/Running-FoundationDB-in-the-Cloud-with-Three-Data-Hall\">Running FoundationDB in the Cloud with Three Data Hall</a> that gives some AWS advice, but is about <code>three_data_hall</code> mode and not multi-region.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 2,
        "updated_at": "2019-10-24T01:35:30.162Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 59,
        "reads": 65,
        "readers_count": 64,
        "score": 323.0,
        "yours": false,
        "topic_id": 1691,
        "topic_slug": "how-to-configure-regions-in-foundationdb",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#configuring-regions",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 6.1",
            "clicks": 50
          },
          {
            "url": "https://github.com/apple/foundationdb/wiki/Running-FoundationDB-in-the-Cloud-with-Three-Data-Hall",
            "internal": false,
            "reflection": false,
            "title": "Running FoundationDB in the Cloud with Three Data Hall \u00b7 apple/foundationdb Wiki \u00b7 GitHub",
            "clicks": 46
          },
          {
            "url": "https://apple.github.io/foundationdb/configuration.html#handling-datacenter-failures",
            "internal": false,
            "reflection": false,
            "title": "Configuration \u2014 FoundationDB 6.1",
            "clicks": 26
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-to-configure-regions-in-foundationdb/1691/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      5376,
      5389
    ]
  },
  "timeline_lookup": [
    [
      1,
      2191
    ],
    [
      2,
      2190
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "performance"
  ],
  "tags_descriptions": {},
  "fancy_title": "How to Configure region&rsquo;s in FoundationDB?",
  "id": 1691,
  "title": "How to Configure region's in FoundationDB?",
  "posts_count": 2,
  "created_at": "2019-10-22T13:51:23.037Z",
  "views": 1604,
  "reply_count": 0,
  "like_count": 1,
  "last_posted_at": "2019-10-24T01:35:30.162Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-to-configure-regions-in-foundationdb",
  "category_id": 7,
  "word_count": 460,
  "deleted_at": null,
  "user_id": 650,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1691",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 2,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 2,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Multi-region configuration - spreading copies inside a region across AZs",
      "id": 959,
      "title": "Multi-region configuration - spreading copies inside a region across AZs",
      "slug": "multi-region-configuration-spreading-copies-inside-a-region-across-azs",
      "posts_count": 4,
      "reply_count": 0,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-12-13T23:01:25.118Z",
      "last_posted_at": "2018-12-18T13:38:00.340Z",
      "bumped": true,
      "bumped_at": "2018-12-18T13:38:00.340Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1469,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 423,
            "username": "kocolosk",
            "name": "Adam Kocoloski",
            "avatar_template": "/user_avatar/forums.foundationdb.org/kocolosk/{size}/412_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 378,
            "username": "num",
            "name": null,
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/db5fbb/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Help converting cloud AZ &amp; Region requirements to Region &amp; DC setup?",
      "id": 3898,
      "title": "Help converting cloud AZ & Region requirements to Region & DC setup?",
      "slug": "help-converting-cloud-az-region-requirements-to-region-dc-setup",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2023-04-10T15:00:24.699Z",
      "last_posted_at": "2023-04-10T16:01:05.179Z",
      "bumped": true,
      "bumped_at": "2023-04-10T16:01:05.179Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 339,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 1237,
            "username": "danthegoodman",
            "name": "Dan Goodman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/danthegoodman/{size}/1567_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "2 region 3 DC config issue",
      "id": 1348,
      "title": "2 region 3 DC config issue",
      "slug": "2-region-3-dc-config-issue",
      "posts_count": 6,
      "reply_count": 3,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2019-05-03T22:09:10.156Z",
      "last_posted_at": "2019-05-04T06:48:23.605Z",
      "bumped": true,
      "bumped_at": "2019-05-04T06:48:23.605Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2446,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 577,
            "username": "binzhangebay",
            "name": "binzhang",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/b/6a8cbe/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Cross Datacenter/Region?",
      "id": 186,
      "title": "Cross Datacenter/Region?",
      "slug": "cross-datacenter-region",
      "posts_count": 10,
      "reply_count": 3,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2018-04-21T18:09:15.229Z",
      "last_posted_at": "2018-06-14T19:55:13.933Z",
      "bumped": true,
      "bumped_at": "2018-06-14T19:55:13.933Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 3406,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 130,
            "username": "aphistic",
            "name": "Erik Davidson",
            "avatar_template": "/user_avatar/forums.foundationdb.org/aphistic/{size}/90_2.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 183,
            "username": "tylerchr",
            "name": "Tyler",
            "avatar_template": "/user_avatar/forums.foundationdb.org/tylerchr/{size}/143_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Working High Avalable Solutions with Two Datacenters",
      "id": 2380,
      "title": "Working High Avalable Solutions with Two Datacenters",
      "slug": "working-high-avalable-solutions-with-two-datacenters",
      "posts_count": 8,
      "reply_count": 5,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2020-10-07T09:28:40.618Z",
      "last_posted_at": "2020-12-01T06:50:01.982Z",
      "bumped": true,
      "bumped_at": "2020-12-01T07:27:11.254Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1171,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 650,
        "username": "Karthikn6793",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/karthikn6793/{size}/748_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      }
    ],
    "created_by": {
      "id": 650,
      "username": "Karthikn6793",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/karthikn6793/{size}/748_2.png"
    },
    "last_poster": {
      "id": 13,
      "username": "alexmiller",
      "name": "Alex Miller",
      "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
    },
    "links": [
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#configuring-regions",
        "title": "Configuration \u2014 FoundationDB 6.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 50,
        "user_id": 13,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/wiki/Running-FoundationDB-in-the-Cloud-with-Three-Data-Hall",
        "title": "Running FoundationDB in the Cloud with Three Data Hall \u00b7 apple/foundationdb Wiki \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 46,
        "user_id": 13,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://apple.github.io/foundationdb/configuration.html#handling-datacenter-failures",
        "title": "Configuration \u2014 FoundationDB 6.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 26,
        "user_id": 13,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}