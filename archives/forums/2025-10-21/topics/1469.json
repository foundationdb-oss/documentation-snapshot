{
  "post_stream": {
    "posts": [
      {
        "id": 4473,
        "name": "Taylor Sarrafian",
        "username": "surprisetalk",
        "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png",
        "created_at": "2019-06-19T17:15:37.286Z",
        "cooked": "<p>It seems that the backup system is hard-coded to use S3 buckets right now. To be more specific, the <code>Authorization</code> header sends HTTP requests like <code>Authorization: AWS access:secret</code>.</p>\n<p>Google Cloud Storage <a href=\"https://cloud.google.com/storage/docs/migrating\" rel=\"nofollow noopener\">is technically compatible with S3-style requests</a>, but it seems to require an HMAC signature that is currently not being sent.</p>\n<p>Anyway, has anybody else had any success with this? Any recommendations? And is this a feature that would be worth making a future pull-request for?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-06-19T17:15:37.286Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 352,
        "reads": 73,
        "readers_count": 72,
        "score": 1796.6,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Taylor Sarrafian",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://cloud.google.com/storage/docs/migrating",
            "internal": false,
            "reflection": false,
            "title": "Migrating from Amazon S3 to Cloud Storage \u00a0|\u00a0 Cloud Storage \u00a0|\u00a0 Google Cloud",
            "clicks": 8
          },
          {
            "url": "https://forums.foundationdb.org/t/backup-to-s3-with-signature-version-4-works-in-aws-but-get-rejected-in-gcp-with-signaturedoesnotmatch/3288",
            "internal": true,
            "reflection": true,
            "title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch",
            "clicks": 2
          },
          {
            "url": "https://forums.foundationdb.org/t/s3-backup-using-v4-signature/2842/2",
            "internal": true,
            "reflection": true,
            "title": "S3 backup using V4 signature",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 581,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 4499,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2019-06-20T19:43:32.907Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"surprisetalk\" data-post=\"1\" data-topic=\"1469\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/surprisetalk/48/579_2.png\" class=\"avatar\"> surprisetalk:</div>\n<blockquote>\n<p>but it seems to require an HMAC signature that is currently not being sent.</p>\n</blockquote>\n</aside>\n<p>This is not correct, can you explain what is making it seem this way?</p>\n<p>The Authorization header value sent is the access key plus an hmac_sha1 signature calculated from several other parts of the request as required by Amazon\u2019s S3 auth scheme.</p>\n<p>I have tested our client against Amazon S3 and Minio and both work.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-06-20T19:43:32.907Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 2,
        "reads": 70,
        "readers_count": 69,
        "score": 24.0,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4500,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2019-06-20T19:48:12.872Z",
        "cooked": "<p>I do not know for certain that anyone has used it with Google Cloud Storage, so you may be the first.  If there is an incompatibility I\u2019m sure it can be remedied easily.  Can you paste the error messages you are seeing (sanitized of course)?  Also, if you add --knob_http_verbose_level=3 to the command line of fdbbackup commands or the backup agent you will see a lot of HTTP/HTTPS detail printed to standard output including the full responses.  GCS might be providing response content that gives more error detail.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-06-20T19:48:12.872Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 7,
        "reads": 70,
        "readers_count": 69,
        "score": 49.0,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4507,
        "name": "Taylor Sarrafian",
        "username": "surprisetalk",
        "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png",
        "created_at": "2019-06-20T23:50:13.513Z",
        "cooked": "<p>Ah! <code>--knob_http_verbose_level</code> is so helpful! Thanks.</p>\n<p>Here is the output of <code>fdbbackup</code>:</p>\n<pre><code class=\"lang-auto\">[c408a9b68635a049d0769fb6ea83aa9c] HTTP starting HEAD /backups ContentLen:0\nRequest Header: Accept: application/xml\nRequest Header: Authorization: AWS access:secret\nRequest Header: Content-Length: 0\nRequest Header: Date: 20190620T231316Z\nRequest Header: Host: storage.googleapis.com\n[c408a9b68635a049d0769fb6ea83aa9c] HTTP code=400 early=0, time=0.007038s HEAD /backups contentLen=0 [204 out, response content len 179]\n[c408a9b68635a049d0769fb6ea83aa9c] HTTP RESPONSE:  HEAD /backups\nResponse Code: 400\nResponse ContentLen: 179\nReponse Header: Cache-Control: private, max-age=0\nReponse Header: Content-Length: 179\nReponse Header: Content-Type: application/xml; charset=UTF-8\nReponse Header: Date: Thu, 20 Jun 2019 23:13:16 GMT\nReponse Header: Expires: Thu, 20 Jun 2019 23:13:16 GMT\nReponse Header: Server: UploadServer\nReponse Header: X-GUploader-UploadID: xxxxxxxxxxxxxxxxxxxxxx\n-- RESPONSE CONTENT--\n</code></pre>\n<p>When I try an identical <code>GET</code> request with <code>httpie</code>:</p>\n<pre><code class=\"lang-auto\">GET /backups/test_route HTTP/1.1\nAccept: application/xml\nAccept-Encoding: gzip, deflate\nAuthorization: AWS access/secret\nConnection: keep-alive\nContent-Length: 0\nDate: 20190620T232744Z\nHost: storage.googleapis.com\nUser-Agent: HTTPie/0.9.8\n\n\n\nHTTP/1.1 400 Bad Request\nCache-Control: private, max-age=0\nContent-Length: 179\nContent-Type: application/xml; charset=UTF-8\nDate: Thu, 20 Jun 2019 23:43:03 GMT\nExpires: Thu, 20 Jun 2019 23:43:03 GMT\nServer: UploadServer\nX-GUploader-UploadID: xxxxxxxxxx\n\n&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;Error&gt;&lt;Code&gt;MalformedSecurityHeader&lt;/Code&gt;&lt;Message&gt;Your request has a malformed header.&lt;/Message&gt;&lt;ParameterName&gt;Date&lt;/ParameterName&gt;&lt;/Error&gt;\n</code></pre>\n<p>So then I changed the date format until it stopped complaining:</p>\n<pre><code class=\"lang-auto\">GET /backups/test_route HTTP/1.1\nAccept: application/xml\nAccept-Encoding: gzip, deflate\nAuthorization: AWS access/secret\nConnection: keep-alive\nContent-Length: 0\nDate: Thu, 20 Jun 2019 23:35:59 +0000\nHost: storage.googleapis.com\nUser-Agent: HTTPie/0.9.8\n\n\n\nHTTP/1.1 400 Bad Request\nCache-Control: private, max-age=0\nContent-Length: 179\nContent-Type: application/xml; charset=UTF-8\nDate: Thu, 20 Jun 2019 23:43:03 GMT\nExpires: Thu, 20 Jun 2019 23:43:03 GMT\nServer: UploadServer\nX-GUploader-UploadID: xxxxxxxxxx\n\n&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;Error&gt;&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated does not match the signature you provided. Check your Google secret key and signing method.&lt;/Message&gt;&lt;StringToSign&gt;GET\n\n\nThu, 20 Jun 2019 23:35:59 +0000\n/test_route&lt;/StringToSign&gt;&lt;/Error&gt;\n</code></pre>\n<p>But it looks like the date is signed, which breaks everything.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-06-20T23:50:13.513Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 25,
        "reads": 72,
        "readers_count": 71,
        "score": 144.4,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Taylor Sarrafian",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 581,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4509,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2019-06-21T02:20:23.865Z",
        "cooked": "<p>That\u2019s unfortunate.</p>\n<p>Can you build FDB locally from source but change <code>\"%Y%m%dT%H%M%SZ\"</code> to <code>\"%a, %d %b %Y %H:%M:%S GMT\"</code> at this line?</p>\n<p>That will produce the date format that you found to work and use it in the signature.  If that works everywhere then I\u2019ll make a PR for it.  If not, we\u2019ll have to find something that does.</p>\n<aside class=\"onebox githubblob\">\n  <header class=\"source\">\n      <a href=\"https://github.com/apple/foundationdb/blob/release-6.1/fdbclient/BlobStore.actor.cpp#L899\" target=\"_blank\" rel=\"nofollow noopener\">github.com</a>\n  </header>\n  <article class=\"onebox-body\">\n    <h4><a href=\"https://github.com/apple/foundationdb/blob/release-6.1/fdbclient/BlobStore.actor.cpp#L899\" target=\"_blank\" rel=\"nofollow noopener\">apple/foundationdb/blob/release-6.1/fdbclient/BlobStore.actor.cpp#L899</a></h4>\n<pre class=\"onebox\"><code class=\"lang-cpp\"><ol class=\"start lines\" start=\"889\" style=\"counter-reset: li-counter 888 ;\">\n<li>\treturn SHA1::from_string(kopad);</li>\n<li>}</li>\n<li>\n</li>\n<li>void BlobStoreEndpoint::setAuthHeaders(std::string const &amp;verb, std::string const &amp;resource, HTTP::Headers&amp; headers) {</li>\n<li>\tstd::string &amp;date = headers[\"Date\"];</li>\n<li>\n</li>\n<li>\tchar dateBuf[20];</li>\n<li>\ttime_t ts;</li>\n<li>\ttime(&amp;ts);</li>\n<li>\t// ISO 8601 format YYYYMMDD'T'HHMMSS'Z'</li>\n<li class=\"selected\">\tstrftime(dateBuf, 20, \"%Y%m%dT%H%M%SZ\", gmtime(&amp;ts));</li>\n<li>\tdate = dateBuf;</li>\n<li>\n</li>\n<li>\tstd::string msg;</li>\n<li>\tStringRef x;</li>\n<li>\tmsg.append(verb);</li>\n<li>\tmsg.append(\"\\n\");</li>\n<li>\tauto contentMD5 = headers.find(\"Content-MD5\");</li>\n<li>\tif(contentMD5 != headers.end())</li>\n<li>\t\tmsg.append(contentMD5-&gt;second);</li>\n<li>\tmsg.append(\"\\n\");</li>\n</ol></code></pre>\n\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-06-21T02:30:18.703Z",
        "reply_count": 0,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 19,
        "reads": 70,
        "readers_count": 69,
        "score": 139.0,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/release-6.1/fdbclient/BlobStore.actor.cpp#L899",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/BlobStore.actor.cpp at release-6.1 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 581,
          "username": "surprisetalk",
          "name": "Taylor Sarrafian",
          "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4693,
        "name": "Illarionov Oleg",
        "username": "brainfucker",
        "avatar_template": "/user_avatar/forums.foundationdb.org/brainfucker/{size}/237_2.png",
        "created_at": "2019-07-21T01:01:12.027Z",
        "cooked": "<p>Do you find any solution? facing the same issue</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-07-21T01:01:12.027Z",
        "reply_count": 0,
        "reply_to_post_number": 1,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 62,
        "readers_count": 61,
        "score": 12.4,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Illarionov Oleg",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 581,
          "username": "surprisetalk",
          "name": "Taylor Sarrafian",
          "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 265,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4694,
        "name": "Ryan Worl",
        "username": "ryanworl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "created_at": "2019-07-21T11:30:36.228Z",
        "cooked": "<p>I haven\u2019t tested this, but if no one gets a patch in to fix this date formatting issue soon, you could try using MinIO in pass-through mode to GCS.</p>\n<p><a href=\"https://docs.min.io/docs/minio-gateway-for-gcs.html\" class=\"onebox\" target=\"_blank\" rel=\"nofollow noopener\">https://docs.min.io/docs/minio-gateway-for-gcs.html</a></p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-07-21T11:30:48.201Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 61,
        "readers_count": 60,
        "score": 17.2,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Ryan Worl",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://docs.min.io/docs/minio-gateway-for-gcs.html",
            "internal": false,
            "reflection": false,
            "title": "MinIO | Learn how to deploy MinIO with Google Cloud Storage",
            "clicks": 7
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 81,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4698,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2019-07-23T00:56:42.046Z",
        "cooked": "<p>To be clear, fdbbackup\u2019s S3 client is using exactly the date format required by Amazon\u2019s v4 signature scheme.</p>\n<aside class=\"onebox allowlistedgeneric\" data-onebox-src=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/signing-elements.html\">\n  <header class=\"source\">\n      <img src=\"https://global.discourse-cdn.com/foundationdb/original/2X/3/30b2287620de1c4440961bfa42230a09258e3f5f.png\" class=\"site-icon\" data-dominant-color=\"BFB36F\" width=\"16\" height=\"16\">\n\n      <a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/signing-elements.html\" target=\"_blank\" rel=\"noopener\">docs.aws.amazon.com</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    \n\n<h3><a href=\"https://docs.aws.amazon.com/IAM/latest/UserGuide/signing-elements.html\" target=\"_blank\" rel=\"noopener\">Elements of an AWS API request signature - AWS Identity and Access Management</a></h3>\n\n  <p>Each HTTP/HTTPS request that uses Signature Version 4 signing must contain these elements.</p>\n\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<blockquote>\n<p>You can include the date as part of your request in several ways. You can use a  <code>date</code>  header, an  <code>x-amz-date</code>  header or include <code>x-amz-date</code>  as a query parameter.</p>\n</blockquote>\n<blockquote>\n<p>The time stamp must be in UTC and in the following ISO 8601 format: YYYYMMDD\u2019T\u2019HHMMSS\u2019Z\u2019. For example,  <code>20150830T123600Z</code>  is a valid time stamp.</p>\n</blockquote>\n<p>It seems strange that other services would use an S3-like interface but change the date format used in the signature, but maybe that is the case.</p>\n<p>If someone can confirm that the patch I posted above works against GCS then we can add a blobstore:// URL parameter for using the alternate date format.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2019-07-23T00:56:42.046Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 62,
        "readers_count": 61,
        "score": 32.4,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://docs.aws.amazon.com/IAM/latest/UserGuide/signing-elements.html",
            "internal": false,
            "reflection": false,
            "title": "Elements of an AWS API request signature - AWS Identity and Access Management",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6599,
        "name": "Matias Holte",
        "username": "matiasholte",
        "avatar_template": "/user_avatar/forums.foundationdb.org/matiasholte/{size}/1124_2.png",
        "created_at": "2020-04-03T21:30:19.956Z",
        "cooked": "<p>Old topic, but I can confirm that I got fdbbackup to work with minio in gcs gateway mode, with decent performance</p>\n<p>Kubernetes manifest:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: minio-service\nspec:\n  ports:\n    - port: 9000\n      targetPort: 9000\n  selector:\n    app: foundationdb-minio-gcs-gateway\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  # This name uniquely identifies the Deployment\n  name: foundationdb-minio-gcs-gateway\nspec:\n  selector:\n    matchLabels:\n      app: foundationdb-minio-gcs-gateway # has to match .spec.template.metadata.labels\n  template:\n    metadata:\n      labels:\n        # Label is used as selector in the service.\n        app: foundationdb-minio-gcs-gateway\n    spec:\n      # Refer to the secret created earlier\n      volumes:\n        - name: google-cloud-key\n          secret:\n            secretName: fdb-backups\n      containers:\n        - name: minio\n          # Pulls the default Minio image from Docker Hub\n          image: minio/minio:RELEASE.2020-03-09T18-26-53Z\n          args:\n            - gateway\n            - gcs\n            - &lt;GOOGLE_PROJECT_NAME&gt;\n          env:\n            # MinIO access key and secret key\n            - name: MINIO_ACCESS_KEY\n              value: \"minio\"\n            - name: MINIO_SECRET_KEY\n              valueFrom:\n                secretKeyRef:\n                  name: minio-fdb-gateway-secret\n                  key: secret\n            # Google Cloud Service uses this variable\n            # Should have: resourcemanager.projects.get, storage.buckets.get,\n            # Also permissions for bucket to use.\n            # If you want to browse files with minio, also storage.buckets.list\n            - name: GOOGLE_APPLICATION_CREDENTIALS\n              value: \"/etc/credentials/key.json\"\n          ports:\n            - containerPort: 9000\n          volumeMounts:\n            - name: google-cloud-key\n              mountPath: \"/etc/credentials\"\n              readOnly: true\n</code></pre>\n<p>With the service up and running, I run</p>\n<pre><code>fdbbackup start -d \"blobstore://minio@minio-service:9000/fdb_backups/$(date +%FT%H-%M-%S)?sc=0&amp;bucket=&lt;BUCKET_NAME&gt;\" \n</code></pre>\n<p>from a foundationdb pod in the same kubernetes cluster</p>\n<p>You\u2019d have to create google credentials with the proper permissions, and add it in a kubernetes secret (I used a secret called fdb-backups with a field called key.json. And another secret called minio-fdb-gateway-secret with the password used to access minio. That password is needed for the fdbbackup command.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-04-03T21:39:08.519Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 11,
        "reads": 51,
        "readers_count": 50,
        "score": 70.2,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Matias Holte",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 746,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6600,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2020-04-03T23:48:09.490Z",
        "cooked": "<p>It would be great if you could do the bit of testing mentioned in Steve\u2019s post above, so that FDB could just natively support GCS instead of using minio to work around it.</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-04-03T23:48:34.558Z",
        "reply_count": 0,
        "reply_to_post_number": 9,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 48,
        "readers_count": 47,
        "score": 14.6,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 746,
          "username": "matiasholte",
          "name": "Matias Holte",
          "avatar_template": "/user_avatar/forums.foundationdb.org/matiasholte/{size}/1124_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6601,
        "name": "Wade",
        "username": "Wade",
        "avatar_template": "/user_avatar/forums.foundationdb.org/wade/{size}/826_2.png",
        "created_at": "2020-04-04T04:04:43.249Z",
        "cooked": "<p>OK so I think there are a few things here:</p>\n<ol>\n<li>\n<p>Referencing the SigV4 docs on date format when using the SigV2 auth, AWS probably handles that one way, it appears GCS handles it another.<br>\nTo get around this the x-amz-date header could probably be set instead of the date header, see some examples here:<br>\n<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#RESTAuthenticationExamples\" rel=\"nofollow noopener\">https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#RESTAuthenticationExamples</a><br>\n<a href=\"https://cloud.google.com/storage/docs/migrating\" rel=\"nofollow noopener\">https://cloud.google.com/storage/docs/migrating</a> uses the same format in the x-amz-date header, so it looks like it can be handled.</p>\n</li>\n<li>\n<p>SigV2 will stop being supported on buckets created after June 24, 2020, SigV4 should probably be implemented as it has been supported since 2012.<br>\n<a href=\"http://aws.amazon.com/blogs/aws/amazon-s3-update-sigv2-deprecation-period-extended-modified/\" rel=\"nofollow noopener\">aws.amazon.com/blogs/aws/amazon-s3-update-sigv2-deprecation-period-extended-modified/</a><br>\n<a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html\" rel=\"nofollow noopener\">docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html</a><br>\n<a href=\"http://cloud.google.com/storage/docs/migrating#authentication\" rel=\"nofollow noopener\">cloud.google.com/storage/docs/migrating#authentication</a></p>\n</li>\n<li>\n<p>There is probably (obviously?) a difference in how GCS and S3 handle the date header. I imagine since GCS was going for compatibility, this should be supported. Though given the upcoming deprecation, I\u2019m not sure if they will want to make the effort to change it. I\u2019ll file a bug on Monday to see if the change can be made.</p>\n</li>\n</ol>\n<p>Sorry about the broken links\u2026 new users have a limit of 2 per post.<br>\nEDIT: Used admin powers to linkify your links.  Sorry about forum restrictions.</p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-04-06T02:36:05.503Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 17,
        "reads": 46,
        "readers_count": 45,
        "score": 99.2,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Wade",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#RESTAuthenticationExamples",
            "internal": false,
            "reflection": false,
            "title": "Signing and Authenticating REST Requests - Amazon Simple Storage Service",
            "clicks": 2
          },
          {
            "url": "http://cloud.google.com/storage/docs/migrating#authentication",
            "internal": false,
            "reflection": false,
            "clicks": 1
          },
          {
            "url": "http://aws.amazon.com/blogs/aws/amazon-s3-update-sigv2-deprecation-period-extended-modified/",
            "internal": false,
            "reflection": false,
            "clicks": 0
          },
          {
            "url": "https://cloud.google.com/storage/docs/migrating",
            "internal": false,
            "reflection": false,
            "title": "Migrating from Amazon S3 to Cloud Storage \u00a0|\u00a0 Google Cloud",
            "clicks": 0
          },
          {
            "url": "http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-authenticating-requests.html",
            "internal": false,
            "reflection": false,
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 677,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 6602,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2020-04-04T09:55:50.651Z",
        "cooked": "<p>Thank you so much for this explanation!</p>\n<p>I had no idea we were using an old authentication method.  The first google result for \u201cS3 authentication\u201d is still <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html\">https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html</a> and I completely missed the message about the page covering v2 while v4 is the latest.</p>\n<p>Clearly we should update, so I created an issue for it:</p>\n<aside class=\"onebox githubissue\">\n  <header class=\"source\">\n      <a href=\"https://github.com/apple/foundationdb/issues/2907\" target=\"_blank\">github.com/apple/foundationdb</a>\n  </header>\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewbox=\"0 0 14 16\" aria-hidden=\"true\"><path d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/apple/foundationdb/issues/2907\" target=\"_blank\">Update blob client to sign requests using S3 authentication version 4</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-04-04\" data-time=\"09:53:22\" data-timezone=\"UTC\">09:53AM - 04 Apr 20 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/satherton\" target=\"_blank\">\n          <img alt=\"satherton\" src=\"https://global.discourse-cdn.com/foundationdb/original/1X/dcab1adc161b25c2cd76455166702f4cdf35a09e.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\">\n          satherton\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"github-row\">\n  <p class=\"github-content\">It is currently using v2, which is being phased out on June 24, 2020, though buckets existing before then will still...</p>\n</div>\n\n<div class=\"labels\">\n</div>\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2020-04-04T09:55:50.651Z",
        "reply_count": 0,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 18,
        "reads": 45,
        "readers_count": 44,
        "score": 99.0,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/2907",
            "internal": false,
            "reflection": false,
            "title": "Update blob client to sign requests using S3 authentication version 4 \u00b7 Issue #2907 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 19
          },
          {
            "url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html",
            "internal": false,
            "reflection": false,
            "title": "Signing and Authenticating REST Requests - Amazon Simple Storage Service",
            "clicks": 2
          },
          {
            "url": "https://github.com/satherton",
            "internal": false,
            "reflection": false,
            "title": "satherton (Steve Atherton) \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 677,
          "username": "Wade",
          "name": "Wade",
          "avatar_template": "/user_avatar/forums.foundationdb.org/wade/{size}/826_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 10969,
        "name": "mason",
        "username": "mason",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mason/{size}/1145_2.png",
        "created_at": "2022-04-17T06:32:11.694Z",
        "cooked": "<p>With V4 authenticate, <code>fdbbackup</code> still not works for Google Cloud Storage (GCS). Problem comes from mismatch between signature encode by <code>fdbbackup</code> and by GCS side. This is described in <a href=\"https://github.com/apple/foundationdb/issues/6879\" rel=\"noopener nofollow ugc\">github issue</a> along with a possible fix.</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 13,
        "updated_at": "2022-04-17T06:55:15.741Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 28,
        "readers_count": 27,
        "score": 25.6,
        "yours": false,
        "topic_id": 1469,
        "topic_slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
        "display_username": "mason",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/6879",
            "internal": false,
            "reflection": false,
            "title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch \u00b7 Issue #6879 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 44
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 970,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/how-do-i-use-fdbbackup-with-google-cloud-storage/1469/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      4473,
      4499,
      4500,
      4507,
      4509,
      4693,
      4694,
      4698,
      6599,
      6600,
      6601,
      6602,
      10969
    ]
  },
  "timeline_lookup": [
    [
      1,
      2316
    ],
    [
      2,
      2315
    ],
    [
      6,
      2285
    ],
    [
      7,
      2284
    ],
    [
      8,
      2283
    ],
    [
      9,
      2027
    ],
    [
      13,
      1284
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "How do I use `fdbbackup` with Google Cloud Storage?",
  "id": 1469,
  "title": "How do I use `fdbbackup` with Google Cloud Storage?",
  "posts_count": 13,
  "created_at": "2019-06-19T17:15:37.202Z",
  "views": 2188,
  "reply_count": 4,
  "like_count": 3,
  "last_posted_at": "2022-04-17T06:32:11.694Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "how-do-i-use-fdbbackup-with-google-cloud-storage",
  "category_id": 7,
  "word_count": 1614,
  "deleted_at": null,
  "user_id": 581,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1469",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 13,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 8,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch",
      "id": 3288,
      "title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch",
      "slug": "backup-to-s3-with-signature-version-4-works-in-aws-but-get-rejected-in-gcp-with-signaturedoesnotmatch",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/1/163cdd46e7020d215072a79f22101605945cdd59_2_1024x511.png",
      "created_at": "2022-04-28T06:36:42.760Z",
      "last_posted_at": "2022-04-28T07:54:57.794Z",
      "bumped": true,
      "bumped_at": "2022-04-28T07:54:57.794Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 683,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 970,
            "username": "mason",
            "name": "mason",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mason/{size}/1145_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 849,
            "username": "johscheuer",
            "name": "Johannes Scheuermann",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/j/f475e1/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbbackup: backup_error",
      "id": 2624,
      "title": "Fdbbackup: backup_error",
      "slug": "fdbbackup-backup-error",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": "https://global.discourse-cdn.com/foundationdb/optimized/2X/f/f918f61d53b8958e5ae3a6e7975b55c5fd931d1a_2_1024x359.png",
      "created_at": "2021-03-26T10:08:59.583Z",
      "last_posted_at": "2021-05-25T22:41:19.000Z",
      "bumped": true,
      "bumped_at": "2021-05-25T22:41:19.000Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1217,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 908,
            "username": "SnigdhaPathak",
            "name": "Snigdha Pathak",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/e95f7d/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 909,
            "username": "findingnemo",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/f/ccd318/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 81,
            "username": "ryanworl",
            "name": "Ryan Worl",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "FoundationDB fdbbackup",
      "id": 1460,
      "title": "FoundationDB fdbbackup",
      "slug": "foundationdb-fdbbackup",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2019-06-17T18:54:47.516Z",
      "last_posted_at": "2019-10-09T03:07:15.974Z",
      "bumped": true,
      "bumped_at": "2019-10-09T03:07:15.974Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2461,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 579,
            "username": "approachcp",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/f04885/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 581,
            "username": "surprisetalk",
            "name": "Taylor Sarrafian",
            "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "S3 backup using V4 signature",
      "id": 2842,
      "title": "S3 backup using V4 signature",
      "slug": "s3-backup-using-v4-signature",
      "posts_count": 3,
      "reply_count": 0,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2021-08-05T12:15:08.684Z",
      "last_posted_at": "2021-08-11T05:42:57.181Z",
      "bumped": true,
      "bumped_at": "2021-08-11T05:42:57.181Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 695,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 967,
            "username": "jhasne",
            "name": "Jhasne",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jhasne/{size}/1137_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 677,
            "username": "Wade",
            "name": "Wade",
            "avatar_template": "/user_avatar/forums.foundationdb.org/wade/{size}/826_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "FDB Backup, minio, and minio gateway (paid service)",
      "id": 2898,
      "title": "FDB Backup, minio, and minio gateway (paid service)",
      "slug": "fdb-backup-minio-and-minio-gateway-paid-service",
      "posts_count": 1,
      "reply_count": 0,
      "highest_post_number": 1,
      "image_url": null,
      "created_at": "2021-09-20T18:14:03.477Z",
      "last_posted_at": "2021-09-20T18:14:03.533Z",
      "bumped": true,
      "bumped_at": "2021-09-20T18:14:03.533Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 617,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 405,
            "username": "harikb",
            "name": "Hari B",
            "avatar_template": "/user_avatar/forums.foundationdb.org/harikb/{size}/1033_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 581,
        "username": "surprisetalk",
        "name": "Taylor Sarrafian",
        "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 81,
        "username": "ryanworl",
        "name": "Ryan Worl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 265,
        "username": "brainfucker",
        "name": "Illarionov Oleg",
        "avatar_template": "/user_avatar/forums.foundationdb.org/brainfucker/{size}/237_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 677,
        "username": "Wade",
        "name": "Wade",
        "avatar_template": "/user_avatar/forums.foundationdb.org/wade/{size}/826_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 746,
        "username": "matiasholte",
        "name": "Matias Holte",
        "avatar_template": "/user_avatar/forums.foundationdb.org/matiasholte/{size}/1124_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 970,
        "username": "mason",
        "name": "mason",
        "avatar_template": "/user_avatar/forums.foundationdb.org/mason/{size}/1145_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 581,
      "username": "surprisetalk",
      "name": "Taylor Sarrafian",
      "avatar_template": "/user_avatar/forums.foundationdb.org/surprisetalk/{size}/579_2.png"
    },
    "last_poster": {
      "id": 970,
      "username": "mason",
      "name": "mason",
      "avatar_template": "/user_avatar/forums.foundationdb.org/mason/{size}/1145_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/issues/6879",
        "title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch \u00b7 Issue #6879 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 44,
        "user_id": 970,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/2907",
        "title": "Update blob client to sign requests using S3 authentication version 4 \u00b7 Issue #2907 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 19,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://cloud.google.com/storage/docs/migrating",
        "title": "Migrating from Amazon S3 to Cloud Storage \u00a0|\u00a0 Cloud Storage \u00a0|\u00a0 Google Cloud",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 8,
        "user_id": 581,
        "domain": "cloud.google.com",
        "root_domain": "google.com"
      },
      {
        "url": "https://docs.min.io/docs/minio-gateway-for-gcs.html",
        "title": "MinIO | Learn how to deploy MinIO with Google Cloud Storage",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 7,
        "user_id": 81,
        "domain": "docs.min.io",
        "root_domain": "min.io"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/release-6.1/fdbclient/BlobStore.actor.cpp#L899",
        "title": "foundationdb/BlobStore.actor.cpp at release-6.1 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/backup-to-s3-with-signature-version-4-works-in-aws-but-get-rejected-in-gcp-with-signaturedoesnotmatch/3288",
        "title": "Backup to S3 with Signature Version 4 works in AWS but get rejected in GCP with SignatureDoesNotMatch",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 2,
        "user_id": 970,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html",
        "title": "Signing and Authenticating REST Requests - Amazon Simple Storage Service",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 7,
        "domain": "docs.aws.amazon.com",
        "root_domain": "amazon.com"
      },
      {
        "url": "https://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#RESTAuthenticationExamples",
        "title": "Signing and Authenticating REST Requests - Amazon Simple Storage Service",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 677,
        "domain": "docs.aws.amazon.com",
        "root_domain": "amazon.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/s3-backup-using-v4-signature/2842/2",
        "title": "S3 backup using V4 signature",
        "internal": true,
        "attachment": false,
        "reflection": true,
        "clicks": 2,
        "user_id": 677,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "http://cloud.google.com/storage/docs/migrating#authentication",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 677,
        "domain": "cloud.google.com",
        "root_domain": "google.com"
      }
    ]
  },
  "bookmarks": []
}