{
  "post_stream": {
    "posts": [
      {
        "id": 3662,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-03-14T17:43:45.337Z",
        "cooked": "<p>The golang bindings currently use finalizers to manage native resources. From what I understand, this has some downsides mainly related to the fact that there aren\u2019t strong guarantees around when finalizers will be run. It sounds like one particular issue that may arise is when there is a large quantity of native memory that needs to be freed but an absence of memory pressure in Go. This can result in garbage collection (and the finalizers) not being run, preventing the release of native resources.</p>\n<p>The Java bindings have similar concerns, and they address them by providing methods to explicitly close native resources. I\u2019m not an expert with Go, but I\u2019m wondering if we should do the same thing there. Are there any Go users here that have opinions on this?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-14T17:43:45.337Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 140,
        "reads": 38,
        "readers_count": 37,
        "score": 707.6,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 3663,
        "name": "Ryan Worl",
        "username": "ryanworl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "created_at": "2019-03-14T17:50:56.834Z",
        "cooked": "<p>I don\u2019t see anything wrong with constraining the lifetime of data read from FDB to the scope of the transaction.</p>\n<p>This is how many Go KV-stores work. If you want the data outside of the transaction block to stay alive, you copy it. All pointers after commit or abort are invalid.</p>\n<p>I don\u2019t think an explicit function to free is that bad either, especially if it is scoped to a transaction and you can just defer it before you run the transaction.</p>\n<blockquote>\n<p><strong>BoltDB</strong> (used in etcd)</p>\n<p>\u201cPlease note that values returned from  <code>Get()</code>  are only valid while the transaction is open. If you need to use a value outside of the transaction then you must use  <code>copy()</code>  to copy it to another byte slice.\u201d</p>\n<p><a href=\"https://github.com/etcd-io/bbolt#using-keyvalue-pairs\" class=\"inline-onebox\">GitHub - etcd-io/bbolt: An embedded key/value database for Go.</a></p>\n</blockquote>\n<blockquote>\n<p><strong>Badger</strong> (used in Dgraph)</p>\n<p>\u201cPlease note that values returned from  <code>Get()</code>  are only valid while the transaction is open. If you need to use a value outside of the transaction then you must use  <code>copy()</code>  to copy it to another byte slice.\u201d</p>\n<p><a href=\"https://github.com/dgraph-io/badger#using-keyvalue-pairs\" class=\"inline-onebox\">GitHub - dgraph-io/badger: Fast key-value DB in Go.</a></p>\n</blockquote>\n<p>Presumably the API documentation was copied from BoltDB to Badger given the quote is the same, but I know both are correct respectively.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-14T18:23:42.547Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 38,
        "readers_count": 37,
        "score": 22.6,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "Ryan Worl",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/etcd-io/bbolt#using-keyvalue-pairs",
            "internal": false,
            "reflection": false,
            "title": "GitHub - etcd-io/bbolt: An embedded key/value database for Go.",
            "clicks": 1
          },
          {
            "url": "https://github.com/dgraph-io/badger#using-keyvalue-pairs",
            "internal": false,
            "reflection": false,
            "title": "GitHub - dgraph-io/badger: Fast key-value DB in Go.",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 81,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3675,
        "name": "Ryan Worl",
        "username": "ryanworl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "created_at": "2019-03-15T21:15:19.236Z",
        "cooked": "<p>I\u2019m willing to add this API to manually free resources if that\u2019s acceptable to the team. I\u2019d have to see how that interacts with backwards compatability of the public API, but I think it would work.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-15T21:15:19.236Z",
        "reply_count": 2,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 32,
        "readers_count": 31,
        "score": 21.4,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "Ryan Worl",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 81,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3699,
        "name": "Jared2501",
        "username": "jared2501",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
        "created_at": "2019-03-20T18:02:55.611Z",
        "cooked": "<p>Note that the stdlib for Go frees associated resources in finalizers for some of its stuff (notable files and sockets), so it\u2019s not necessarily a bad thing \u2122.  It is true that it\u2019s frowned upon to do work in Finalizers in Java, but that being said there is prior art here for KV stores in Java using Finalizers to do cleanup - the RocksDB Java bindings also do work in their Java finalizers.</p>\n<p>However, both the Go stdlib and the RocksDB Java bindings immediately free associated resources when the file/socket/transaction is closed. When the underlying resources are freed a flag is set (or in Go\u2019s case, the file is nilled out), and the finalizers will check to see if the resource has been freed before running to prevent double-freeing.</p>\n<p>Rather than offer a separate API to free FDB native resources, I\u2019d prefer copying this pattern in the Go/Java bindings by destroying the underlying transaction object when it\u2019s canceled/completed. Although, I have not seen any memory pressure issues when running the FDB Go bindings though, so I wouldn\u2019t rank this as important for me.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-20T18:02:55.611Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 28,
        "readers_count": 27,
        "score": 10.6,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "Jared2501",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 81,
          "username": "ryanworl",
          "name": "Ryan Worl",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 260,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3702,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-03-20T19:42:04.217Z",
        "cooked": "<aside class=\"quote no-group\" data-username=\"jared2501\" data-post=\"4\" data-topic=\"1228\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/jared2501/48/266_2.png\" class=\"avatar\"> jared2501:</div>\n<blockquote>\n<p>However, both the Go stdlib and the RocksDB Java bindings immediately free associated resources when the file/socket/transaction is closed. When the underlying resources are freed a flag is set (or in Go\u2019s case, the file is nilled out), and the finalizers will check to see if the resource has been freed before running to prevent double-freeing.</p>\n<p>Rather than offer a separate API to free FDB native resources, I\u2019d prefer copying this pattern in the Go/Java bindings by destroying the underlying transaction object when it\u2019s canceled/completed.</p>\n</blockquote>\n</aside>\n<p>If I understand correctly, I think this is what the Java bindings are doing now. Objects holding native resources implement <code>AutoCloseable</code> and will release their resources when they are closed. If close is not called, then the finalizer cleans up the resources. I think we\u2019ve technically deprecated the behavior in the finalizers because it has an associated cost and relying on it can lead to trouble, but for now it exists.</p>\n<p>From what I can tell, we\u2019d be subject to similar problems in the Go bindings, although it may require a specific workload to encounter them. My thought was that the Go API would look similar to what Java is doing now, possibly also deprecating and eventually removing the finalizer behavior.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-20T19:42:04.217Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 1,
        "incoming_link_count": 1,
        "reads": 27,
        "readers_count": 26,
        "score": 15.4,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3703,
        "name": "Jared2501",
        "username": "jared2501",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
        "created_at": "2019-03-20T21:43:43.792Z",
        "cooked": "<p>So looks like people have had a similar question here: <a href=\"https://groups.google.com/forum/#!topic/golang-nuts/Hd0uPrKIDww\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">Redirecting to Google Groups</a>. Ian\u2019s suggestion was pretty sane:</p>\n<blockquote>\n<p>I would say that using both defer and a finalizer is overkill.  Pick  one or the other.  You either need to remember to free resources or you don\u2019t.  I don\u2019t see an advantage to handling it both ways.</p>\n</blockquote>\n<p>Your plan to migrate sounds make it explicit sounds sane. I\u2019m happy with either, personally, since the FDB Database.Transaction method sounds like it would handle the cleanup for me anyway, and I\u2019ve not seen any memory pressure issues with the current FDB Go bindings.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-20T21:43:43.792Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 25,
        "readers_count": 24,
        "score": 5.0,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "Jared2501",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://groups.google.com/forum/#!topic/golang-nuts/Hd0uPrKIDww",
            "internal": false,
            "reflection": false,
            "title": "Google Groups",
            "clicks": 4
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 260,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 3704,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2019-03-20T22:38:39.693Z",
        "cooked": "<p>I think it would be great if you wanted to work on this. We should write up what we want this to look like in a GitHub issue and then we could assign it to you.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-03-20T22:38:39.693Z",
        "reply_count": 0,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 26,
        "readers_count": 25,
        "score": 20.2,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 81,
          "username": "ryanworl",
          "name": "Ryan Worl",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 4735,
        "name": "Ryan Worl",
        "username": "ryanworl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "created_at": "2019-07-29T13:02:32.700Z",
        "cooked": "<p>PR for this if anyone following here is interested.</p>\n<aside class=\"onebox githubpullrequest\">\n  <header class=\"source\">\n      <a href=\"https://github.com/apple/foundationdb/pull/1910\" target=\"_blank\" rel=\"nofollow noopener\">github.com/apple/foundationdb</a>\n  </header>\n  <article class=\"onebox-body\">\n      <a href=\"https://github.com/ryanworl\" target=\"_blank\" rel=\"nofollow noopener\">\n    <img alt=\"ryanworl\" src=\"https://global.discourse-cdn.com/foundationdb/original/1X/4e8e4d4070ad447a894cd0362fc07e981f39fa40.jpeg\" class=\"thumbnail onebox-avatar\" width=\"90\" height=\"90\">\n  </a>\n\n<h4>\n  <a href=\"https://github.com/apple/foundationdb/pull/1910\" target=\"_blank\" rel=\"nofollow noopener\">[bindings/go] Remove finalizers in favor of copying and destroying the native resources immediately</a>\n</h4>\n\n<div class=\"date\">\n  by <a href=\"https://github.com/ryanworl\" target=\"_blank\" rel=\"nofollow noopener\">ryanworl</a>\n  on <a href=\"https://github.com/apple/foundationdb/pull/1910\" target=\"_blank\" rel=\"nofollow noopener\">12:41PM - 29 Jul 19 UTC</a>\n</div>\n\n<div class=\"github-commit-stats\">\n  <strong>3 commits</strong>\n  changed <strong>7 files</strong>\n  with <strong>131 additions</strong>\n  and <strong>53 deletions</strong>.\n</div>\n\n  </article>\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 8,
        "updated_at": "2019-07-29T13:02:32.700Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 18,
        "readers_count": 17,
        "score": 3.6,
        "yours": false,
        "topic_id": 1228,
        "topic_slug": "use-of-finalizers-in-golang-bindings",
        "display_username": "Ryan Worl",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/1910",
            "internal": false,
            "reflection": false,
            "title": "[bindings/go] Remove finalizers in favor of copying and destroying the native resources immediately by ryanworl \u00b7 Pull Request #1910 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 9
          },
          {
            "url": "https://github.com/ryanworl",
            "internal": false,
            "reflection": false,
            "title": "ryanworl \u00b7 GitHub",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 81,
        "hidden": false,
        "trust_level": 3,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/use-of-finalizers-in-golang-bindings/1228/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      3662,
      3663,
      3675,
      3699,
      3702,
      3703,
      3704,
      4735
    ]
  },
  "timeline_lookup": [
    [
      1,
      2413
    ],
    [
      3,
      2412
    ],
    [
      4,
      2407
    ],
    [
      8,
      2276
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "bindings"
  ],
  "tags_descriptions": {},
  "fancy_title": "Use of finalizers in golang bindings",
  "id": 1228,
  "title": "Use of finalizers in golang bindings",
  "posts_count": 8,
  "created_at": "2019-03-14T17:43:45.236Z",
  "views": 1114,
  "reply_count": 4,
  "like_count": 1,
  "last_posted_at": "2019-07-29T13:02:32.700Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "use-of-finalizers-in-golang-bindings",
  "category_id": 5,
  "word_count": 962,
  "deleted_at": null,
  "user_id": 12,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_1228",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 8,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Is there a way to close a client and its DB connections?",
      "id": 626,
      "title": "Is there a way to close a client and its DB connections?",
      "slug": "is-there-a-way-to-close-a-client-and-its-db-connections",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2018-08-09T22:36:41.949Z",
      "last_posted_at": "2018-08-10T00:10:07.141Z",
      "bumped": true,
      "bumped_at": "2018-08-10T00:10:07.141Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1085,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 44,
            "username": "cespare",
            "name": "Caleb Spare",
            "avatar_template": "/user_avatar/forums.foundationdb.org/cespare/{size}/36_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "id": 516,
      "title": "What is the life time of key, value and other arguments passed to fdb_transaction_*",
      "slug": "what-is-the-life-time-of-key-value-and-other-arguments-passed-to-fdb-transaction",
      "posts_count": 11,
      "reply_count": 4,
      "highest_post_number": 11,
      "image_url": null,
      "created_at": "2018-06-18T18:28:57.904Z",
      "last_posted_at": "2018-07-17T16:11:21.242Z",
      "bumped": true,
      "bumped_at": "2018-07-17T16:11:21.242Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "bindings"
      ],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2608,
      "category_id": 5,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 308,
            "username": "ananthakumaran",
            "name": "Anantha Kumaran",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ananthakumaran/{size}/526_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Crashes every day go bindings",
      "id": 1219,
      "title": "Crashes every day go bindings",
      "slug": "crashes-every-day-go-bindings",
      "posts_count": 19,
      "reply_count": 13,
      "highest_post_number": 19,
      "image_url": null,
      "created_at": "2019-03-13T07:03:38.291Z",
      "last_posted_at": "2019-07-05T15:14:02.982Z",
      "bumped": true,
      "bumped_at": "2019-07-05T15:14:02.982Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 2317,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 520,
            "username": "Vasilii",
            "name": "Vasiliy Popkov",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/v/258eb7/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 120,
            "username": "josephg",
            "name": "Seph Gentle",
            "avatar_template": "/user_avatar/forums.foundationdb.org/josephg/{size}/84_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 490,
            "username": "rjenkins",
            "name": "Ray Jenkins",
            "avatar_template": "/user_avatar/forums.foundationdb.org/rjenkins/{size}/487_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 562,
            "username": "ddi",
            "name": null,
            "avatar_template": "/user_avatar/forums.foundationdb.org/ddi/{size}/721_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Fdb C client library memory allocations",
      "id": 1199,
      "title": "Fdb C client library memory allocations",
      "slug": "fdb-c-client-library-memory-allocations",
      "posts_count": 10,
      "reply_count": 5,
      "highest_post_number": 10,
      "image_url": null,
      "created_at": "2019-03-06T03:07:33.409Z",
      "last_posted_at": "2019-03-14T00:14:17.371Z",
      "bumped": true,
      "bumped_at": "2019-03-14T00:14:17.371Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 1392,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 38,
            "username": "panghy",
            "name": "Clement Pang",
            "avatar_template": "/user_avatar/forums.foundationdb.org/panghy/{size}/19_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 337,
            "username": "mengxu",
            "name": "Meng Xu",
            "avatar_template": "/user_avatar/forums.foundationdb.org/mengxu/{size}/893_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Java - is calling Database.close() mandatory?",
      "id": 696,
      "title": "Java - is calling Database.close() mandatory?",
      "slug": "java-is-calling-database-close-mandatory",
      "posts_count": 4,
      "reply_count": 2,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-09-12T15:25:34.684Z",
      "last_posted_at": "2018-09-13T15:33:50.599Z",
      "bumped": true,
      "bumped_at": "2018-09-13T15:33:50.599Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 771,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 166,
            "username": "gaurav",
            "name": "gaurav",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/g/b487fb/{size}.png",
            "trust_level": 3
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 81,
        "username": "ryanworl",
        "name": "Ryan Worl",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 3
      },
      {
        "id": 260,
        "username": "jared2501",
        "name": "Jared2501",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jared2501/{size}/266_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 12,
      "username": "ajbeamon",
      "name": "A.J. Beamon",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
    },
    "last_poster": {
      "id": 81,
      "username": "ryanworl",
      "name": "Ryan Worl",
      "avatar_template": "/user_avatar/forums.foundationdb.org/ryanworl/{size}/440_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/pull/1910",
        "title": "[bindings/go] Remove finalizers in favor of copying and destroying the native resources immediately by ryanworl \u00b7 Pull Request #1910 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 9,
        "user_id": 81,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://groups.google.com/forum/#!topic/golang-nuts/Hd0uPrKIDww",
        "title": "Google Groups",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 260,
        "domain": "groups.google.com",
        "root_domain": "google.com"
      },
      {
        "url": "https://github.com/etcd-io/bbolt#using-keyvalue-pairs",
        "title": "GitHub - etcd-io/bbolt: An embedded key/value database for Go.",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 81,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}