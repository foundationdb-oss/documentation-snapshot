{
  "post_stream": {
    "posts": [
      {
        "id": 9747,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-27T22:52:03.203Z",
        "cooked": "<p>Hello</p>\n<p>In one of our cluster, we tried increasing number of proxies to 6.</p>\n<blockquote>\n<p>fdb&gt; configure proxies=6</p>\n</blockquote>\n<p><code>status</code> shows below:</p>\n<blockquote>\n<p>Desired Proxies        - 6<br>\nDesired Resolvers      - 6<br>\nDesired Logs           - 8</p>\n</blockquote>\n<p>However when we check <code>status json</code> for processes with role=proxy, we only see 5.<br>\n<code>fdb_trace_role_master_proxy_server_value == 1</code> shows 7 processes<br>\nWondering where can we find the correct number of proxies running in the cluster.</p>\n<p>fdbserver --version<br>\nFoundationDB 6.2 (v6.2.15)<br>\nsource version 20566f2ff06a7e822b30e8cfd91090fbd863a393<br>\nprotocol fdb00b062010001</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-27T22:53:10.758Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 166,
        "reads": 42,
        "readers_count": 41,
        "score": 838.4,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 9751,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-28T16:17:21.258Z",
        "cooked": "<p>Is it safe to assume processes with role=proxy in <code>status json</code> as currently active number of proxies?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-28T16:17:21.258Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 39,
        "readers_count": 38,
        "score": 12.8,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9759,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-29T17:07:33.742Z",
        "cooked": "<p>Any insight here is much appreciated. To give more context, we noticed performance issues with one of our prod cluster and observed that proxy process was running hot. We decided to up the number of configured proxies to 6. We still see the proxy process using almost 100% CPU all time.</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-29T17:07:33.742Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 37,
        "readers_count": 36,
        "score": 7.4,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9770,
        "name": "Xiaoxi Wang",
        "username": "sfc-gh-xwang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/sfc-gh-xwang/{size}/1070_2.png",
        "created_at": "2021-07-30T18:29:12.247Z",
        "cooked": "<p>I think <code>status json</code> has some latency to reflect the current cluster status. But that latency is really small, not up to 3 mins in most cases\u2026</p>\n<p>How many machines do you have in the cluster? Post your foundationdb.conf may give some clues about why the cluster didn\u2019t recruit enough proxies</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T18:29:12.247Z",
        "reply_count": 1,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 35,
        "readers_count": 34,
        "score": 12.0,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Xiaoxi Wang",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 769,
          "username": "ajames",
          "name": "Alwin",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 785,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9771,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-30T18:58:20.678Z",
        "cooked": "<p>I don\u2019t think it is a latency issue, it still shows 5.</p>\n<pre><code class=\"lang-auto\">fdbcli --exec \"status json\" | grep \"prox\"\n            \"proxies\" : 6,\n                        \"role\" : \"proxy\"\n                        \"role\" : \"proxy\"\n                        \"role\" : \"proxy\"\n                        \"role\" : \"proxy\"\n                        \"role\" : \"proxy\"\n</code></pre>\n<p>We have 21 machines with 202 active storage processes.<br>\n<code>foundationdb.conf</code> are not same across all nodes, but 17 nodes have 12 storage processes and 4 stateless each, rest 4 nodes are dedicated for coordinators and Tx processes. We don\u2019t specify any other role preferences to processes.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T18:58:20.678Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 34,
        "readers_count": 33,
        "score": 11.8,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 785,
          "username": "sfc-gh-xwang",
          "name": "Xiaoxi Wang",
          "avatar_template": "/user_avatar/forums.foundationdb.org/sfc-gh-xwang/{size}/1070_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9772,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2021-07-30T19:56:37.152Z",
        "cooked": "<p>This is a bug that was fixed in 6.2.16. Prior to that, status could only label at most 5 processes as proxies, even if the cluster was actually running more.</p>\n<aside class=\"onebox githubpullrequest\" data-onebox-src=\"https://github.com/apple/foundationdb/pull/2653\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/pull/2653\" target=\"_blank\" rel=\"noopener\">github.com/apple/foundationdb</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Pull Request\">\n    <svg width=\"60\" height=\"60\" class=\"github-icon\" viewbox=\"0 0 12 16\" aria-hidden=\"true\"><path d=\"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/apple/foundationdb/pull/2653\" target=\"_blank\" rel=\"noopener\">Status should use the full list of proxies</a>\n    </h4>\n\n    <div class=\"branches\">\n      <code>apple:release-6.2</code> \u2190 <code>ajbeamon:fix-status-proxy-list</code>\n    </div>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2020-02-07\" data-time=\"23:45:03\" data-timezone=\"UTC\">11:45PM - 07 Feb 20 UTC</span>\n      </div>\n\n      <div class=\"user\">\n        <a href=\"https://github.com/ajbeamon\" target=\"_blank\" rel=\"noopener\">\n          <img alt=\"ajbeamon\" src=\"https://global.discourse-cdn.com/foundationdb/original/1X/6daa487e02c4066a51abc45dead7a3188ce91201.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\">\n          ajbeamon\n        </a>\n      </div>\n\n      <div class=\"lines\" title=\"3 commits changed 2 files with 4 additions and 11 deletions\">\n        <a href=\"https://github.com/apple/foundationdb/pull/2653/files\" target=\"_blank\" rel=\"noopener\">\n          <span class=\"added\">+4</span>\n          <span class=\"removed\">-11</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">Instead, it was limited to using 5 randomly assigned ones.</p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T19:57:26.531Z",
        "reply_count": 1,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 32,
        "readers_count": 31,
        "score": 11.4,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/2653",
            "internal": false,
            "reflection": false,
            "title": "Status should use the full list of proxies by ajbeamon \u00b7 Pull Request #2653 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 769,
          "username": "ajames",
          "name": "Alwin",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9773,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-30T20:23:12.119Z",
        "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a></p>\n<p>So is it safe to assume cluster will be running the desired number of proxies or more?<br>\nBit confused here since <code>fdb_trace_role_master_proxy_server_value</code> (wavefront-fdb-tailer metric) shows we have 7 proxies.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T20:23:12.119Z",
        "reply_count": 1,
        "reply_to_post_number": 6,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 32,
        "readers_count": 31,
        "score": 21.4,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9774,
        "name": "A.J. Beamon",
        "username": "ajbeamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "created_at": "2021-07-30T20:46:34.714Z",
        "cooked": "<p>I\u2019m not that familiar with that metric, but if it\u2019s reading from trace logs and trying to look for processes that are logging proxy related events, it could be getting confused by the presence of special trace events that get repeated even in some cases when a process is no longer serving a role.</p>\n<p>My guess is that you do in fact have 6 proxies. There are probably a couple ways you could confirm this:</p>\n<ol>\n<li>Look at the trace logs for recent events with <code>Type=ProxyMetrics</code> and <code>TrackLatestType=Original</code>.</li>\n<li>Run <code>fdbcli --exec 'status json'</code> multiple times and take the union of proxies you get back. This is a bit hacky and maybe difficult if you have a lot of proxies, but the idea is that each time you run <code>fdbcli</code> you should be assigned 5 random proxies. Doing this enough times (especially with only 6 proxies) should give you all of them.</li>\n</ol>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T20:46:34.714Z",
        "reply_count": 1,
        "reply_to_post_number": 7,
        "quote_count": 0,
        "incoming_link_count": 4,
        "reads": 30,
        "readers_count": 29,
        "score": 31.0,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "A.J. Beamon",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 769,
          "username": "ajames",
          "name": "Alwin",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": true,
        "staff": true,
        "user_id": 12,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 9775,
        "name": "Alwin",
        "username": "ajames",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "created_at": "2021-07-30T21:14:15.482Z",
        "cooked": "<p>Thanks again <a class=\"mention\" href=\"/u/ajbeamon\">@ajbeamon</a> Let me try what you suggested.</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2021-07-30T21:14:15.482Z",
        "reply_count": 0,
        "reply_to_post_number": 8,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 30,
        "readers_count": 29,
        "score": 6.0,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Alwin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 12,
          "username": "ajbeamon",
          "name": "A.J. Beamon",
          "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 769,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11063,
        "name": "Oleg Samarin",
        "username": "osamarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "created_at": "2022-05-06T10:41:52.094Z",
        "cooked": "<p>Hello, all!</p>\n<p>I set  <code>configure proxies=3</code> on my fdb cluster but <code>fdbcli --exec \"status json\" | grep \"prox\"</code> returns that only 1 process has the role <code>proxy</code>.</p>\n<p>There are three fdbserver processes with the class = stateless in the cluster, one of them receives the <code>proxy</code> role. When I stop the machine running this process the other two stateless processes receive the <code>proxy</code> role. When the first machine starts again, these two processes lose the <code>proxy</code> role and the initial process receives it.</p>\n<p>So I cann\u2019t achive running 3 proxy processes at all. There are only 1 or 2 processes with the <code>proxy</code> role.</p>\n<p>How to enforce fdb cluster to run 3 proxy processes?</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 10,
        "updated_at": "2022-05-06T10:41:52.094Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 9,
        "reads": 21,
        "readers_count": 20,
        "score": 49.0,
        "yours": false,
        "topic_id": 2823,
        "topic_slug": "identifying-number-of-proxies",
        "display_username": "Oleg Samarin",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://forums.foundationdb.org/t/cant-scale-proxies/2689/6",
            "internal": true,
            "reflection": true,
            "title": "Can't scale proxies",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 711,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/identifying-number-of-proxies/2823/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      9747,
      9751,
      9759,
      9770,
      9771,
      9772,
      9773,
      9774,
      9775,
      11063
    ]
  },
  "timeline_lookup": [
    [
      1,
      1547
    ],
    [
      2,
      1546
    ],
    [
      3,
      1545
    ],
    [
      4,
      1544
    ],
    [
      10,
      1264
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Identifying number of proxies",
  "id": 2823,
  "title": "Identifying number of proxies",
  "posts_count": 10,
  "created_at": "2021-07-27T22:52:03.135Z",
  "views": 2031,
  "reply_count": 6,
  "like_count": 0,
  "last_posted_at": "2022-05-06T10:41:52.094Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "identifying-number-of-proxies",
  "category_id": 7,
  "word_count": 630,
  "deleted_at": null,
  "user_id": 769,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_2823",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 10,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 4,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Can&rsquo;t scale proxies",
      "id": 2689,
      "title": "Can't scale proxies",
      "slug": "cant-scale-proxies",
      "posts_count": 6,
      "reply_count": 1,
      "highest_post_number": 6,
      "image_url": null,
      "created_at": "2021-05-06T13:46:20.801Z",
      "last_posted_at": "2023-06-06T08:37:30.136Z",
      "bumped": true,
      "bumped_at": "2023-06-06T08:37:30.136Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 812,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 932,
            "username": "dkaz",
            "name": "Deividas Kazlauskas",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/97f17d/{size}.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "FDB 6.2 - proxies processes have 100% CPU usage",
      "id": 3584,
      "title": "FDB 6.2 - proxies processes have 100% CPU usage",
      "slug": "fdb-6-2-proxies-processes-have-100-cpu-usage",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2022-10-10T17:18:33.089Z",
      "last_posted_at": "2022-10-10T21:01:58.532Z",
      "bumped": true,
      "bumped_at": "2022-10-10T21:01:58.532Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 380,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 716,
            "username": "erplus",
            "name": "erplus",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/e/7feea3/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 14,
            "username": "andrew.noyes",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/andrew.noyes/{size}/443_2.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Troubles scaling up the cluster",
      "id": 751,
      "title": "Troubles scaling up the cluster",
      "slug": "troubles-scaling-up-the-cluster",
      "posts_count": 32,
      "reply_count": 26,
      "highest_post_number": 32,
      "image_url": null,
      "created_at": "2018-10-08T03:24:54.004Z",
      "last_posted_at": "2018-11-01T16:26:01.527Z",
      "bumped": true,
      "bumped_at": "2018-11-01T16:26:01.527Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 3747,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 311,
            "username": "ThomasJ",
            "name": "Thomas Johson",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/t/6f9a4e/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 15,
            "username": "markus.pilman",
            "name": "Markus Pilman",
            "avatar_template": "/user_avatar/forums.foundationdb.org/markus.pilman/{size}/379_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 255,
            "username": "aqua",
            "name": "Matt Lohier",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/b9bd4f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Process class and machine sharing deployment questions",
      "id": 1600,
      "title": "Process class and machine sharing deployment questions",
      "slug": "process-class-and-machine-sharing-deployment-questions",
      "posts_count": 16,
      "reply_count": 11,
      "highest_post_number": 16,
      "image_url": null,
      "created_at": "2019-08-28T14:29:20.326Z",
      "last_posted_at": "2019-09-03T19:26:35.853Z",
      "bumped": true,
      "bumped_at": "2019-09-03T19:26:35.853Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 2619,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 642,
            "username": "arob",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9fc29f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Unable to run more than one commit proxy in a small cluster",
      "id": 4025,
      "title": "Unable to run more than one commit proxy in a small cluster",
      "slug": "unable-to-run-more-than-one-commit-proxy-in-a-small-cluster",
      "posts_count": 2,
      "reply_count": 0,
      "highest_post_number": 2,
      "image_url": null,
      "created_at": "2023-06-22T12:00:21.076Z",
      "last_posted_at": "2023-06-26T15:25:16.420Z",
      "bumped": true,
      "bumped_at": "2023-06-27T07:58:55.436Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [
        "performance"
      ],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 389,
      "category_id": 17,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest single",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 711,
            "username": "osamarin",
            "name": "Oleg Samarin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 769,
        "username": "ajames",
        "name": "Alwin",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 12,
        "username": "ajbeamon",
        "name": "A.J. Beamon",
        "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "trust_level": 4
      },
      {
        "id": 711,
        "username": "osamarin",
        "name": "Oleg Samarin",
        "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 785,
        "username": "sfc-gh-xwang",
        "name": "Xiaoxi Wang",
        "avatar_template": "/user_avatar/forums.foundationdb.org/sfc-gh-xwang/{size}/1070_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      }
    ],
    "created_by": {
      "id": 769,
      "username": "ajames",
      "name": "Alwin",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/9de0a6/{size}.png"
    },
    "last_poster": {
      "id": 711,
      "username": "osamarin",
      "name": "Oleg Samarin",
      "avatar_template": "/user_avatar/forums.foundationdb.org/osamarin/{size}/905_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/pull/2653",
        "title": "Status should use the full list of proxies by ajbeamon \u00b7 Pull Request #2653 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 12,
        "domain": "github.com",
        "root_domain": "github.com"
      }
    ]
  },
  "bookmarks": []
}