{
  "post_stream": {
    "posts": [
      {
        "id": 11647,
        "name": "liyyue",
        "username": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "created_at": "2022-09-01T10:49:42.096Z",
        "cooked": "<p>Hi,Experts</p>\n<p>Now I am trying to restore a fdb backup from 6.2.98 into 6.3.24, I got following error message:</p>\n<pre><code class=\"lang-auto\">...\n&lt;Event Severity=\"10\" Time=\"1662014110.218822\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"BackupContainerGetRestoreSet\" ID=\"0000000000000000\" RangeFilter=\" - \\xff\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"10\" Time=\"1662014110.220801\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"AsyncFileOpened\" ID=\"0000000000000000\" SuppressedEventCount=\"0\" Filename=\"/var/backup_volume/backup-2022-09-01-06-02-23.603897/snapshots/snapshot,693800162,693800162,23\" Fd=\"13\" Flags=\"2228225\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1662014110.221161\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"TB_ExecuteFailure\" ID=\"0000000000000000\" Error=\"backup_not_filterable_with_key_ranges\" ErrorDescription=\"Backup before 6.3 cannot be filtered with key ranges\" ErrorCode=\"2320\" TaskUID=\"256497c1e122e1f96d09178ba8f77ae7\" TaskType=\"restore_start\" Priority=\"0\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1662014110.221161\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"FileRestoreError\" ID=\"0000000000000000\" Error=\"backup_not_filterable_with_key_ranges\" ErrorDescription=\"Backup before 6.3 cannot be filtered with key ranges\" ErrorCode=\"2320\" RestoreUID=\"81bf2873a4fe5d15\" Description=\"'Backup before 6.3 cannot be filtered with key ranges' on 'restore_start'\" TaskInstance=\"0\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"10\" Time=\"1662014110.221161\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"AsyncFileClosed\" ID=\"0000000000000000\" SuppressedEventCount=\"0\" Fd=\"13\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"10\" Time=\"1662014110.227570\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"CodeCoverage\" ID=\"0000000000000000\" File=\"/home/foundationdb_ci/src/oOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOoOo/foundationdb/fdbclient/TaskBucket.actor.cpp\" Line=\"222\" Condition=\"true\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"10\" Time=\"1662014110.239629\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"FileRestoreVersionUpgrade\" ID=\"0000000000000000\" RestoreVersion=\"753761706\" Dest=\"753796882\" InconsistentSnapshotOnly=\"0\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"10\" Time=\"1662014110.239629\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"BackupContainerGetRestoreSet\" ID=\"0000000000000000\" RangeFilter=\" - \\xff\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n&lt;Event Severity=\"20\" Time=\"1662014110.241516\" DateTime=\"2022-09-01T06:35:10Z\" Type=\"TB_ExecuteFailure\" ID=\"0000000000000000\" Error=\"backup_not_filterable_with_key_ranges\" ErrorDescription=\"Backup before 6.3 cannot be filtered with key ranges\" ErrorCode=\"2320\" TaskUID=\"256497c1e122e1f96d09178ba8f77ae7\" TaskType=\"restore_start\" Priority=\"0\" ThreadID=\"533899467947030388\" Machine=\"10.254.14.14:7\" LogGroup=\"default\" /&gt;\n...\n</code></pre>\n<p>Is there any suggestion to fix it? Thanks!</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-01T10:49:42.096Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 54,
        "reads": 21,
        "readers_count": 20,
        "score": 274.2,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "liyyue",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1022,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 11674,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2022-09-06T16:10:53.646Z",
        "cooked": "<p>This error</p>\n<aside class=\"quote no-group\" data-username=\"liyyue\" data-post=\"1\" data-topic=\"3530\">\n<div class=\"title\">\n<div class=\"quote-controls\"></div>\n<img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://avatars.discourse-cdn.com/v4/letter/l/54ee81/48.png\" class=\"avatar\"> liyyue:</div>\n<blockquote>\n<p><code>backup_not_filterable_with_key_ranges</code></p>\n</blockquote>\n</aside>\n<p>suggests you used <code>-k</code> or <code>--keys</code> options for restore. Can you try without this flag?</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-06T16:10:53.646Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 1,
        "incoming_link_count": 0,
        "reads": 20,
        "readers_count": 19,
        "score": 4.0,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11686,
        "name": "liyyue",
        "username": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "created_at": "2022-09-07T14:32:47.330Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/jzhou\">@jzhou</a> thanks for your help on this issue! I have tried the -t option, but the problem still exists:<br>\nfdbrestore start --dest_cluster_file /etc/foundationdb/fdb.cluster -w -r file:///data/fdbbak/backup-2022-09-07-07-26-49.129822 -k a (here a is one test key)</p>\n<pre><code class=\"lang-auto\">...\nTag: default  UID: 564836a4ed6519615050bc91c194164f  State: starting  Blocks: 0/0  BlocksInProgress: 0  Files: 0  BytesWritten: 0  CurrentVersion: -1  FirstConsistentVersion: 0  ApplyVersionLag: 0  LastError: ''Backup before 6.3 cannot be filtered with key ranges' on 'restore_start'' 4s ago.\n...\n</code></pre>\n<p>And the -k operation can only support a specific key or key range? If customer has many key ranges, such as 300G data, how can we restore it to a higher version db?</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-07T14:35:08.221Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 19,
        "readers_count": 18,
        "score": 8.8,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "liyyue",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1022,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11687,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2022-09-07T16:27:57.380Z",
        "cooked": "<p>I think restore old versions of backup to newer versions of FDB cluster is something not tested. In your case, it\u2019s probably better to restore the backup to 6.2 cluster, then upgrade the cluster from 6.2 to 6.3.</p>\n<p>Regarding <code>-k</code> option, the option value is a list of key ranges to be restored, each range is separated by a space. See how the option is parsed here: <a href=\"https://github.com/apple/foundationdb/blob/d3d1ff602320061d5e50f8aa648442ec1e779033/fdbbackup/backup.actor.cpp#L2940\" class=\"inline-onebox\">foundationdb/backup.actor.cpp at d3d1ff602320061d5e50f8aa648442ec1e779033 \u00b7 apple/foundationdb \u00b7 GitHub</a>. The documentation <a href=\"https://apple.github.io/foundationdb/backups.html#fdbrestore-command-line-tool\" class=\"inline-onebox\">Backup, Restore, and Replication for Disaster Recovery \u2014 FoundationDB 7.1</a> doesn\u2019t seem to give examples of the exact format for key ranges.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-07T16:27:57.380Z",
        "reply_count": 1,
        "reply_to_post_number": 3,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 19,
        "readers_count": 18,
        "score": 8.8,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/d3d1ff602320061d5e50f8aa648442ec1e779033/fdbbackup/backup.actor.cpp#L2940",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/backup.actor.cpp at d3d1ff602320061d5e50f8aa648442ec1e779033 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 3
          },
          {
            "url": "https://apple.github.io/foundationdb/backups.html#fdbrestore-command-line-tool",
            "internal": false,
            "reflection": false,
            "title": "Backup, Restore, and Replication for Disaster Recovery \u2014 FoundationDB 7.1",
            "clicks": 1
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1022,
          "username": "liyyue",
          "name": "liyyue",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11689,
        "name": "liyyue",
        "username": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "created_at": "2022-09-08T01:27:43.155Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/jzhou\">@jzhou</a> thanks for your suggestion! Now we still encounter some problem when upgrade fdb cluster from 6.2 to 6.3. After upgrade, I encounter the following error message:</p>\n<pre><code class=\"lang-auto\">...\nTime=\"1662460973.975867\" Severity=\"40\" LogGroup=\"mdm-foundationdb-ibm\" Process=\"fdbserver.1\": Warning: FDBD has not joined the cluster after 5 seconds.\n...\n</code></pre>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-08T01:27:54.506Z",
        "reply_count": 1,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 2,
        "reads": 19,
        "readers_count": 18,
        "score": 18.8,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "liyyue",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 454,
          "username": "jzhou",
          "name": "Jingyu Zhou",
          "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1022,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11691,
        "name": "Jingyu Zhou",
        "username": "jzhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "created_at": "2022-09-08T03:41:27.219Z",
        "cooked": "<p>Can you check all <code>fdbserver</code> binaries are upgraded to 6.3? This looks like they are using different versions.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-08T03:41:27.219Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 19,
        "readers_count": 18,
        "score": 3.8,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "Jingyu Zhou",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 1022,
          "username": "liyyue",
          "name": "liyyue",
          "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": true,
        "admin": true,
        "staff": true,
        "user_id": 454,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11699,
        "name": "liyyue",
        "username": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "created_at": "2022-09-09T01:51:19.890Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/jzhou\">@jzhou</a> I have not found any guide to introduce how to upgrade fdb cluster on k8s/ocp environment, so I just tried some way myself <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\" loading=\"lazy\" width=\"20\" height=\"20\">  I just replaced the docker image for the fdb pod from 6.2 to 6.3. Before upgrade I set the skip to true for foundationdbcluster cr and delete all fdb pods, then I changed the cluster yaml file by replacing the image from 6.2 to 6.3, then set skip to false in cluster yaml file and reapply the yaml file, then the cluster rebuilt with 6.3 image. I have checked all fdb pods are running with 6.3 images now. Is there any additional steps need to do? Or you have any formal guide to introduce upgrade fdb on k8s environment? Thanks!</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-09-09T09:32:01.345Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 19,
        "readers_count": 18,
        "score": 3.8,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "liyyue",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1022,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 11836,
        "name": "liyyue",
        "username": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "created_at": "2022-10-12T06:57:16.445Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/jzhou\">@jzhou</a> <a class=\"mention\" href=\"/u/johscheuer\">@johscheuer</a>  I have checked the foundationdb code and found the following code:</p>\n<pre><code class=\"lang-auto\">...\n// Old backup does not have metadata about key ranges and can not be filtered with key ranges.\nif (keyRangesFilter.size() &amp;&amp; results.second.empty() &amp;&amp; !results.first.empty()) {\n\tthrow backup_not_filterable_with_key_ranges();\n}\n...\n</code></pre>\n<p>It seems fdb 6.2 backup does not have metadata about key ranges and can not be filtered with key ranges, right?<br>\nIs there any workaround to restore 6.2 backup into 6.3 database. Any more suggestion? Thanks!</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2022-10-12T06:57:31.828Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 0,
        "reads": 16,
        "readers_count": 15,
        "score": 3.2,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "liyyue",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 1022,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 12495,
        "name": "Steve Atherton",
        "username": "SteavedHams",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "created_at": "2023-02-24T08:58:44.757Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/liyyue\">@liyyue</a> This is the fix for this issue, it will be in 7.3 but it\u2019s a simple fix in case you want to patch an older version.</p>\n<aside class=\"onebox githubpullrequest\" data-onebox-src=\"https://github.com/apple/foundationdb/pull/9467\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/pull/9467\" target=\"_blank\" rel=\"noopener\">github.com/apple/foundationdb</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n\n\n\n    <div class=\"github-icon-container\" title=\"Pull Request\">\n      <svg width=\"60\" height=\"60\" class=\"github-icon\" viewbox=\"0 0 12 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z\"></path></svg>\n    </div>\n\n  <div class=\"github-info-container\">\n\n\n\n      <h4>\n        <a href=\"https://github.com/apple/foundationdb/pull/9467\" target=\"_blank\" rel=\"noopener\">Fix partial restore on backups without keyRanges map</a>\n      </h4>\n\n    <div class=\"branches\">\n      <code>apple:main</code> \u2190 <code>sfc-gh-satherton:restore-without-keyrange-map</code>\n    </div>\n\n      <div class=\"github-info\">\n        <div class=\"date\">\n          opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2023-02-24\" data-time=\"08:45:38\" data-timezone=\"UTC\">08:45AM - 24 Feb 23 UTC</span>\n        </div>\n\n        <div class=\"user\">\n          <a href=\"https://github.com/sfc-gh-satherton\" target=\"_blank\" rel=\"noopener\">\n            <img alt=\"sfc-gh-satherton\" src=\"https://global.discourse-cdn.com/foundationdb/original/2X/6/6474c84d8172825e0e72df5514e2b58fb2ffe8e4.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\">\n            sfc-gh-satherton\n          </a>\n        </div>\n\n        <div class=\"lines\" title=\"1 commits changed 1 files with 3 additions and 7 deletions\">\n          <a href=\"https://github.com/apple/foundationdb/pull/9467/files\" target=\"_blank\" rel=\"noopener\">\n            <span class=\"added\">+3</span>\n            <span class=\"removed\">-7</span>\n          </a>\n        </div>\n      </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">Bug fix:  Partial restore still works if the backup does not have a key range ma<span class=\"show-more-container\"><a href=\"https://github.com/apple/foundationdb/pull/9467\" target=\"_blank\" rel=\"noopener\" class=\"show-more\">\u2026</a></span><span class=\"excerpt hidden\">p, the restore is just less efficient because no range files can be filtered out.\n\n# Code-Reviewer Section\n\nThe general pull request guidelines can be found [here](https://github.com/apple/foundationdb/wiki/FoundationDB-Commit-Process).\n\nPlease check each of the following things and check *all* boxes before accepting a PR.\n\n- [ ] The PR has a description, explaining both the problem and the solution.\n- [ ] The description mentions which forms of testing were done and the testing seems reasonable.\n- [ ] Every function/class/actor that was touched is reasonably well documented.\n\n## For Release-Branches\n\nIf this PR is made against a release-branch, please also check the following:\n\n- [ ] This change/bugfix is a cherry-pick from the next younger branch (younger `release-branch` or `main` if this is the youngest branch)\n- [ ] There is a good reason why this PR needs to go into a release branch and this reason is documented (either in the description above or in a linked GitHub issue)</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 9,
        "updated_at": "2023-02-24T08:58:44.757Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 1,
        "reads": 10,
        "readers_count": 9,
        "score": 7.0,
        "yours": false,
        "topic_id": 3530,
        "topic_slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
        "display_username": "Steve Atherton",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/9467",
            "internal": false,
            "reflection": false,
            "title": "Fix partial restore on backups without keyRanges map by sfc-gh-satherton \u00b7 Pull Request #9467 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 3
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 7,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/can-not-restore-fdb-6-2-98-backup-into-6-3-24/3530/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      11647,
      11674,
      11686,
      11687,
      11689,
      11691,
      11699,
      11836,
      12495
    ]
  },
  "timeline_lookup": [
    [
      1,
      1146
    ],
    [
      2,
      1141
    ],
    [
      3,
      1140
    ],
    [
      7,
      1139
    ],
    [
      8,
      1106
    ],
    [
      9,
      971
    ]
  ],
  "suggested_topics": [],
  "tags": [
    "bindings",
    "performance",
    "operator"
  ],
  "tags_descriptions": {},
  "fancy_title": "Can not restore fdb 6.2.98 backup into 6.3.24",
  "id": 3530,
  "title": "Can not restore fdb 6.2.98 backup into 6.3.24",
  "posts_count": 9,
  "created_at": "2022-09-01T10:49:42.029Z",
  "views": 585,
  "reply_count": 3,
  "like_count": 0,
  "last_posted_at": "2023-02-24T08:58:44.757Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "can-not-restore-fdb-6-2-98-backup-into-6-3-24",
  "category_id": 7,
  "word_count": 958,
  "deleted_at": null,
  "user_id": 1022,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_3530",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 9,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 3,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Unable to restore a 6.0.15 backup to 6.3",
      "id": 3388,
      "title": "Unable to restore a 6.0.15 backup to 6.3",
      "slug": "unable-to-restore-a-6-0-15-backup-to-6-3",
      "posts_count": 7,
      "reply_count": 2,
      "highest_post_number": 7,
      "image_url": null,
      "created_at": "2022-06-21T10:49:12.882Z",
      "last_posted_at": "2022-11-14T09:45:56.024Z",
      "bumped": true,
      "bumped_at": "2022-11-14T09:45:56.024Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 633,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 602,
            "username": "ppggff",
            "name": "ppggff",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ppggff/{size}/855_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 419,
            "username": "doublemax",
            "name": "",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/d/8e7dd6/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 1022,
            "username": "liyyue",
            "name": "liyyue",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 1144,
            "username": "windsteel",
            "name": "Windsteel",
            "avatar_template": "/user_avatar/forums.foundationdb.org/windsteel/{size}/1395_2.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Fdbrestore: Missing backup data",
      "id": 1510,
      "title": "Fdbrestore: Missing backup data",
      "slug": "fdbrestore-missing-backup-data",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-07-07T13:16:16.353Z",
      "last_posted_at": "2019-07-11T00:21:44.351Z",
      "bumped": true,
      "bumped_at": "2019-07-11T00:21:44.351Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 850,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 265,
            "username": "brainfucker",
            "name": "Illarionov Oleg",
            "avatar_template": "/user_avatar/forums.foundationdb.org/brainfucker/{size}/237_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Backups not &ldquo;restorable&rdquo; after 6.3 upgrade",
      "id": 2987,
      "title": "Backups not \"restorable\" after 6.3 upgrade",
      "slug": "backups-not-restorable-after-6-3-upgrade",
      "posts_count": 4,
      "reply_count": 0,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2021-11-03T01:13:18.982Z",
      "last_posted_at": "2022-09-07T08:21:32.787Z",
      "bumped": true,
      "bumped_at": "2022-09-07T08:21:32.787Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 862,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 810,
            "username": "amanda",
            "name": "Amanda",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/a/67e7ee/{size}.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 1022,
            "username": "liyyue",
            "name": "liyyue",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
            "trust_level": 2
          }
        }
      ]
    },
    {
      "fancy_title": "Why FoudationDB can&rsquo;t restore data to a non-empty database",
      "id": 2005,
      "title": "Why FoudationDB can't restore data to a non-empty database",
      "slug": "why-foudationdb-cant-restore-data-to-a-non-empty-database",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2020-03-05T09:15:52.634Z",
      "last_posted_at": "2020-03-09T09:38:15.859Z",
      "bumped": true,
      "bumped_at": "2020-03-09T09:38:15.859Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 0,
      "views": 986,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 739,
            "username": "nguyenduybinh",
            "name": "Nguyen Duy Binh",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/n/5f9b8f/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Restoring a completed backup version results in an error",
      "id": 1845,
      "title": "Restoring a completed backup version results in an error",
      "slug": "restoring-a-completed-backup-version-results-in-an-error",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2019-12-16T14:01:36.113Z",
      "last_posted_at": "2019-12-17T06:37:20.726Z",
      "bumped": true,
      "bumped_at": "2019-12-17T06:37:20.726Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 1,
      "views": 1024,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": "latest",
          "description": "Original Poster, Most Recent Poster",
          "user": {
            "id": 700,
            "username": "viveksinghggits",
            "name": "Vivek Singh",
            "avatar_template": "/user_avatar/forums.foundationdb.org/viveksinghggits/{size}/737_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 7,
            "username": "SteavedHams",
            "name": "Steve Atherton",
            "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
            "trust_level": 4
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 1022,
        "username": "liyyue",
        "name": "liyyue",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png",
        "post_count": 5,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 454,
        "username": "jzhou",
        "name": "Jingyu Zhou",
        "avatar_template": "/user_avatar/forums.foundationdb.org/jzhou/{size}/445_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "admin": true,
        "moderator": true,
        "trust_level": 2
      },
      {
        "id": 7,
        "username": "SteavedHams",
        "name": "Steve Atherton",
        "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      }
    ],
    "created_by": {
      "id": 1022,
      "username": "liyyue",
      "name": "liyyue",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/l/54ee81/{size}.png"
    },
    "last_poster": {
      "id": 7,
      "username": "SteavedHams",
      "name": "Steve Atherton",
      "avatar_template": "/user_avatar/forums.foundationdb.org/steavedhams/{size}/18_2.png"
    },
    "links": [
      {
        "url": "https://github.com/apple/foundationdb/blob/d3d1ff602320061d5e50f8aa648442ec1e779033/fdbbackup/backup.actor.cpp#L2940",
        "title": "foundationdb/backup.actor.cpp at d3d1ff602320061d5e50f8aa648442ec1e779033 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 454,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/9467",
        "title": "Fix partial restore on backups without keyRanges map by sfc-gh-satherton \u00b7 Pull Request #9467 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 7,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://apple.github.io/foundationdb/backups.html#fdbrestore-command-line-tool",
        "title": "Backup, Restore, and Replication for Disaster Recovery \u2014 FoundationDB 7.1",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 454,
        "domain": "apple.github.io",
        "root_domain": "apple.github.io"
      }
    ]
  },
  "bookmarks": []
}