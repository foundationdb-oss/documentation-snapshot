{
  "post_stream": {
    "posts": [
      {
        "id": 620,
        "name": "",
        "username": "hiroshi",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
        "created_at": "2018-04-26T09:05:55.326Z",
        "cooked": "<p>EDIT: My up to date Dockerfile and use of docker are here <a href=\"https://github.com/hiroshi/foundationdb-docker\" rel=\"nofollow noopener\">https://github.com/hiroshi/foundationdb-docker</a></p>\n<hr>\n<p>I\u2019m trying to create a simple docker image with following Dockerfile:</p>\n<pre><code>FROM ubuntu:16.04\nRUN apt-get update &amp;&amp; apt-get install -y curl python\nWORKDIR /root\nRUN curl -sO https://www.foundationdb.org/downloads/5.1.5/ubuntu/installers/foundationdb-clients_5.1.5-1_amd64.deb\nRUN curl -sO https://www.foundationdb.org/downloads/5.1.5/ubuntu/installers/foundationdb-server_5.1.5-1_amd64.deb\nRUN dpkg -i foundationdb-clients_5.1.5-1_amd64.deb foundationdb-server_5.1.5-1_amd64.deb\n</code></pre>\n<p><code>$ docker build . -t fdb</code></p>\n<p>I can start the server after running the image with bash</p>\n<pre><code>$ docker run --rm -ti fdb bash\nroot@d674e8f5297e:~# /usr/lib/foundationdb/fdbmonitor\nTime=\"1524732521.244386\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Started FoundationDB Process Monitor 5.1 (v5.1.5)\nTime=\"1524732521.250752\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Watching conf file /etc/foundationdb/foundationdb.conf\nTime=\"1524732521.250884\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Watching conf dir /etc/foundationdb (2)\nTime=\"1524732521.250993\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Loading configuration /etc/foundationdb/foundationdb.conf\nTime=\"1524732521.252791\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Starting backup_agent.1\nTime=\"1524732521.253656\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Starting fdbserver.4500\nTime=\"1524732521.255500\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbserver.4500\": Launching /usr/sbin/fdbserver (12) for fdbserver.4500\nTime=\"1524732521.258697\" Severity=\"10\" LogGroup=\"default\" Process=\"backup_agent.1\": Launching /usr/lib/foundationdb/backup_agent/backup_agent (11) for backup_agent.1\nTime=\"1524732521.456013\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbserver.4500\": FDBD joined cluster.\n</code></pre>\n<p>, but failed to start directly running fdbmonitor</p>\n<pre><code>$ docker run --rm -t fdb /usr/lib/foundationdb/fdbmonitor    \nTime=\"1524733204.457982\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Started FoundationDB Process Monitor 5.1 (v5.1.5)\nTime=\"1524733204.467214\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Watching conf file /etc/foundationdb/foundationdb.conf\nTime=\"1524733204.469169\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Watching conf dir /etc/foundationdb (2)\nTime=\"1524733204.475943\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Loading configuration /etc/foundationdb/foundationdb.conf\nTime=\"1524733204.482494\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Starting backup_agent.1\nTime=\"1524733204.484942\" Severity=\"10\" LogGroup=\"default\" Process=\"fdbmonitor\": Starting fdbserver.4500\nTime=\"1524733204.488199\" Severity=\"20\" LogGroup=\"default\" Process=\"backup_agent.1\": Process 5 exited 0, restarting in 0 seconds\nTime=\"1524733204.491412\" Severity=\"20\" LogGroup=\"default\" Process=\"fdbserver.4500\": Process 6 exited 0, restarting in 0 seconds\nTime=\"1524733204.493386\" Severity=\"20\" LogGroup=\"default\" Process=\"backup_agent.1\": Process 7 exited 0, restarting in 63 seconds\nTime=\"1524733204.494910\" Severity=\"20\" LogGroup=\"default\" Process=\"fdbserver.4500\": Process 8 exited 0, restarting in 66 seconds\n...\n</code></pre>\n<p>Any idea?</p>",
        "post_number": 1,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-12T13:07:38.391Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 3403,
        "reads": 178,
        "readers_count": 177,
        "score": 17065.6,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/hiroshi/foundationdb-docker",
            "internal": false,
            "reflection": false,
            "title": "GitHub - hiroshi/foundationdb-docker: A docker file for running FoundationDB server and client",
            "clicks": 224
          },
          {
            "url": "https://forums.foundationdb.org/t/resolved-fdbbackup-platform-error-on-file-backup-write-range/412",
            "internal": true,
            "reflection": true,
            "title": "[RESOLVED?] Fdbbackup 'Platform error' on 'file_backup_write_range'",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 187,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/1",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null,
        "can_vote": false
      },
      {
        "id": 632,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-04-26T19:49:11.812Z",
        "cooked": "<p>I love questions with reproducible steps!</p>\n<p>You need to run <code>docker run --init --rm -t fdb /usr/lib/foundationdb/fdbmonitor</code></p>\n<p>I think what\u2019s going on here is that without <code>--init</code>, PID 1 is fdbmonitor, which means all processes get reparented to it, and all zombies have a SIGCHLD sent to fdbmonitor.  Not digging into the strace log too much, it looks like something about unexpected SIGCHLDs are causing fdbmonitor to think fdbserver is dead, and looping on trying to restart one that will live.</p>",
        "post_number": 2,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-04-26T19:51:38.056Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 56,
        "reads": 156,
        "readers_count": 155,
        "score": 363.2,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 3
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/2",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 644,
        "name": "",
        "username": "hiroshi",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
        "created_at": "2018-04-26T23:37:18.215Z",
        "cooked": "<p>Ah, the <code>--init</code> option did the trick! Thanks!</p>",
        "post_number": 3,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-04-26T23:37:18.215Z",
        "reply_count": 0,
        "reply_to_post_number": 2,
        "quote_count": 0,
        "incoming_link_count": 24,
        "reads": 162,
        "readers_count": 161,
        "score": 152.4,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 187,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/3",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 731,
        "name": "",
        "username": "hiroshi",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
        "created_at": "2018-04-30T12:44:32.372Z",
        "cooked": "<p>I\u2019v been struggling to access an foundationdb server container from other containers. I put my efforts in <a href=\"https://github.com/hiroshi/foundationdb-docker\" rel=\"nofollow noopener\">https://github.com/hiroshi/foundationdb-docker</a>. I hope it will be a help for someone who struggle with same kind of problem and welcome comments.</p>",
        "post_number": 4,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-04-30T12:44:32.372Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 6,
        "reads": 151,
        "readers_count": 150,
        "score": 82.2,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/hiroshi/foundationdb-docker",
            "internal": false,
            "reflection": false,
            "title": "GitHub - hiroshi/foundationdb-docker: A docker file for running FoundationDB server and client",
            "clicks": 214
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 187,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/4",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1049,
        "name": "Alex Miller",
        "username": "alexmiller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "created_at": "2018-05-12T00:24:10.745Z",
        "cooked": "<p>We\u2019ve been having some discussions about this thread and your other one showing struggles with using a docker image built with the Debian packages.  Again, I really appreciate the reproducible examples, and thanks for struggling through all this.</p>\n<p>For this particular case, what\u2019s happening is that the Debian package installation immediately starts FoundationDB, which then creates and initializes a data directory.  This was a seemingly reasonable thing to do, as then we can run <code>configure new single memory</code>, so that a database can be actually created and initialized.  However, for installing in docker, this is particularly unhelpful, as it both creates files you don\u2019t want (an empty database), and files that actively harm you (the process id file).</p>\n<p>I think that if you add a<br>\n<code>RUN rm -r /var/lib/foundationdb/data/*</code><br>\nto the end of your Dockerfile, and this would <strong>need</strong> to be in its own RUN line, you\u2019ll see less problems.  It\u2019ll become an install of foundationdb that\u2019s a lot more like what you expect, and it\u2019ll be one that won\u2019t actively resist having multiple instances of it started as a docker image.</p>\n<p>This then raises the question of what we should do about the server Debian (and rpm) package going forward, since anyone else trying to install FDB in a container in a reasonable way is probably also going to hit these issues.  I don\u2019t have immediate thoughts as to what the right balance here is, but it\u2019s probably something we should take a look at trying to resolve.  What you\u2019ve done is the clearly obvious way of writing a Dockerfile that wraps FoundationDB, and it seems rather sad to me that it doesn\u2019t work in non-obvious ways.</p>",
        "post_number": 5,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-12T00:24:10.745Z",
        "reply_count": 2,
        "reply_to_post_number": 4,
        "quote_count": 0,
        "incoming_link_count": 54,
        "reads": 146,
        "readers_count": 145,
        "score": 334.2,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Alex Miller",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 187,
          "username": "hiroshi",
          "name": "",
          "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 2
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 13,
        "hidden": false,
        "trust_level": 4,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/5",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1051,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-12T03:26:13.259Z",
        "cooked": "<p>Thank you <a class=\"mention\" href=\"/u/hiroshi\">@hiroshi</a> and <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a>. I got my install working quickly today on Ubuntu 16.04 in a Docker container using both of your tips.</p>",
        "post_number": 6,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-12T03:26:13.259Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 133,
        "readers_count": 132,
        "score": 66.6,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/6",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1052,
        "name": "",
        "username": "hiroshi",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
        "created_at": "2018-05-12T03:38:51.677Z",
        "cooked": "<p>Thanks.<br>\nI\u2019ll add <code>RUN rm -r /var/lib/foundationdb/data/*</code> to my Dockerfile.</p>\n<p>As for debian package and Dockerfile,<br>\nI also read <a href=\"https://github.com/apple/foundationdb/issues/300#issuecomment-388516369\" rel=\"nofollow noopener\">https://github.com/apple/foundationdb/issues/300#issuecomment-388516369</a>.</p>\n<p>Still I\u2019m new to FondationDB as you see, I don\u2019t know how debian package or docker image should behave yet.<br>\nHowever, I\u2019ll ask here for help with reproducable steps <img src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"> if another problem arise, and share what works.</p>\n<p>One thing I noticed on my struggle, there is no error log to be seen when two fdbserver processes use copies of a same data directory. It will be usefull if stdout of fdbmonitor say \u201cAnother process already ueses same processid file\u201d or alike. So we can be able to google the message\u2026</p>\n<p>Anyway thanks for your help.</p>",
        "post_number": 7,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-12T03:38:51.677Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 14,
        "reads": 137,
        "readers_count": 136,
        "score": 97.4,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/issues/300#issuecomment-388516369",
            "internal": false,
            "reflection": false,
            "title": "Create an official foundationDB image on DockerHub \u00b7 Issue #300 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 25
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 187,
        "hidden": false,
        "trust_level": 1,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/7",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1058,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-12T09:07:23.676Z",
        "cooked": "<p>I read <a href=\"https://github.com/apple/foundationdb/issues/300#issuecomment-388516369\" rel=\"noopener nofollow ugc\">your issue comment</a> and thought that I would share my perspective of running this in Docker. Hopefully someone else can add to this with a perspective of using <code>docker-compose</code> or other orchestration tools.</p>\n<p>My thoughts below assume that fdbmonitor will not be auto-started at some point in future releases when the packages are installed onto the host system for setup because of its current behavior that leads to the necessity of a hack for container support.</p>\n<blockquote>\n<p>Is it more sensible to run fdbmonitor, or to run fdbserver directly and allow the container to die if fdbserver crashes or dies?</p>\n</blockquote>\n<p>I think that fdbmonitor should be the binary that is started by the <code>ENTRYPOINT</code> instruction in a Dockerfile.</p>\n<p>The main reason is that it reduces variability among supported setups. The binary only uses a few hundred KB of resident memory, though sets up user and group privilege separation, auto-reloads the config file (<a href=\"https://github.com/moby/moby/issues/18246#issuecomment-298783508\" rel=\"noopener nofollow ugc\">though this is only fully supported on Linux</a>), and emits useful log messages related to configuration.</p>\n<blockquote>\n<p>How should shared cluster files be handled and propagated?</p>\n</blockquote>\n<p>When obtaining the default cluster file from a package installed on the host, the file is owned by the <code>foundationdb</code> user and group, however, Docker users and groups often do not match the system users and groups, and only share UIDs and GIDs.</p>\n<p>For example, using the above Dockerfile on an Ubuntu 16.04 host, by default they happened to map to the <code>_apt</code> user and <code>input</code> group. This means that the file\u2019s default location of <code>/etc/foundationdb</code> is not writable, <a href=\"https://apple.github.io/foundationdb/administration.html#required-permissions\" rel=\"noopener nofollow ugc\">which is required</a>. This suggests that users should be instructed to copy this file to where the container can access it.</p>\n<p>In my opinion, I think that a <code>docker</code> directory should be placed somewhere in the repo, along with a script that does the equivalent of the <a href=\"https://github.com/apple/foundationdb/blob/release-5.1/packaging/deb/DEBIAN-foundationdb-server/postinst\" rel=\"noopener nofollow ugc\">Debian postinst</a> script, as far as creating the initial <code>fdb.cluster</code> file, possibly combined with the <a href=\"https://github.com/apple/foundationdb/blob/release-5.1/packaging/make_public.py\" rel=\"noopener nofollow ugc\">make_public.py</a> script, except without it auto-restarting the fdbmonitor process without checking if it\u2019s running.</p>\n<p>Having both the default <code>foundationdb.conf</code> and a script to create <code>fdb.cluster</code> and configure one or more coordinator addresses in it for would make this a bit more intuitive. A custom <code>foundationdb.conf</code> can be overlaid using bind mounts or another mutable type of storage.</p>\n<p>I mainly suggest adding the <code>make_public.py</code> script because the documentation warns of potential data loss from malformed cluster files. I just took note of the syntax and edited mine manually.</p>\n<p>There are many ways that containers can have persistent read and write access to files, and while I use <a href=\"https://docs.docker.com/storage/bind-mounts/\" rel=\"noopener nofollow ugc\">bind mounts</a>, this is not a solution for everyone.</p>\n<p>Users of orchestration systems, like Kubernetes, will want to use something that is both mutable and available over a network, like <a href=\"https://www.gluster.org/\" rel=\"noopener nofollow ugc\">GlusterFS</a>, as some setups may not have access to local storage.</p>\n<p>My point here is that thoughtful documentation about this should be fairly generic and possibly mention both the more common bind mounts method, and something more scalable, like GlusterFS.</p>\n<p>Along with that, some users, myself included, use <code>docker-proxy</code> for network routing between containers that share the same private network, without binding certain container services to a port on an egress interface.</p>\n<p>This is where suggesting the use of <a href=\"https://github.com/apple/foundationdb/blob/release-5.1/packaging/make_public.py\" rel=\"noopener nofollow ugc\">make_public.py</a> with a fixed IP makes sense for setting up the <code>fdb.cluster</code> file, though this is where the opinion of someone who uses more automation tools would be helpful, similar to the use of GlusterFS above, as this probably won\u2019t be helpful to them.</p>\n<p>With that said, the <code>make_public.py</code> script currently restarts the server without checking if the process is running. In my opinion, it should not trigger a restart unless the fdbmonitor process is already running. It does already have an argument for a path to a custom <code>fdb.cluster</code> file, which could be mentioned along with copying the file to an accessible location.</p>\n<p>In the future, perhaps somehow allowing for hostname resolution in the <code>fdb.cluster</code> file would be helpful.</p>\n<p>I do not have an opinion on the best way that this would be implemented, though I suggest it because that is the way I regularly reference my container services over their private networks that are controlled by <code>docker-proxy</code>. <a href=\"https://github.com/apple/foundationdb/issues/354\" rel=\"noopener nofollow ugc\">This issue posted two days ago</a> refers to this functionality.</p>\n<p>That was a lot, so putting it all together along with the notes that were already here:</p>\n<p>Here is an example Dockerfile, nearly identical to the one posted by <a class=\"mention\" href=\"/u/hiroshi\">@hiroshi</a>, except with variables that can be configured using shell arguments and that are made available within the container. Hopefully the <code>RUN rm ...</code> instruction can be removed soon in a later version:</p>\n<pre><code class=\"lang-auto\">FROM ubuntu:16.04\nRUN apt-get update &amp;&amp; apt-get install -y curl python\n\nARG FDB_VERSION=5.1.7\nENV FDB_VERSION=${FDB_VERSION}\n\nARG DEB_REVISION=1\nENV DEB_REVISION=${DEB_REVISION}\n\nRUN curl -sO https://www.foundationdb.org/downloads/${FDB_VERSION}/ubuntu/installers/foundationdb-clients_${FDB_VERSION}-${DEB_REVISION}_amd64.deb\nRUN curl -sO https://www.foundationdb.org/downloads/${FDB_VERSION}/ubuntu/installers/foundationdb-server_${FDB_VERSION}-${DEB_REVISION}_amd64.deb\nRUN dpkg -i foundationdb-clients_${FDB_VERSION}-${DEB_REVISION}_amd64.deb foundationdb-server_${FDB_VERSION}-${DEB_REVISION}_amd64.deb\n\nRUN rm -r /var/lib/foundationdb/data/*\n\nENTRYPOINT /usr/lib/foundationdb/fdbmonitor\n</code></pre>\n<p>The image can be built with this command:</p>\n<pre><code class=\"lang-auto\">docker build -t foundationdb:5.1.7 ./foundationdb-docker/\n</code></pre>\n<p>This is the step where <code>fdb.cluster</code> should be configured with one or more coordinator IPs, possibly using a script, and where <code>foundationdb.conf</code> would be customized if needed.</p>\n<p>I don\u2019t use <code>docker-compose</code> or Swarm, and hopefully more users will help out here eventually. The container can be created and started using this command:</p>\n<pre><code class=\"lang-auto\">docker run --init -td \\\n  -v ${DOCKER_VOL}/foundationdb/etc:/etc/foundationdb \\\n  -v ${DOCKER_VOL}/foundationdb/lib:/var/lib/foundationdb \\\n  -v ${DOCKER_VOL}/foundationdb/log:/var/log/foundationdb \\\n  -v ${DOCKER_VOL}/foundationdb/plugins:/usr/lib/foundationdb/plugins \\\n  -p 4500:4500 \\\n  --net foundationdb \\\n  --ip 172.19.0.10 \\\n  --restart=unless-stopped \\\n  --name foundationdb \\\n  foundationdb:5.1.7\n</code></pre>\n<p>From the host, or a container, as long as the <code>foundationdb-clients</code> package has been installed, the <code>fdb.cluster</code> file is accessible, and the IP is reachable, the database must now be reconfigured as noted by <a class=\"mention\" href=\"/u/alexmiller\">@alexmiller</a>:</p>\n<pre><code class=\"lang-auto\">fdbcli -C ${DOCKER_VOL}/foundationdb/etc/fdb.cluster --exec configure new single memory\n</code></pre>\n<p>According to my opinions listed above, the <code>foundationdb-docker/</code> directory or equivalent would contain something similar to this layout:</p>\n<ul>\n<li><code>make_clusterfile.py</code></li>\n<li><code>make_public.py</code> (or a combination of both scripts)</li>\n<li><code>foundationdb.conf</code></li>\n<li><code>Dockerfile</code></li>\n</ul>\n<p>Hopefully this will kick off a larger discussion of what can be improved from here and how to tackle the other important problems.</p>",
        "post_number": 8,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-13T22:40:48.283Z",
        "reply_count": 0,
        "reply_to_post_number": 5,
        "quote_count": 0,
        "incoming_link_count": 84,
        "reads": 135,
        "readers_count": 134,
        "score": 449.0,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 4,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/blob/release-5.1/packaging/make_public.py",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/make_public.py at release-5.1 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 14
          },
          {
            "url": "https://github.com/apple/foundationdb/issues/300#issuecomment-388516369",
            "internal": false,
            "reflection": false,
            "title": "Create an official foundationDB image on DockerHub \u00b7 Issue #300 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 6
          },
          {
            "url": "https://github.com/apple/foundationdb/blob/release-5.1/packaging/deb/DEBIAN-foundationdb-server/postinst",
            "internal": false,
            "reflection": false,
            "title": "foundationdb/postinst at release-5.1 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 4
          },
          {
            "url": "https://github.com/apple/foundationdb/issues/354",
            "internal": false,
            "reflection": false,
            "title": "No HOST support in fdb.cluster \u00b7 Issue #354 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 3
          },
          {
            "url": "https://www.gluster.org/",
            "internal": false,
            "reflection": false,
            "clicks": 3
          },
          {
            "url": "https://github.com/moby/moby/issues/18246#issuecomment-298783508",
            "internal": false,
            "reflection": false,
            "clicks": 2
          },
          {
            "url": "https://docs.docker.com/storage/bind-mounts/",
            "internal": false,
            "reflection": false,
            "title": "Use bind mounts | Docker Documentation",
            "clicks": 1
          },
          {
            "url": "https://apple.github.io/foundationdb/administration.html#required-permissions",
            "internal": false,
            "reflection": false,
            "title": "Administration \u2014 FoundationDB 5.1",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 13,
          "username": "alexmiller",
          "name": "Alex Miller",
          "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/8",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1059,
        "name": "Chr1st0ph",
        "username": "Chr1st0ph",
        "avatar_template": "/user_avatar/forums.foundationdb.org/chr1st0ph/{size}/353_2.png",
        "created_at": "2018-05-12T09:44:03.050Z",
        "cooked": "<p><a class=\"mention\" href=\"/u/umpc\">@umpc</a> I share your thoughts, and created some topics today:</p>\n<aside class=\"quote\" data-post=\"1\" data-topic=\"402\">\n  <div class=\"title\">\n    <div class=\"quote-controls\"></div>\n    <img loading=\"lazy\" alt=\"\" width=\"24\" height=\"24\" src=\"https://sea1.discourse-cdn.com/foundationdb/user_avatar/forums.foundationdb.org/chr1st0ph/48/353_2.png\" class=\"avatar\">\n    <a href=\"https://forums.foundationdb.org/t/feature-request-hostnames-for-coordinators/402\">Feature request: hostnames for coordinators</a> <a class=\"badge-category__wrapper \" href=\"/c/development/fdb-core/8\"><span data-category-id=\"8\" data-parent-category-id=\"5\" data-drop-close=\"true\" class=\"badge-category --has-parent\" title=\"For discussing the internals and development of the FoundationDB core.\"><span class=\"badge-category__name\">FoundationDB Core</span></span></a>\n  </div>\n  <blockquote>\n    Hi, \nare there any plans to additionally support hostnames for coordinator configuration ? \nImho this would make setup ( e.g. for Kubernetes ) easier. \nWhat are your thoughts?\n  </blockquote>\n</aside>\n<aside class=\"onebox githubissue\" data-onebox-src=\"https://github.com/apple/foundationdb/issues/382\">\n  <header class=\"source\">\n\n      <a href=\"https://github.com/apple/foundationdb/issues/382\" target=\"_blank\" rel=\"noopener nofollow ugc\">github.com/apple/foundationdb</a>\n  </header>\n\n  <article class=\"onebox-body\">\n    <div class=\"github-row\">\n  <div class=\"github-icon-container\" title=\"Issue\">\n\t  <svg width=\"60\" height=\"60\" class=\"github-icon\" viewBox=\"0 0 14 16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z\"></path></svg>\n  </div>\n\n  <div class=\"github-info-container\">\n    <h4>\n      <a href=\"https://github.com/apple/foundationdb/issues/382\" target=\"_blank\" rel=\"noopener nofollow ugc\">Improvement request: make \"127.0.0.1 detault server setup\" optional for installation</a>\n    </h4>\n\n    <div class=\"github-info\">\n      <div class=\"date\">\n        opened <span class=\"discourse-local-date\" data-format=\"ll\" data-date=\"2018-05-12\" data-time=\"07:42:25\" data-timezone=\"UTC\">07:42AM - 12 May 18 UTC</span>\n      </div>\n\n\n      <div class=\"user\">\n        <a href=\"https://github.com/Chr1st0ph\" target=\"_blank\" rel=\"noopener nofollow ugc\">\n          <img alt=\"Chr1st0ph\" src=\"https://global.discourse-cdn.com/foundationdb/original/2X/6/61012e14e66f0076682a54a977172aa81f7f984b.png\" class=\"onebox-avatar-inline\" width=\"20\" height=\"20\" data-dominant-color=\"CDECE5\">\n          Chr1st0ph\n        </a>\n      </div>\n    </div>\n\n    <div class=\"labels\">\n    </div>\n  </div>\n</div>\n\n  <div class=\"github-row\">\n    <p class=\"github-body-container\">Hi,\n\nsome guys ( including myself ) wrote Dockerfiles for FoundationDB:\n\nhtt<span class=\"show-more-container\"><a href=\"\" rel=\"noopener\" class=\"show-more\">\u2026</a></span><span class=\"excerpt hidden\">ps://forums.foundationdb.org/t/simple-dockerfile/280/5\nhttps://forums.foundationdb.org/t/how-are-contributing-workers-computed/360\nhttps://forums.foundationdb.org/t/foundationdb-kubernetes-having-issues/383/4\n\nThe solution is to delete the data files which were created during setup by the \"127.0.0.1 server process\".\n\nI would love to see a possibility to make the \"detault-server-setup\" optional ( e.g. by setting an environment variable before running the package install ).\n\nWhat are your thoughts ?</span></p>\n  </div>\n\n  </article>\n\n  <div class=\"onebox-metadata\">\n    \n    \n  </div>\n\n  <div style=\"clear: both\"></div>\n</aside>\n\n<p>My \u201cthoughts\u201d on the topic:<br>\n<a href=\"https://github.com/Chr1st0ph/foundationdb-docker\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - Chr1st0ph/foundationdb-docker: Docker image sources for https://hub.docker.com/r/chr1st0ph/foundationdb/</a> ( contains a script for creating initial coordinator setup )<br>\n<a href=\"https://github.com/Chr1st0ph/foundationdb-kubernetes\" class=\"inline-onebox\" rel=\"noopener nofollow ugc\">GitHub - Chr1st0ph/foundationdb-kubernetes: FoundationDB running on Kubernetes</a> ( usage of the Dockerfile )</p>",
        "post_number": 9,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-12T09:44:03.050Z",
        "reply_count": 0,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 14,
        "reads": 113,
        "readers_count": 112,
        "score": 92.6,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Chr1st0ph",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/Chr1st0ph/foundationdb-docker",
            "internal": false,
            "reflection": false,
            "title": "GitHub - Chr1st0ph/foundationdb-docker: Docker image sources for https://hub.docker.com/r/chr1st0ph/foundationdb/",
            "clicks": 22
          },
          {
            "url": "https://github.com/Chr1st0ph/foundationdb-kubernetes",
            "internal": false,
            "reflection": false,
            "title": "GitHub - Chr1st0ph/foundationdb-kubernetes: FoundationDB running on Kubernetes",
            "clicks": 19
          },
          {
            "url": "https://github.com/apple/foundationdb/issues/382",
            "internal": false,
            "reflection": false,
            "title": "Improvement request: make \"127.0.0.1 detault server setup\" optional for installation \u00b7 Issue #382 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 9
          },
          {
            "url": "https://forums.foundationdb.org/t/feature-request-hostnames-for-coordinators/402",
            "internal": true,
            "reflection": false,
            "title": "Feature request: hostnames for coordinators",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": null,
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 247,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/9",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1079,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-14T08:45:49.952Z",
        "cooked": "<p>Continuing the <a href=\"https://github.com/apple/foundationdb/pull/355#issuecomment-388702720\" rel=\"noopener nofollow ugc\">discussion from the GitHub PR</a>, <a class=\"mention\" href=\"/u/bjrnio\">@bjrnio</a>:</p>\n<p>I like that you have made a basic example for <code>docker-compose</code> that others can build upon. I know it was just an off-hand example, so I mention in case someone makes something with it that they will want to use a version string instead of <code>latest</code>, so that the version is never changed accidentally.</p>\n<blockquote>\n<p>We agree in that we could fix this issue with workarounds like stopping the service, <a href=\"https://askubuntu.com/questions/74061/install-packages-without-starting-background-processes-and-services?answertab=votes#tab-top\" rel=\"noopener nofollow ugc\">this</a> or temporarily changing the runlevel, \u2026</p>\n</blockquote>\n<p>The Dockerfile in my post is a working example as of 5.1.7 meant for people searching until there is a consensus on all of the changes. I didn\u2019t mean to imply its workaround as a choice for a permanent solution.</p>\n<p>The best solution so far would be changing the docs, with supporting text, to instruct Ubuntu users installing through <code>apt</code> to run <code>sudo systemctl enable foundationdb</code>, <code>sudo systemctl start foundationdb</code>, and <code>fdbcli --exec \"configure new single memory\"</code>. In the same future PR, the <code>foundationdb-server</code> <code>postinst</code> script would be changed to only write an <code>fdb.cluster</code> file. Whether or not to keep enabling auto-start when the package is installed matters less, though my opinion is the same as yours, to not assume and leave it disabled until the user chooses to enable it.</p>\n<blockquote>\n<p>Regarding cluster files (and <code>foundationdb.conf</code> files, too) , my way would be: leave defaults at build and set permissions properly at startup so that users can mount a volume.</p>\n</blockquote>\n<p>I am inclined to agree after some reading and think that instead of including scripts in a <code>docker</code> directory, that a doc page and a readme could be written to suggest using <code>docker cp</code> to access the initial files from <code>/etc/foundationdb</code> in the image, with a reference to <code>make_public.py</code>, which can be obtained from the repo in case someone is concerned over a syntax issue potentially causing data corruption.</p>\n<p><a href=\"https://github.com/apple/foundationdb/pull/88\" rel=\"noopener nofollow ugc\">One of the older open PRs</a> questions whether <code>make_public.py</code> is even needed. I did not need it and perhaps anyone who is going to plan and manage a database should already know to read the docs and heed any warnings. I don\u2019t know any facts related to that, so I don\u2019t have an opinion.</p>\n<blockquote>\n<p>What you mention about name resolution to <code>fdb.cluster</code> files is something I was pretty disappointed with FDB, and I expect it to be implemented in the future.</p>\n</blockquote>\n<p>Early yesterday, <a class=\"mention\" href=\"/u/wwilson\">@wwilson</a> made a good point <a href=\"https://forums.foundationdb.org/t/feature-request-hostnames-for-coordinators/402/2\">here</a>, essentially saying that in some setups, hostname resolution could become an unexpected single point of failure.</p>\n<p>I would still like to see the feature implemented and think that a warning in the docs should be sufficient, though I would understand if it\u2019s later decided against.</p>\n<blockquote>\n<p>Also, I\u2019m discussing Ubuntu here only, I think we should set down first on what we want from a Docker image, regardless of the underlaying OS, and then port it to Debian, CentOS, and if possible, Alpine.</p>\n</blockquote>\n<p>I don\u2019t have an opinion here as having a Docker image solves compatibility on Linux in general.</p>\n<p>While I am typing, looking at your PR:</p>\n<ul>\n<li>\n<p>Would you be open to adding version and Debian package revision strings as <code>ARG</code> variables, like in my example?</p>\n</li>\n<li>\n<p>Do you have a reason for using <code>latest</code>, or would you consider switching to use a specific version string?</p>\n</li>\n<li>\n<p>The current <code>sed</code> usage depends on the example config file\u2019s <code>listen_address</code> directive to be placed on line 25. If it is moved in a later commit, the new contents of line 25 will be replaced with the custom directive.</p>\n<ul>\n<li>How about something like: <code>sed -i \"s/^listen_address.*/listen_address = ${LISTEN_ADDR}/\" /etc/foundationdb/foundationdb.conf</code>, so that any changes can be made to the file, and using <code>ARG LISTEN_ADDR=0.0.0.0</code> rather than <code>ARG LISTEN_ADDR \"\"</code> and <code>${LISTEN_ADDR:-0.0.0.0}</code> which is completely correct though appears to the uninitiated (me, a few minutes ago) to prepend a dash.</li>\n</ul>\n</li>\n</ul>\n<p>Thanks for your work and constructive discussion so far!</p>",
        "post_number": 10,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-14T08:45:49.952Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 47,
        "reads": 110,
        "readers_count": 109,
        "score": 262.0,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/355#issuecomment-388702720",
            "internal": false,
            "reflection": false,
            "clicks": 11
          },
          {
            "url": "https://forums.foundationdb.org/t/feature-request-hostnames-for-coordinators/402/2",
            "internal": true,
            "reflection": false,
            "title": "Feature request: hostnames for coordinators",
            "clicks": 5
          },
          {
            "url": "https://github.com/apple/foundationdb/pull/88",
            "internal": false,
            "reflection": false,
            "title": "Remove make_public.py and references to it by alecgrieser \u00b7 Pull Request #88 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 0
          },
          {
            "url": "https://askubuntu.com/questions/74061/install-packages-without-starting-background-processes-and-services?answertab=votes#tab-top",
            "internal": false,
            "reflection": false,
            "title": "apt - Install packages without starting background processes and services - Ask Ubuntu",
            "clicks": 0
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/10",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1082,
        "name": "Ricard Bejarano",
        "username": "bjrnio",
        "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png",
        "created_at": "2018-05-14T10:24:48.640Z",
        "cooked": "<blockquote>\n<p>Would you be open to adding version and Debian package revision strings as ARG variables, like in my example?</p>\n</blockquote>\n<p>Yes, sure! I\u2019ll commit those changes, but let me know, is there a specific reason to use 2 variables? What are the advantages of using \u201c5.1.7\u201d + \u201c1\u201d over \u201c5.1.7-1\u201d? I don\u2019t have an opinion so I\u2019ll do whatever you think it\u2019s best, but if I had to choose I\u2019d go with one.</p>\n<blockquote>\n<p>Do you have a reason for using latest, or would you consider switching to use a specific version string?</p>\n</blockquote>\n<p>No, but I\u2019d leave the choice to the developer. If you want a specific version of FDB, go ahead, or else just leave it as <code>latest</code> and Docker will pull the latest stable image (today, that would be <code>5.1.7</code>).<br>\nOnce you jump into production, the best practice is to use specific version numbers, so you either stay with what you chose or check what version was <code>latest</code> and use that.<br>\nWe can guide users through this process in the docs, it leaves developers the freedom of choosing, which I think it\u2019s better.</p>\n<blockquote>\n<p>The current sed usage depends on the example config file\u2019s listen_address directive to be placed on line 25. If it is moved in a later commit, the new contents of line 25 will be replaced with the custom directive.</p>\n</blockquote>\n<p>Yes, I\u2019m checking it myself and it doesn\u2019t feel right, and the <code>${LISTEN_ADDR:-0.0.0.0}</code> part works but it\u2019s over-engineered, I don\u2019t know why did I do it that way. <img src=\"https://emoji.discourse-cdn.com/twitter/smile.png?v=12\" title=\":smile:\" class=\"emoji\" alt=\":smile:\" loading=\"lazy\" width=\"20\" height=\"20\"></p>\n<p>I\u2019ll wait for your answer regarding the version <code>ARG</code>s and as soon as you do so I\u2019ll commit a revised Dockerfile and a template for a docker-compose.yaml file.</p>\n<p>Edit: forget why I asked if 2 is better than 1, I didn\u2019t have the context of the Dockerfile and turns out you need them to be separate. I\u2019ll commit in minutes.<br>\nEdit 2: commit id: <a href=\"https://github.com/apple/foundationdb/pull/355/commits/5f3a82c57af04450e2eeb049bd7959f20f8df40c\" rel=\"noopener nofollow ugc\">5f3a82c</a></p>",
        "post_number": 11,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-14T11:02:14.669Z",
        "reply_count": 1,
        "reply_to_post_number": 10,
        "quote_count": 0,
        "incoming_link_count": 119,
        "reads": 91,
        "readers_count": 90,
        "score": 618.2,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Ricard Bejarano",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/355/commits/5f3a82c57af04450e2eeb049bd7959f20f8df40c",
            "internal": false,
            "reflection": false,
            "title": "Added preliminary docker image by bjrnio \u00b7 Pull Request #355 \u00b7 apple/foundationdb \u00b7 GitHub",
            "clicks": 2
          }
        ],
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 230,
          "username": "umpc",
          "name": "Justin Lowery",
          "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 256,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/11",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1102,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-15T00:43:58.172Z",
        "cooked": "<p>I wanted to update this thread with <a href=\"https://github.com/bjrnio/foundationdb/pull/1\" rel=\"nofollow noopener\">a few changes I have submitted</a> to the branch in latest PR.</p>\n<p>Edit: (copied from GitHub)</p>\n<p>Just finished making a few changes.</p>\n<p>Once they have been merged, and <code>docker-compose</code> is confirmed to work, this initial PR is ready for a review and to be merged, unless the core maintainers would first like to see a new PR merged including the removal of auto-starting <code>fdbmonitor</code> and auto-configuring the initial cluster, which allows for removing the hack that deletes the auto-configured database.</p>",
        "post_number": 12,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-15T03:55:25.213Z",
        "reply_count": 1,
        "reply_to_post_number": 11,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 92,
        "readers_count": 91,
        "score": 38.4,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 3,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/bjrnio/foundationdb/pull/1",
            "internal": false,
            "reflection": false,
            "title": "A few potential improvement suggestions by umpc \u00b7 Pull Request #1 \u00b7 bjrnio/foundationdb \u00b7 GitHub",
            "clicks": 17
          }
        ],
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 256,
          "username": "bjrnio",
          "name": "Ricard Bejarano",
          "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/12",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1107,
        "name": "Ricard Bejarano",
        "username": "bjrnio",
        "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png",
        "created_at": "2018-05-15T05:24:01.965Z",
        "cooked": "<p>Let me ask, what is the <code>--init</code> flag there for?</p>",
        "post_number": 13,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-15T05:24:01.965Z",
        "reply_count": 1,
        "reply_to_post_number": 12,
        "quote_count": 0,
        "incoming_link_count": 3,
        "reads": 95,
        "readers_count": 94,
        "score": 39.0,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Ricard Bejarano",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 230,
          "username": "umpc",
          "name": "Justin Lowery",
          "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 256,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/13",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1109,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-15T06:09:39.798Z",
        "cooked": "<p>I saw where the <a href=\"https://forums.foundationdb.org/t/simple-dockerfile/280\">original poster</a> was having trouble with <code>fdbmonitor</code> running with a PID of 1 and <code>--init</code> fixed the problem, so I thought that <code>fdbmonitor</code> was the PID 1 process, which is what happens when you specify <code>ENTRYPOINT</code> instead of <code>CMD</code> in the Dockerfile.</p>\n<p>As it turns out, the shell started by Docker (<code>CMD</code>), that eventually starts <code>fdbmonitor</code>, never exits, making the shell the PID 1 process instead.</p>\n<p>You can leave out <code>--init</code> since that is the case. I\u2019d just forgot to check if it was actually needed here.</p>\n<p>Edit: While it isn\u2019t needed, signals must be passed to fdbmonitor, which cannot run with a PID of 1.</p>",
        "post_number": 14,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-17T07:41:54.345Z",
        "reply_count": 1,
        "reply_to_post_number": 13,
        "quote_count": 0,
        "incoming_link_count": 25,
        "reads": 98,
        "readers_count": 97,
        "score": 149.6,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 2,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 256,
          "username": "bjrnio",
          "name": "Ricard Bejarano",
          "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/14",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1110,
        "name": "Ricard Bejarano",
        "username": "bjrnio",
        "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png",
        "created_at": "2018-05-15T06:52:51.460Z",
        "cooked": "<p>I see, I\u2019ll leave it out for simplicity, I\u2019m also elaborating a little bit on the README.md so people can use it as a reference when official docs are written.</p>",
        "post_number": 15,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-15T06:52:51.460Z",
        "reply_count": 0,
        "reply_to_post_number": 14,
        "quote_count": 0,
        "incoming_link_count": 55,
        "reads": 98,
        "readers_count": 97,
        "score": 309.6,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Ricard Bejarano",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": null,
        "reply_to_user": {
          "id": 230,
          "username": "umpc",
          "name": "Justin Lowery",
          "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png"
        },
        "bookmarked": false,
        "actions_summary": [
          {
            "id": 2,
            "count": 1
          }
        ],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 256,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/15",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 1179,
        "name": "Justin Lowery",
        "username": "umpc",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "created_at": "2018-05-19T05:07:36.523Z",
        "cooked": "<p>A lot of progress has been made so far. I am replying to <a href=\"https://github.com/apple/foundationdb/pull/355#issuecomment-390379565\" rel=\"nofollow noopener\">link</a> anyone watching this thread to the latest updates.</p>\n<p>Any feedback is welcome. If someone uses Windows on bare metal, that is something that still needs to be tested.</p>",
        "post_number": 16,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-05-19T05:07:36.523Z",
        "reply_count": 1,
        "reply_to_post_number": null,
        "quote_count": 0,
        "incoming_link_count": 20,
        "reads": 94,
        "readers_count": 93,
        "score": 123.8,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Justin Lowery",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "link_counts": [
          {
            "url": "https://github.com/apple/foundationdb/pull/355#issuecomment-390379565",
            "internal": false,
            "reflection": false,
            "clicks": 126
          }
        ],
        "read": true,
        "user_title": "",
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 230,
        "hidden": false,
        "trust_level": 2,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/16",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      },
      {
        "id": 2351,
        "name": "Pavan",
        "username": "pavibhai",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/p/e56c9b/{size}.png",
        "created_at": "2018-10-16T20:26:01.085Z",
        "cooked": "<p>Thanks Justin. I have tried out the instructions in the link provided and it works perfectly.</p>\n<p>Are there instructions on using the tar.gz installation somewhere, I was trying that in my docker build unsuccessfully, but maybe this is better.</p>",
        "post_number": 17,
        "post_type": 1,
        "posts_count": 17,
        "updated_at": "2018-10-16T20:26:01.085Z",
        "reply_count": 0,
        "reply_to_post_number": 16,
        "quote_count": 0,
        "incoming_link_count": 5,
        "reads": 71,
        "readers_count": 70,
        "score": 39.2,
        "yours": false,
        "topic_id": 280,
        "topic_slug": "simple-dockerfile",
        "display_username": "Pavan",
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_bg_color": null,
        "flair_color": null,
        "flair_group_id": null,
        "badges_granted": [],
        "version": 1,
        "can_edit": false,
        "can_delete": false,
        "can_recover": false,
        "can_see_hidden_post": false,
        "can_wiki": false,
        "read": true,
        "user_title": "",
        "reply_to_user": {
          "id": 230,
          "username": "umpc",
          "name": "Justin Lowery",
          "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png"
        },
        "bookmarked": false,
        "actions_summary": [],
        "moderator": false,
        "admin": false,
        "staff": false,
        "user_id": 392,
        "hidden": false,
        "trust_level": 0,
        "deleted_at": null,
        "user_deleted": false,
        "edit_reason": null,
        "can_view_edit_history": true,
        "wiki": false,
        "post_url": "/t/simple-dockerfile/280/17",
        "can_accept_answer": false,
        "can_unaccept_answer": false,
        "accepted_answer": false,
        "topic_accepted_answer": null
      }
    ],
    "stream": [
      620,
      632,
      644,
      731,
      1049,
      1051,
      1052,
      1058,
      1059,
      1079,
      1082,
      1102,
      1107,
      1109,
      1110,
      1179,
      2351
    ]
  },
  "timeline_lookup": [
    [
      1,
      2736
    ],
    [
      2,
      2735
    ],
    [
      4,
      2731
    ],
    [
      5,
      2720
    ],
    [
      10,
      2718
    ],
    [
      12,
      2717
    ],
    [
      16,
      2713
    ],
    [
      17,
      2562
    ]
  ],
  "suggested_topics": [],
  "tags": [],
  "tags_descriptions": {},
  "fancy_title": "Simple Dockerfile",
  "id": 280,
  "title": "Simple Dockerfile",
  "posts_count": 17,
  "created_at": "2018-04-26T09:05:55.151Z",
  "views": 8840,
  "reply_count": 10,
  "like_count": 9,
  "last_posted_at": "2018-10-16T20:26:01.085Z",
  "visible": true,
  "closed": false,
  "archived": false,
  "has_summary": false,
  "archetype": "regular",
  "slug": "simple-dockerfile",
  "category_id": 7,
  "word_count": 3696,
  "deleted_at": null,
  "user_id": 187,
  "featured_link": null,
  "pinned_globally": false,
  "pinned_at": null,
  "pinned_until": null,
  "image_url": null,
  "slow_mode_seconds": 0,
  "draft": null,
  "draft_key": "topic_280",
  "draft_sequence": null,
  "unpinned": null,
  "pinned": false,
  "current_post_number": 1,
  "highest_post_number": 17,
  "deleted_by": null,
  "actions_summary": [
    {
      "id": 4,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 8,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 10,
      "count": 0,
      "hidden": false,
      "can_act": false
    },
    {
      "id": 7,
      "count": 0,
      "hidden": false,
      "can_act": false
    }
  ],
  "chunk_size": 20,
  "bookmarked": false,
  "topic_timer": null,
  "message_bus_last_id": 0,
  "participant_count": 6,
  "show_read_indicator": false,
  "thumbnails": null,
  "slow_mode_enabled_until": null,
  "tags_disable_ads": false,
  "related_topics": [
    {
      "fancy_title": "Using official Docker image",
      "id": 1004,
      "title": "Using official Docker image",
      "slug": "using-official-docker-image",
      "posts_count": 3,
      "reply_count": 1,
      "highest_post_number": 3,
      "image_url": null,
      "created_at": "2019-01-09T23:42:00.369Z",
      "last_posted_at": "2019-01-12T02:52:57.801Z",
      "bumped": true,
      "bumped_at": "2019-01-12T02:52:57.801Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 2,
      "views": 1410,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 475,
            "username": "monsiper",
            "name": "mehmet onsiper",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/m/ba9def/{size}.png",
            "trust_level": 1
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "Trying to make docker image; fdbcli says database not created",
      "id": 157,
      "title": "Trying to make docker image; fdbcli says database not created",
      "slug": "trying-to-make-docker-image-fdbcli-says-database-not-created",
      "posts_count": 8,
      "reply_count": 4,
      "highest_post_number": 8,
      "image_url": null,
      "created_at": "2018-04-20T22:06:18.472Z",
      "last_posted_at": "2019-02-12T13:13:54.630Z",
      "bumped": true,
      "bumped_at": "2019-02-12T13:13:54.630Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 5,
      "views": 3095,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 110,
            "username": "jwatte",
            "name": "Jon Watte",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jwatte/{size}/77_2.png",
            "trust_level": 0
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 22,
            "username": "dave",
            "name": "David Scherer",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dave/{size}/89_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 476,
            "username": "dch",
            "name": "Dave Cottlehuber",
            "avatar_template": "/user_avatar/forums.foundationdb.org/dch/{size}/473_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 506,
            "username": "shane",
            "name": "Shane",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/dbc845/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "Dockerized deployment",
      "id": 1561,
      "title": "Dockerized deployment",
      "slug": "dockerized-deployment",
      "posts_count": 9,
      "reply_count": 4,
      "highest_post_number": 9,
      "image_url": null,
      "created_at": "2019-08-05T20:20:23.097Z",
      "last_posted_at": "2019-10-14T17:29:21.819Z",
      "bumped": true,
      "bumped_at": "2019-10-14T17:29:21.819Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 10,
      "views": 4402,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 307,
            "username": "jwr",
            "name": "Jan Rychter",
            "avatar_template": "/user_avatar/forums.foundationdb.org/jwr/{size}/302_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 13,
            "username": "alexmiller",
            "name": "Alex Miller",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 3,
            "username": "john_brownlee",
            "name": "John Brownlee",
            "avatar_template": "/user_avatar/forums.foundationdb.org/john_brownlee/{size}/22_2.png",
            "admin": true,
            "trust_level": 4
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 8,
            "username": "alloc",
            "name": "Alec Grieser",
            "avatar_template": "/user_avatar/forums.foundationdb.org/alloc/{size}/9_2.png",
            "trust_level": 4
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 372,
            "username": "seancarroll",
            "name": "Sean Carroll",
            "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/s/4af34b/{size}.png",
            "trust_level": 1
          }
        }
      ]
    },
    {
      "fancy_title": "How to add a server container to a cluster",
      "id": 394,
      "title": "How to add a server container to a cluster",
      "slug": "how-to-add-a-server-container-to-a-cluster",
      "posts_count": 4,
      "reply_count": 1,
      "highest_post_number": 4,
      "image_url": null,
      "created_at": "2018-05-10T12:23:45.716Z",
      "last_posted_at": "2018-05-11T19:37:00.210Z",
      "bumped": true,
      "bumped_at": "2018-05-11T19:37:00.210Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 3,
      "views": 2461,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 187,
            "username": "hiroshi",
            "name": "",
            "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 118,
            "username": "abdullin",
            "name": "Rinat Abdullin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/abdullin/{size}/83_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 12,
            "username": "ajbeamon",
            "name": "A.J. Beamon",
            "avatar_template": "/user_avatar/forums.foundationdb.org/ajbeamon/{size}/13_2.png",
            "admin": true,
            "trust_level": 4
          }
        }
      ]
    },
    {
      "fancy_title": "How are &lsquo;contributing_workers&rsquo; computed?",
      "id": 360,
      "title": "How are 'contributing_workers' computed?",
      "slug": "how-are-contributing-workers-computed",
      "posts_count": 20,
      "reply_count": 13,
      "highest_post_number": 20,
      "image_url": null,
      "created_at": "2018-05-07T00:53:18.538Z",
      "last_posted_at": "2018-05-12T07:19:34.562Z",
      "bumped": true,
      "bumped_at": "2018-05-12T07:19:34.562Z",
      "archetype": "regular",
      "unseen": false,
      "pinned": false,
      "unpinned": null,
      "visible": true,
      "closed": false,
      "archived": false,
      "bookmarked": null,
      "liked": null,
      "tags": [],
      "tags_descriptions": {},
      "like_count": 6,
      "views": 1986,
      "category_id": 7,
      "featured_link": null,
      "has_accepted_answer": false,
      "posters": [
        {
          "extras": null,
          "description": "Original Poster",
          "user": {
            "id": 236,
            "username": "marctrem",
            "name": "Marc-Andr\u00e9 Tremblay",
            "avatar_template": "/user_avatar/forums.foundationdb.org/marctrem/{size}/208_2.png",
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 54,
            "username": "Evan",
            "name": "Evan Tschannen",
            "avatar_template": "/user_avatar/forums.foundationdb.org/evan/{size}/104_2.png",
            "moderator": true,
            "trust_level": 1
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 156,
            "username": "spullara",
            "name": "Sam Pullara",
            "avatar_template": "/user_avatar/forums.foundationdb.org/spullara/{size}/125_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": null,
          "description": "Frequent Poster",
          "user": {
            "id": 247,
            "username": "Chr1st0ph",
            "name": "Chr1st0ph",
            "avatar_template": "/user_avatar/forums.foundationdb.org/chr1st0ph/{size}/353_2.png",
            "trust_level": 2
          }
        },
        {
          "extras": "latest",
          "description": "Most Recent Poster",
          "user": {
            "id": 118,
            "username": "abdullin",
            "name": "Rinat Abdullin",
            "avatar_template": "/user_avatar/forums.foundationdb.org/abdullin/{size}/83_2.png",
            "trust_level": 2
          }
        }
      ]
    }
  ],
  "summarizable": false,
  "can_vote": false,
  "vote_count": 0,
  "user_voted": false,
  "discourse_zendesk_plugin_zendesk_id": null,
  "discourse_zendesk_plugin_zendesk_url": "https://your-url.zendesk.com/agent/tickets/",
  "details": {
    "can_edit": false,
    "notification_level": 1,
    "participants": [
      {
        "id": 230,
        "username": "umpc",
        "name": "Justin Lowery",
        "avatar_template": "/user_avatar/forums.foundationdb.org/umpc/{size}/203_2.png",
        "post_count": 6,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 187,
        "username": "hiroshi",
        "name": "",
        "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png",
        "post_count": 4,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 1
      },
      {
        "id": 256,
        "username": "bjrnio",
        "name": "Ricard Bejarano",
        "avatar_template": "/user_avatar/forums.foundationdb.org/bjrnio/{size}/235_2.png",
        "post_count": 3,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      },
      {
        "id": 13,
        "username": "alexmiller",
        "name": "Alex Miller",
        "avatar_template": "/user_avatar/forums.foundationdb.org/alexmiller/{size}/326_2.png",
        "post_count": 2,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 4
      },
      {
        "id": 247,
        "username": "Chr1st0ph",
        "name": "Chr1st0ph",
        "avatar_template": "/user_avatar/forums.foundationdb.org/chr1st0ph/{size}/353_2.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 2
      },
      {
        "id": 392,
        "username": "pavibhai",
        "name": "Pavan",
        "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/p/e56c9b/{size}.png",
        "post_count": 1,
        "primary_group_name": null,
        "flair_name": null,
        "flair_url": null,
        "flair_color": null,
        "flair_bg_color": null,
        "flair_group_id": null,
        "trust_level": 0
      }
    ],
    "created_by": {
      "id": 187,
      "username": "hiroshi",
      "name": "",
      "avatar_template": "/user_avatar/forums.foundationdb.org/hiroshi/{size}/147_2.png"
    },
    "last_poster": {
      "id": 392,
      "username": "pavibhai",
      "name": "Pavan",
      "avatar_template": "https://avatars.discourse-cdn.com/v4/letter/p/e56c9b/{size}.png"
    },
    "links": [
      {
        "url": "https://github.com/hiroshi/foundationdb-docker",
        "title": "GitHub - hiroshi/foundationdb-docker: A docker file for running FoundationDB server and client",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 438,
        "user_id": 187,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/355#issuecomment-390379565",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 126,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/300#issuecomment-388516369",
        "title": "Create an official foundationDB image on DockerHub \u00b7 Issue #300 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 31,
        "user_id": 187,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/Chr1st0ph/foundationdb-docker",
        "title": "GitHub - Chr1st0ph/foundationdb-docker: Docker image sources for https://hub.docker.com/r/chr1st0ph/foundationdb/",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 22,
        "user_id": 247,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/Chr1st0ph/foundationdb-kubernetes",
        "title": "GitHub - Chr1st0ph/foundationdb-kubernetes: FoundationDB running on Kubernetes",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 19,
        "user_id": 247,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/bjrnio/foundationdb/pull/1",
        "title": "A few potential improvement suggestions by umpc \u00b7 Pull Request #1 \u00b7 bjrnio/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 17,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/release-5.1/packaging/make_public.py",
        "title": "foundationdb/make_public.py at release-5.1 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 14,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/355#issuecomment-388702720",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 11,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/382",
        "title": "Improvement request: make \"127.0.0.1 detault server setup\" optional for installation \u00b7 Issue #382 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 9,
        "user_id": 247,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://forums.foundationdb.org/t/feature-request-hostnames-for-coordinators/402/2",
        "title": "Feature request: hostnames for coordinators",
        "internal": true,
        "attachment": false,
        "reflection": false,
        "clicks": 5,
        "user_id": 230,
        "domain": "forums.foundationdb.org",
        "root_domain": "foundationdb.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/blob/release-5.1/packaging/deb/DEBIAN-foundationdb-server/postinst",
        "title": "foundationdb/postinst at release-5.1 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 4,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://www.gluster.org/",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 230,
        "domain": "www.gluster.org",
        "root_domain": "gluster.org"
      },
      {
        "url": "https://github.com/apple/foundationdb/issues/354",
        "title": "No HOST support in fdb.cluster \u00b7 Issue #354 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 3,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/apple/foundationdb/pull/355/commits/5f3a82c57af04450e2eeb049bd7959f20f8df40c",
        "title": "Added preliminary docker image by bjrnio \u00b7 Pull Request #355 \u00b7 apple/foundationdb \u00b7 GitHub",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 256,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://github.com/moby/moby/issues/18246#issuecomment-298783508",
        "title": null,
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 2,
        "user_id": 230,
        "domain": "github.com",
        "root_domain": "github.com"
      },
      {
        "url": "https://docs.docker.com/storage/bind-mounts/",
        "title": "Use bind mounts | Docker Documentation",
        "internal": false,
        "attachment": false,
        "reflection": false,
        "clicks": 1,
        "user_id": 230,
        "domain": "docs.docker.com",
        "root_domain": "docker.com"
      }
    ]
  },
  "bookmarks": []
}